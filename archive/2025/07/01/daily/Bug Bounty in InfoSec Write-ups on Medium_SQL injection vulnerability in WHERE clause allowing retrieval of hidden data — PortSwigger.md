---
title: SQL injection vulnerability in WHERE clause allowing retrieval of hidden data — PortSwigger
url: https://infosecwriteups.com/sql-injection-vulnerability-in-where-clause-allowing-retrieval-of-hidden-data-portswigger-12342def10ec?source=rss----7b722bfd1b8d--bug_bounty
source: Bug Bounty in InfoSec Write-ups on Medium
date: 2025-07-01
fetch_date: 2025-10-06T23:52:32.602429
---

# SQL injection vulnerability in WHERE clause allowing retrieval of hidden data — PortSwigger

[Sitemap](/sitemap/sitemap.xml)

[Open in app](https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F12342def10ec&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&%7Estage=mobileNavBar&source=post_page---top_nav_layout_nav-----------------------------------------)

Sign up

[Sign in](https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Finfosecwriteups.com%2Fsql-injection-vulnerability-in-where-clause-allowing-retrieval-of-hidden-data-portswigger-12342def10ec&source=post_page---top_nav_layout_nav-----------------------global_nav------------------)

[Medium Logo](https://medium.com/?source=post_page---top_nav_layout_nav-----------------------------------------)

[Write](https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---top_nav_layout_nav-----------------------new_post_topnav------------------)

[Search](https://medium.com/search?source=post_page---top_nav_layout_nav-----------------------------------------)

Sign up

[Sign in](https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Finfosecwriteups.com%2Fsql-injection-vulnerability-in-where-clause-allowing-retrieval-of-hidden-data-portswigger-12342def10ec&source=post_page---top_nav_layout_nav-----------------------global_nav------------------)

![](https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png)

[## InfoSec Write-ups](https://infosecwriteups.com/?source=post_page---publication_nav-7b722bfd1b8d-12342def10ec---------------------------------------)

·

Follow publication

[![InfoSec Write-ups](https://miro.medium.com/v2/resize:fill:76:76/1*SWJxYWGZzgmBP1D0Qg_3zQ.png)](https://infosecwriteups.com/?source=post_page---post_publication_sidebar-7b722bfd1b8d-12342def10ec---------------------------------------)

A collection of write-ups from the best hackers in the world on topics ranging from bug bounties and CTFs to vulnhub machines, hardware challenges and real life encounters. Subscribe to our weekly newsletter for the coolest infosec updates: <https://weekly.infosecwriteups.com/>

Follow publication

# SQL injection vulnerability in WHERE clause allowing retrieval of hidden data — PortSwigger

[![RayofHope](https://miro.medium.com/v2/resize:fill:64:64/1*pb6R-58-0JIs9DggdPv4MA.jpeg)](https://arayofhope7.medium.com/?source=post_page---byline--12342def10ec---------------------------------------)

[RayofHope](https://arayofhope7.medium.com/?source=post_page---byline--12342def10ec---------------------------------------)

5 min read

·

Apr 5, 2025

--

2

Listen

Share

Hi, my fellow hackers. This is Rayofhope. I have over 5 years of experience and am currently working as a consultant with a Big 4 firm.

Starting today, I’ll be posting all the PortSwigger labs — but not just the solutions. I’ll break down *why* we take each step, because once the ‘why’ is clear, the ‘how’ becomes easy.

**Let's Start:**

![]()

> **Video Walkthrough** — You can watch the video or read the blog, totally up to you. But if you ask me, start with the video, then read the blog to connect all the dots.

W**hat is SQL?**

**SQL (Structured Query Language)** is used to query and manage data in a database. It enables web applications to communicate with database software to **retrieve or store information efficiently.**

W**hat is a Database?**

A **database** is a structured collection of data stored by a website. It can include all kinds of application-related information such as **user details, messages, posts, comments,** etc..

Now we know what SQL is and what a database is, but what exactly is **SQLi (SQL Injection)?**

S**QLi (SQL Injection)**

SQL Injection is a code injection technique used to attack data-driven applications, where malicious SQL statements are inserted into an input field for execution (e.g., to dump the database contents to the attacker).

![]()

Let me tell you the basic commands that you’ll often use in SQL Injection, and that we’ll be using here as well.

> **SELECT:** Used to retrieve data from a database (**SELECT name FROM rayofhope**)
>
> **FROM:** Specifies the table from which to retrieve data **(SELECT name FROM rayofhope)**
>
> **WHERE Clause:** Filters records that fulfill a specified condition **(SELECT \* FROM rayofhope WHERE id = ‘1’)**
>
> **AND / OR (Operators):** Used to combine multiple conditions (**SELECT \* FROM rayofhope WHERE username = ‘arayofhope’ OR ‘1’=’1')**
>
> **ORDER BY:** Used to sort results, but in SQLi, it’s used to determine the number of columns **(SELECT \* FROM rayofhope ORDER BY 3) —** Here, we will find out whether the table ‘rayofhope’ has 3 columns or not.
>
> **UNION:** Combines results of two or more SELECT statements used in **Union-based SQL injection (SELECT username, password FROM rayofhope
> UNION SELECT null, version())**

***Well, well, well — there are more commands out there, but for now, these are the most common ones we’ll be using.***

This is how the application looks.

Press enter or click to view image in full size

![]()

Let’s see if we can find any parameters in it, and we do have one: the parameter `category` With the value `accessories`.

Press enter or click to view image in full size

![]()

I changed the value to `1`, and we can see it is Projecting, which means it could be vulnerable to SQL Injection.

Press enter or click to view image in full size

![]()

Let’s intercept the request and send it to the Repeater.

Press enter or click to view image in full size

![]()

Here’s what the response looks like.

Press enter or click to view image in full size

![]()

Used a double quote (`"`) and it returned a 200 OK response.

Press enter or click to view image in full size

![]()

Used a single quote (`'`), and it returned a 500 Internal Server Error.

Press enter or click to view image in full size

![]()

We are getting a 200 OK response with any number or input, but when we use a single quote (`'`), it throws an error. This means the developer has used single quotes in the SQL query, and since the single quote breaks the query, we can try to exploit it further.

Press enter or click to view image in full size

![]()

I used `1' ORDER BY 10--+` and it threw an Internal Server Error, which means the table doesn't have 10 columns. I used`1' ORDER BY 8--+`it to return a 200 OK response, which means the application has 8 columns.

Press enter or click to view image in full size

![]()

Now, our goal is to find one or more unreleased products. We used `' OR 1=1--`, where `1=1` is always true, and the single quote (`'`) breaks the original query. As a result, we were able to solve the lab using SQL Injection.

Press enter or click to view image in full size

![]()

Hurray! We did it!

Press enter or click to view image in full size

![]()

Pro Tip: I could have easily solved this in one go, but since many of you ask how to approach it in a real-time environment, I explained it step by step.

<https://youtu.be/dduLo6sr3Nw?si=xtFlvqRN8CnNvQsH>

Happy Hunting — Do hit a like and follow for the best content

![]()

LinkedIn: <https://www.linkedin.com/in/ray-of-hope/>

YouTube Channel: [www.youtube.com/@arayofhope7](http://www.youtube.com/%40arayofhope7)

Twitter: <https://x.com/ray_of_hope7>

Instagram: <https://www.instagram.com/a_rayofhope7/>

[Bug Bounty](https://medium.com/tag/bug-bounty?source=post_page-----12342def10ec---------------------------------------)

[Vapt](https://medium.com/tag/vapt?source=post_page-----12342def10ec---------------------------------------)

[Sql Injection](https://medium.com/tag/sql-injection?source=post_page-----12342def10ec---------------------------------------)

[Penetration Testing](https://medium.com/tag/penetration-testing?source=post_page-----12342def10ec---------------------------------------)

[Cyber Security Courses](https://medium.com/tag/cyber-security-courses?source=post_page-----12342def10ec---------------------------------------)

--

--

2

[![InfoSec Write-ups](https...