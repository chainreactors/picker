---
title: 熬夜游戏 2 — 《触动精灵》之战
url: https://h4ck.org.cn/2024/10/18337
source: obaby@mars
date: 2024-10-19
fetch_date: 2025-10-06T18:51:29.738115
---

# 熬夜游戏 2 — 《触动精灵》之战

[![obaby@mars](/wp-content/uploads/2023/08/logo-pink-small.png)](https://h4ck.org.cn)

Artificial Intelligence / Reverse Engineering / Internet of Things / Full Stack Developer

* [※说说/Talk※](https://h4ck.org.cn/talk)
* [※留言/Msg※](https://h4ck.org.cn/guestbook)
* [※归档/File※](https://h4ck.org.cn/myarchive)
* [※资源/Res※](https://h4ck.org.cn/res-page)
* [※我是谁/Me※](https://h4ck.org.cn/whoami)
* [※集美们/Besties※](https://h4ck.org.cn/besties)

 [Menu](#mobilemenu)

* [※说说/Talk※](https://h4ck.org.cn/talk)
* [※留言/Msg※](https://h4ck.org.cn/guestbook)
* [※归档/File※](https://h4ck.org.cn/myarchive)
* [※资源/Res※](https://h4ck.org.cn/res-page)
* [※我是谁/Me※](https://h4ck.org.cn/whoami)
* [※集美们/Besties※](https://h4ck.org.cn/besties)

[个人日记『Diary』](https://h4ck.org.cn/cats/dddd/grrj)

# 熬夜游戏 2 — 《触动精灵》之战

2024年10月18日
[49 条评论](https://h4ck.org.cn/2024/10/18337#comments)

[![](https://h4ck.org.cn/wp-content/uploads/2024/10/2024_09_19_15_05_IMG_5477-scaled-e1729213702402.jpg)](https://h4ck.org.cn/wp-content/uploads/2024/10/2024_09_19_15_05_IMG_5477-scaled-e1729213702402.jpg)

昨天下午还没下班的时候，就收到学校老师发的暴雨大风预警信息。其他的各种信息渠道也在推送这条消息，到了晚上八点多就开始淅淅沥沥的下雨，隔着窗户都能听到雨水滴落的声音。

宝子想让自己陪她玩，但是晚上作业还是蛮多的，就让她先把各种作业做完。自己继续研究自动发朋友圈的问题。前天晚上一直ide 连不上模拟器的服务，导致无法远程运行 ide 带的各种工具也跑不起来，总不能为了获取点击坐标还得截图之后自己去看吧？这就有些离谱了，更何况为了测试这个破东西还花 3 0 多买了安卓版的 vip 年卡。

[![](https://h4ck.org.cn/wp-content/uploads/2024/10/Screenshot-2024-10-17-213721.png)](https://h4ck.org.cn/wp-content/uploads/2024/10/Screenshot-2024-10-17-213721.png)

白天的时候联系客服寻求解决方案，结果两个客服一个离线，另外一个说话阴阳怪气。按照 ide 的提示是账号没有购买套餐或者没有所谓的授权，于是一直觉得是账号 vip 信息没有同步，结果最后才发现是 ide 使用 usb 连接有问题，不得不说，这些傻屌程序员给的提示也是脑子有病，这所谓的客服连自己加的产品的尿性都不清楚，还在那里叨逼叨。

![](https://h4ck.org.cn/wp-content/uploads/2024/10/qq_pic_merged_1729213597751.jpg)

所以这个破东西就是纯粹的 tm 不能用 usb 连接，选择局域网还得开网桥，我本以为 usb 是稳定的，结果 tmusb 的反而不行。

如果安卓版本提示下面的傻逼错误，请更换连接方式：

```
该账号未授权，请购买套餐或获取试用后再使用
该账号未授权，请购买套餐或获取试用后再使用
该账号未授权，请购买套餐或获取试用后再使用
该账号未授权，请购买套餐或获取试用后再使用
该账号未授权，请购买套餐或获取试用后再使用
```

就这种傻逼错误，提示了 tmd 还不如不提示，误导人。就 tm 贼烦。王桥链接，模拟器要锁定屏幕尺寸，不然不小心把窗口拖大了或者拖小了所有的坐标都得重来一遍：

[![](https://h4ck.org.cn/wp-content/uploads/2024/10/Screenshot-2024-10-17-213815.png)](https://h4ck.org.cn/wp-content/uploads/2024/10/Screenshot-2024-10-17-213815.png) [![](https://h4ck.org.cn/wp-content/uploads/2024/10/Screenshot-2024-10-17-213804.png)](https://h4ck.org.cn/wp-content/uploads/2024/10/Screenshot-2024-10-17-213804.png)

最近这段时间又下载了不少电影，但是却没有时间看，就那么扔着，在下载站乱逛的时候发现了《默杀》这个在之前短视频平台看过一点点介绍，感觉有点意思，下载下来一遍改代码一边看。

然而，电影的叙事方式比较混乱，当前与过往来回穿插，导致如果错过了一些镜头可能对于剧情的理解就会出现偏差。暂停电影，把脚本全部写完之后继续观看，不过此时已经十一点了，看了下时长还有一个小时。午夜时分刚好能看完。电影在豆瓣的评分不高，个人感觉作为一部反映霸凌问题的电影还是可圈可点的。人物刻画也比较细腻，正片看下来的感觉就是这个地方没有一个正常人。各种扭曲的行为：霸凌、虐待、强奸（继父强奸女儿）、包庇等等。也有几处意外的反转，不算太强硬，对于人物的精神状态表现还是比较丰满的，所以我在豆瓣上给了五星。对于霸凌的态度，我一向都是以牙还牙以眼还眼的态度，如果自己的女儿被虐杀，我也会做出片中爸爸的这种行为，甚至可能会更加激进。

回到游戏的话题，那就是最后代码改成了下面的样子：

```
require "TSLib"

toast("朋友圈自动截屏发布工具\r\n by:obaby \r\n V1.03 \r\nhttps://oba.by\r\nhttps://h4ck.org.cn",tim)

current_time = os.date("%Y-%m-%d_%H:%M", os.time()) --以时间戳命名进行截图

w, h = getScreenSize()
-- 右下角顶点坐标最大为 (宽度最大值 - 1，高度最大值 - 1)
snapshot(current_time .. ".png", 0, 0, w - 1, h - 1)
saveImageToAlbum(current_time .. ".png")
state = runApp("com.tencent.mm")
print(state)
-- mSleep(1000);
-- wid = widget.find({["id"]="android:id/home"})
-- if wid then
--      mSleep(1000)
--         toast("此控件支持点击",5)
--         mSleep(5000)
--         widget.click(wid)
-- end
mSleep(5000)

wid = widget.find({["id"] = "com.tencent.mm:id/cl2"})
if not wid then
    tap(570, 1549)
    mSleep(1000)
    wid = widget.find({["id"] = "android:id/text1", ["text"] = "发现"})
    if wid then
        -- mSleep(1000)
        toast("发现页面 点击朋友圈", 1)
        mSleep(5000)
        -- widget.click(wid)
        tap(444, 220)
    end
else
    toast("已经在朋友圈页面", 1)
end

mSleep(5000)
toast("点击右上角图片", 1)
tap(837, 104)
mSleep(5000)
toast("点击从相册选择")
mSleep(5000)
tap(500, 1350)
toast("选择第一张图片", 1)
mSleep(5000)
tap(170, 202)
-- tap(180,202);
-- tap(170,202,50,'1.png',1);
mSleep(5000)
toast("点击完成", 1)
tap(800, 1542)
mSleep(3000)
toast("点击输入框", 1)
tap(300, 250)

current_time = os.date("%Y-%m-%d %H:%M", os.time()) --以时间戳命名进行截图
inputText("整点报时：" .. current_time)
toast("点击发布", 1)
tap(800, 100)
toast("测试结束", 1)
```

测试效果：

[![](https://h4ck.org.cn/wp-content/uploads/2024/10/Screenshot-2024-10-17-213754.png)](https://h4ck.org.cn/wp-content/uploads/2024/10/Screenshot-2024-10-17-213754.png)

实际使用定时器的效果：

[![](https://h4ck.org.cn/wp-content/uploads/2024/10/Screenshot-2024-10-17-230218.png)](https://h4ck.org.cn/wp-content/uploads/2024/10/Screenshot-2024-10-17-230218.png)

嗯，基于触动精灵自带的定时运行和循环运行就可以实现整点发布朋友圈了。当然，这个循环也可以直接写代码里，但是那样就有点烦了，怎么简单怎么搞吧。就酱紫，可以愉快的睡觉啦。

☆版权☆

\* 网站名称：**[obaby@mars](https://h4ck.org.cn/)**
\* 网址：<https://h4ck.org.cn/>
\* 个性：<https://oba.by/>
\* 本文标题： [《熬夜游戏 2 — 《触动精灵》之战》](https://h4ck.org.cn/2024/10/18337)
\* 本文链接：<https://h4ck.org.cn/2024/10/18337>
\* 短链接：<https://oba.by/?p=18337>
\* 转载文章请标明文章来源，原文标题以及原文链接。请遵从 [《署名-非商业性使用-相同方式共享 2.5 中国大陆 (CC BY-NC-SA 2.5 CN) 》](https://creativecommons.org/licenses/by-nc-sa/2.5/cn/)许可协议。

---

[lua](https://h4ck.org.cn/tags/lua)[熬夜游戏](https://h4ck.org.cn/tags/%E7%86%AC%E5%A4%9C%E6%B8%B8%E6%88%8F)[触动精灵](https://h4ck.org.cn/tags/%E8%A7%A6%E5%8A%A8%E7%B2%BE%E7%81%B5)[默杀](https://h4ck.org.cn/tags/%E9%BB%98%E6%9D%80)

[Previous Post](https://h4ck.org.cn/2024/10/18372)
[Next Post](https://h4ck.org.cn/2024/10/18332)

![obaby](https://gg.lang.bi/avatar/d6ebc088df916bcc9e8b94a09f9b0f604e57be54b04bd520c6db2492740fc563?s=90&d=identicon&r=r)

#### obaby

爱好广泛的火星小妖精，有问题欢迎留言交流啊~(✪ω✪)
爬虫类工具请先点击这个链接查看用法https://oba.by/?p=12240
闺蜜圈APP下载 https://guimiquan.cn

#### 猜你喜欢：

2024年8月7日

#### [愚妄](https://h4ck.org.cn/2024/08/17775)

2023年5月9日

#### [LGBTQIA](https://h4ck.org.cn/2023/05/12008)

2024年5月15日

#### [天打雷劈⚡️](https://h4ck.org.cn/2024/05/17033)

### 49 comments

1. ![](https://gg.lang.bi/avatar/1c03767b0691f80231895255661bcf42eceab95dc8b493ee80c835b07f577f49?s=64&d=identicon&r=r) **[Teacher Du](https://dusays.com)**说道：

   [2024年10月18日 10:40](https://h4ck.org.cn/2024/10/18337#comment-119870)

   ![](https://badgen.net/badge/友链/集美们/blue?icon=chrome) ![Level 6](https://badgen.net/badge/亲密度/Level 6/red?icon=codebeat)

   ![Google Chrome 102](https://h4ck.org.cn/wp-content/plugins/wp-useragent/img/16/net/chrome.png "Google Chrome 102") Google Chrome 102 ![GNU/Linux](https://h4ck.org.cn/wp-content/plugins/wp-useragent/img/16/os/linux.png "GNU/Linux") GNU/Linux ![cn](https://h4ck.org.cn/wp-content/plugins/wp-useragent/show-useragent/flags_svg/cn.svg "cn")

   快推给你好友里的微商，他们肯定会高价买！

   [回复](#comment-119870)

   1. ![](https://gg.lang.bi/avatar/d6ebc088df916bcc9e8b94a09f9b0f604e57be54b04bd520c6db2492740fc563?s=64&d=identicon&r=r)

      [2024年10月18日 10:55](https://h4ck.org.cn/2024/10/18337#comment-119871)

      ![公主](https://badgen.net/badge/管理员/小妖精/ff91a4?icon=terminal) ![Queen](https://badgen.net/badge/角色/女王/red?icon=matrix)

      ![Google Chrome 126](https://h4ck.org.cn/wp-content/plugins/wp-useragent/img/16/net/chrome.png "Google Chrome 126") Google Chrome 126 ![Mac OS X 10.15](https://h4ck.org.cn/wp-content/plugins/wp-useragent/img/16/os/mac-3.png "Mac OS X 10.15") Mac OS X 10.15 ![cn](https://h4ck.org.cn/wp-content/plugins/wp-useragent/show-useragent/flags_svg/cn.svg "cn")

      这，我好友里没有啊。

      [回复](#comment-119871)
   2. ![](https://gg.lang.bi/avatar/b29da4f509dd86b8600f9f663b48fe16958b3f55cb6263c4c3477a140b2311cf?s=64&d=identicon&r=r)

      [2024年10月18日 11:40](https://h4ck.org.cn/2024/10/18337#comment-119884)

      ![](https://badgen.net/badge/用户/已认证/CCFF33?icon=rss) ![](https://badgen.net/badge/友链/集美们/blue?icon=chrome) ![Level 4](https://badgen.net/badge/亲密度/Level 4/yellow?icon=codebeat)

      ![Microsoft Edge 123](https://h4ck.org.cn/wp-content/plugins/wp-useragent/img/16/net/edge-2.png "Microsoft Edge 123") Microsoft Edge 123 ![Android 10](https://h4ck.org.cn/wp-content/plugins/wp-useragent/img/16/os/android.png "Android 10") Android 10 ![cn](https://h4ck.org.cn/wp-content/plugins/wp-useragent/show-useragent/flags_svg/cn....