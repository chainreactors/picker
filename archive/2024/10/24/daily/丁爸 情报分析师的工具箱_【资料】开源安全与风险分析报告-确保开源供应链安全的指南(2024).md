---
title: 【资料】开源安全与风险分析报告-确保开源供应链安全的指南(2024)
url: https://mp.weixin.qq.com/s?__biz=MzI2MTE0NTE3Mw==&mid=2651147308&idx=1&sn=dfd26e2c191efa15926ed7407451872b&chksm=f1af3b16c6d8b200f9bddab8af2b133ebfeba52631ddf19ba3944801719e4e62b8e6c713e7c0&scene=58&subscene=0#rd
source: 丁爸 情报分析师的工具箱
date: 2024-10-24
fetch_date: 2025-10-06T18:52:37.988760
---

# 【资料】开源安全与风险分析报告-确保开源供应链安全的指南(2024)

![cover_image](https://mmbiz.qpic.cn/mmbiz_jpg/B0AKMb5va5zXPhf5Gh9E0uIZ4u5MbmKCXgro0DHHwsM7Nof9rGBjiaj901RFxMgNlMtqBa7btsCSZiamyQFJLMaw/0?wx_fmt=jpeg)

# 【资料】开源安全与风险分析报告-确保开源供应链安全的指南(2024)

丁爸 情报分析师的工具箱

本报告提供了一些建议，帮助开源软件的创建者和消费者负责任地管理软件，特别是在保护软件供应链的背景下。无论是软件的消费者还是提供商，您都是软件供应链的一部分，需要保护您使用的应用程序免受上游和下游风险的影响。在以下页面中，我们将研究

* 持续存在的开源安全问题
* 为什么开发人员需要改进以保持开源组件的更新
* 软件供应链管理需要软件物料清单 (SBOM)
* 如何防范人工智能编码工具带来的安全和 IP 合规风险

近十年来，“开源安全与风险分析”（OSSRA）报告的主要主题一直是“*您知道您的代码里有什么吗？”*在 2024 年，这个问题比以往任何时候都更加重要。随着开源的普及和 AI 生成代码的兴起，现在越来越多的应用程序是用第三方代码构建的。

如果不能全面了解代码中的内容，您、供应商和最终用户都无法确定软件可能包含哪些风险。保护软件供应链首先要了解代码中包含哪些开源组件，并确定它们各自的许可证、代码质量和潜在漏洞。

### 关于 2024 年 OSSRA

2024 年 OSSRA 报告已发布第九版，深入探讨了商业软件中开源安全、合规、许可和代码质量风险的现状。本报告提出研究结果的目的是帮助安全、法律、风险和开发团队更好地了解开源安全和许可风险状况。

本报告使用的数据来自 Black Duck® 审计服务团队对 2023 年 17 个行业 1,067 个商业代码库的匿名调查结果的分析。审计服务团队 20 多年来一直帮助世界各地的安全、开发和法律团队加强其安全和许可合规计划。该团队每年为我们的客户审计数千个代码库，主要目的是在并购 (M&A) 交易期间识别软件风险。

审计还提供了全面、准确的软件物料清单，涵盖了组织应用程序中的开源、第三方代码、Web 服务和应用程序编程接口 (API)。审计服务团队依靠 Black Duck KnowledgeBase™ 中的数据来识别潜在的许可证合规性和安全风险。该 KnowledgeBase 由 Black Duck 网络安全研究中心 (CyRC) 提供和整理，包含来自 31,000 多个锻造厂和存储库的 780 多万个开源组件的数据。

OSSRA 报告强调了开源在软件中的普遍性以及管理不善的潜在危险。开源是当今企业和消费者所依赖的所有应用程序的基础。有效地识别、跟踪和管理开源对于成功的软件安全计划至关重要，也是加强软件供应链安全的关键要素。

![](https://mmbiz.qpic.cn/mmbiz_png/B0AKMb5va5zXPhf5Gh9E0uIZ4u5MbmKCc9WFmzfI5VIicFiapSm04RrsabsHoK5NFT4QGjjHQxkp15JU6TlDWAGA/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/mmbiz_png/B0AKMb5va5zXPhf5Gh9E0uIZ4u5MbmKCxBagfNuRaPibRNlJibL2TL6fnyAQA0iaXq5iabndeia7fbwWBksJPwuB6IA/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/mmbiz_png/B0AKMb5va5zXPhf5Gh9E0uIZ4u5MbmKC3JetcibeFrdOjNsHUUbQu6d41lsHpqynPlSO0lttc3Gv93fY0sHzecQ/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/mmbiz_png/B0AKMb5va5zXPhf5Gh9E0uIZ4u5MbmKCljkH4y4lkrDwT0L8qxOyGnGRgUFrHCAH35HcjXoibEr1JtY720d4MKg/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/mmbiz_png/B0AKMb5va5zXPhf5Gh9E0uIZ4u5MbmKCicsJcJcN1n4HHmjiakQcu9nFwyuhIzXs4rbVR2aQwcN1dn5obrW5f0jg/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/mmbiz_png/B0AKMb5va5zXPhf5Gh9E0uIZ4u5MbmKCibcib75pLxIXNP4QZqc86IHTZIXRkMggO9cbkefsVw9ZWRdUiathiagxXw/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/mmbiz_png/B0AKMb5va5zXPhf5Gh9E0uIZ4u5MbmKCVwY1EvGEgfHlnKeAVdd2Ofc4u8RcPzd8qlUNxOXu1VibtCGJ4B4MmIw/640?wx_fmt=png&from=appmsg)

审计说明所有 Black Duck 审计都会检查开源许可证合规性。客户可以自行选择退出审计的漏洞/操作风险评估部分。2023 年，Black Duck 审计服务团队进行了 1,067 次审计。在这些审计中，88%（936 次）还进行了漏洞/操作风险评估。2024 年 OSSRA 报告中“开源漏洞和安全性”和“影响开源风险的运营因素”部分中的数据基于包含风险评估的 936 个代码库。“开源许可”部分中的数据基于所有 1,067 个代码库。

在黑鸭子审计服务团队分析的 1,067 个代码库中，有 96% 包含开源代码，这些代码库是今年 OSSRA 报告的基础数据。扫描的所有源代码和文件中，有 77% 源自开源代码。

今年，给定应用程序中开源组件的平均数量为 526 个，这是一个实际例子，表明自动化安全测试的重要性，即使不是绝对必要。手动测试对于少量组件来说可能是可行的，但对于大规模组件来说几乎是不可能的，需要使用软件组合分析 (SCA) 等自动化解决方案。与手动测试不同，自动化安全测试可以快速、一致地执行，使开发人员能够在开发过程的早期发现问题，而不会影响交付计划或生产力。

包含风险评估的代码库中，84% 包含至少一个已知开源漏洞。这些代码库中有 74% 包含高风险漏洞，与 2022 年相比有显著增长，当时只有 48% 的代码库被发现包含高风险漏洞。高风险漏洞是指那些已被积极利用、已有记录的概念验证漏洞或被归类为远程代码执行漏洞的漏洞。

![](https://mmbiz.qpic.cn/mmbiz_png/B0AKMb5va5zXPhf5Gh9E0uIZ4u5MbmKCC5ibmBC6vib4mqZeyCKN343sbMsazJpAnQgEjOKs7cXD4dclhFr0RmZA/640?wx_fmt=png&from=appmsg)

2022 年至 2023 年间高风险漏洞数量增加 54%（26 个百分点），原因不一。一种可能的解释是经济衰退和随之而来的裁员，这减少了可用于查找和修补漏洞的资源数量。此外，91% 的代码库被发现包含比最新可用版本落后 10 个或更多版本的组件。简单的结论是，绝大多数开源消费者根本没有更新他们使用的组件。

49% 的代码库包含过去 24 个月内没有任何开发活动的组件，1% 的代码库包含的代码维护者更新/补丁至少落后 12 个月。

广义上，“维护者”是指那些领导开源项目的贡献者。他们可能是源代码的哪些部分进入构建或发布的最终决策者，他们可能负责所有代码审查，并以他们的名义托管小型项目的代码，他们可能对项目的方向做出最终决定。他们的日常工作可能有所不同，但可能包括审查拉取请求和其他贡献、发布新版本的软件、分类和处理安全修复以及社区管理和审核。

大多数维护人员都勤于让他们参与的开源项目保持最新状态。事实上，许多公司专门聘请人员来维护组织软件所依赖的开源项目。开源消费者也需要同样勤奋。开源消费者需要了解他们正在使用的版本，建立定期更新的节奏，并在开源方面实行软件卫生——只从拥有健康的维护者和贡献者生态系统的项目下载。

常见弱点枚举 (CWE) 和常见漏洞和暴露 (CVE) 是用于识别和分类软件中的安全弱点和漏洞的常用列表。Black Duck 安全公告 (BDSA) 是 Black Duck 专有报告，旨在为客户提供比国家漏洞数据库 (NVD) CVE 通知更及时、更详细的信息。BDSA 提供有关影响客户 SBOM 中项目的漏洞的可行建议和详细信息，以帮助确保他们全面了解开源漏洞可能带来的风险。

前十大漏洞中有八个映射到一个支柱 CWE，即CWE-707，它解决了未得到满足的安全要求，并可能导致跨站点脚本和 SQL 注入等漏洞。

如图 2 所示，CWE-707是 CWE 20、79、80、97 和 937 的支柱。CWE-707 涉及在从上游组件读取数据或将数据发送到下游组件之前未满足的安全要求。未能正确中和输入可能导致跨站点脚本 (XSS) 和 SQL 注入等漏洞。XSS 是一种常见且危险的漏洞，与本报告中重点介绍的 10 大漏洞中的大多数有关。

跨站点脚本攻击是指攻击者利用网站漏洞发送恶意、格式错误的代码（通常用 JavaScript 编写）。由于这种输入没有得到适当的中和或转义，漏洞可以操纵原本值得信赖的主机执行恶意任务。不过，大多数 XSS 攻击的最终目标不是主机本身，而是 Web 应用程序的其他用户。一旦注入恶意脚本，它就可以用来窃取敏感信息，如会话 cookie。

XSS 不仅在我们的十大漏洞列表中，而且还是 OWASP 十大列表中的漏洞之一——该报告列出了 10 个最关键的 Web 应用程序安全风险。在其列表中，OWASP 将 XSS 称为 A03:2021 – 注入。XSS 漏洞盛行的原因可以归因于对基于 Web 的应用程序的依赖增加，这是组织与客户互动以及用户相互互动的一种方式。例如，考虑有多少电子商务公司、银行、互联网服务提供商、保险公司和其他公司提供 Web 体验来与其客户和合作伙伴互动。

再次，数据清楚地表明，开发团队需要改进，以保持开源组件的更新，尤其是 jQuery 等流行的开源组件。使用较旧、更易受攻击的开源版本的后果可能非常严重。例如，审计中发现的前 10 个漏洞中排名第二的是 BDSA-2020-0686 (CVE-2020-11022)，这是 jQuery 1.2 至 3.5.0 版本中的一个 XSS 漏洞。此漏洞允许将不受信任来源的 HTML（即使经过清理）传递给 jQuery 的 DOM 操作方法之一，并可能执行不受信任的代码。

jQuery 3.5.0 已修复此问题，但根据我们的数据，在扫描安全风险的代码库中，有三分之一的代码库使用的 jQuery 版本仍然容易受到此漏洞的影响。恶意数据可能被用来破坏系统，或者泄露敏感数据（密码、信用信息）。如前所述，跨站点脚本是应用程序中最常见的漏洞之一，通常使用代码注入攻击来攻击浏览器中的各种语言解释器，例如 HTML 或 JavaScript。

降低风险：安全使用 jQuery 和其他流行开源软件的技巧审计中发现的 10 个顶级开源组件全部是用 JavaScript 编写的。审计中发现的大部分漏洞也与 JavaScript 库有关，尤其是 jQuery JavaScript 库的旧版本中的漏洞。

* 使用最新版本的 jQuery。如本报告所示，旧版本的 jQuery 通常包含安全漏洞。
* 考虑订阅安全咨询服务（例如 Black Duck 安全咨询）以获取最新的漏洞信息。jQuery 中定期会发现新的安全漏洞。
* 使用安全编码框架来帮助您识别并避免代码中的潜在安全漏洞。
* 使用自动化安全测试（包括静态分析、软件组合分析和动态分析工具）来解决整个软件开发生命周期中的代码质量和安全漏洞。

jQuery 并非天生就不安全。事实上，它是一个维护良好的开源库，拥有庞大的用户、开发人员和维护者社区。但问题往往伴随着流行。根据审计结果，jQuery 是最有可能存在漏洞的组件，尽管本报告列出的每个 jQuery 漏洞都有可用的补丁。对于 jQuery 用户（事实上是所有开源用户）来说，重要的是要意识到与旧版本软件相关的潜在安全风险，并采取措施减轻这些风险。

### 采取行动防止漏洞进入您的软件供应链

* 创建并维护软件物料清单 (SBOM)。在对抗软件供应链攻击的过程中，拥有一份准确、最新的 SBOM 来清点开源组件对于评估风险以及确保代码保持高质量、合规和安全至关重要。一份全面的 SBOM 列出了应用程序中的所有开源组件以及这些组件的许可证、版本和补丁状态，这是对供应链攻击（包括使用恶意软件包的攻击）的有力防御。
* 随时了解最新情况。确保您有办法了解新发现的恶意程序包、恶意软件和披露的开源漏洞。查找新闻源或定期发布的公告，这些公告提供了可操作的建议和有关影响 SBOM 中开源组件的问题的详细信息。
* 执行代码审查。在将下载的软件纳入项目之前，请检查其代码。检查是否存在任何已知漏洞。如需进一步了解，请考虑对源代码进行静态分析，以检查是否存在未知的安全漏洞。
* 积极主动。组件今天没有漏洞并不意味着明天也不会有漏洞。故意恶意的软件包可能永远不会被发现为“有漏洞”。在实施之前，请注意组件的健康状况和来源，以避免将来出现安全问题。
* 使用自动化软件组合分析 (SCA) 工具。SCA 工具可自动识别、管理和缓解软件安全问题，并允许开发人员将精力集中在编写代码上。此类工具可以评估开源代码和第三方代码。

### 十大漏洞中有八个可追溯至一个 CWE

CWE 项目将“支柱弱点”定义为最高级别的弱点，代表与其相关的所有类/变体弱点的基础。

![](https://mmbiz.qpic.cn/mmbiz_png/B0AKMb5va5zXPhf5Gh9E0uIZ4u5MbmKCibuX41PuCxGB4otUan8LFL2nmeIXGU2Mica6MIianyG29Z4OcnQiaJmIPQ/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/mmbiz_png/B0AKMb5va5zXPhf5Gh9E0uIZ4u5MbmKCCIMdlho8vfcZSf4f87ibJ8ymOw2RA9Z0vDnyicW2ibnGwlj7ibMzy8ia9Jw/640?wx_fmt=png&from=appmsg)

### 为什么有些 BDSA 没有 CVE

国家漏洞数据库 (NVD) 等公共资源是获取有关开源软件中公开披露的漏洞信息的良好开端。但任何给定的 NVD CVE 条目的报告都可能存在滞后。及时性一直是影响 NVD 公布安全漏洞数据能力的一个因素。事实上，漏洞的首次披露与其在 NVD 中发布之间通常存在显著的时间滞后，一些研究报告称，首次公布和 NVD 发布之间平均间隔一个月。

NVD 的另一个问题是它提供的漏洞数据通常不完整。NVD 中发布的许多 CVE 都不包含易受攻击的版本范围，而且通常太短而无法使用。这通常是因为没有资源可用于研究该条目。

显然，仅依赖 NVD 来获取漏洞信息是不明智的。许多商业 SCA 解决方案可以提供比 NVD 更丰富的漏洞数据，此外还可以更准确地发现问题并在必要时帮助您更快地修复问题。例如，如果您使用的是 Black Duck 的 SCA 解决方案 Black Duck，则可以利用 BDSA，这是 Black Duck 安全研究团队发现的开源漏洞的公告。这些公告通常会提前通知影响您代码库的漏洞 - 可能需要几天或几周的时间才能出现在 NVD 中。BDSA 还提供更完整的漏洞数据，提供安全洞察、技术细节和升级/补丁指南，这是当今商业上任何其他产品都无法比拟的。例如，在我们 2023 年的十大漏洞列表中，有三个来自 NVD 的没有相关 CVE 的 BDSA。

BDSA-2021-3651根据 BDSA 的说法，jQuery 的某些版本包含对被劫持域名的注释引用。这是一种安全问题，最安全的做法是删除指向被劫持域名的链接，jQuery 在 3.6.1 版中就是这么做的，因为如果用户不知道域名的状态，他们如果试图点击被劫持网站的链接，仍然可能受到未指定的攻击。虽然无法通过运行代码访问这些网站，但标记该问题还是有价值的，因为开发人员或任何有访问权限的人都可能意外点击恶意网站。

Black Duck CyRC 团队建议将此 BDSA 标记为“信息性”，当供应商提供的“修复”在代码或产品文档中以警告的形式出现时，或者当供应商拒绝 CVE 或对调查结果提出异议时，使用此标签，并将报告的漏洞视为组件中的预期/设计行为。

类别
CWE-546：可疑评论

CVSS v3.1 分数
5.10

BDSA-2014-0063这是一个较早的漏洞，最早于 2014 年 1 月被提出，与 jQuery 中因缺乏用户提供的输入验证而导致的潜在 XSS 漏洞有关。这可能允许攻击者注入任意 Web 脚本并窃取受害者的会话 cookie。

根据 BDSA，函数将 HTML 字符串解析为 DOM 节点数组。传递给此函数的事件属性中包含的任何脚本都会立即执行。如果函数调用者在将不受信任的输入传递给函数之前没有对其进行适当的清理，则可能会使函数调用者容易受到 XSS 攻击。攻击者可以通过编写恶意 HTML 来利用这一点，并将其提供给受害者。如果经过处理，则其中包含的任何 Web 脚本都将在其系统上执行。

jQuery 3.0.0-rc1中已缓解此漏洞。但是，缓解措施不会过滤恶意输入，仍将允许执行脚本。解析器的默认行为已更改，如果上下文未指定或给定为 null/undefined，则会创建一个新文档。这会延迟解析的 HTML 的执行，直到将其注入文档，从而使工具有机会在函数调用后遍历创建的 DOM 并删除不安全的内容。

类别
CWE：79：网页生成过程中输入的不当中和（“跨站点脚本”）
CAPEC-588：基于 DOM 的 XXS

CVSS v3.1 分数
8.60

BDSA-2015-0567另一个较旧的漏洞是 jQuery，它容易受到任意代码执行攻击 — 使用未打补丁的 UglifyJS 解析器的 jQuery 版本容易受到通过精心设计的 JavaScript 文件执行任意代码的攻击。最终，这可以让攻击者运行恶意代码。

该漏洞已在1.12.0和2.2.0 版本中修复。

类别
CWE 类别 A9：使用具有已知漏洞的组件
CAPEC-251：本地代码包含（常见攻击模式枚举和分类 [CAPEC] 工作提...