---
title: Google & Bing 爬虫IP列表
url: https://h4ck.org.cn/2024/05/16956
source: obaby@mars
date: 2024-05-13
fetch_date: 2025-10-06T17:14:48.390100
---

# Google & Bing 爬虫IP列表

[![obaby@mars](/wp-content/uploads/2023/08/logo-pink-small.png)](https://h4ck.org.cn)

Artificial Intelligence / Reverse Engineering / Internet of Things / Full Stack Developer

* [※说说/Talk※](https://h4ck.org.cn/talk)
* [※留言/Msg※](https://h4ck.org.cn/guestbook)
* [※归档/File※](https://h4ck.org.cn/myarchive)
* [※资源/Res※](https://h4ck.org.cn/res-page)
* [※我是谁/Me※](https://h4ck.org.cn/whoami)
* [※集美们/Besties※](https://h4ck.org.cn/besties)

 [Menu](#mobilemenu)

* [※说说/Talk※](https://h4ck.org.cn/talk)
* [※留言/Msg※](https://h4ck.org.cn/guestbook)
* [※归档/File※](https://h4ck.org.cn/myarchive)
* [※资源/Res※](https://h4ck.org.cn/res-page)
* [※我是谁/Me※](https://h4ck.org.cn/whoami)
* [※集美们/Besties※](https://h4ck.org.cn/besties)

[Linux『Linux』](https://h4ck.org.cn/cats/xtxg/linux%E3%80%8Elinux%E3%80%8F)

# Google & Bing 爬虫IP列表

2024年5月12日
[32 条评论](https://h4ck.org.cn/2024/05/16956#comments)

[![](https://h4ck.org.cn/wp-content/uploads/2024/05/IMG_20220226_133140-tuya-scaled.webp)](https://h4ck.org.cn/wp-content/uploads/2024/05/IMG_20220226_133140-tuya.webp)

每天都能收到网站被攻击的邮件，这也说明，那些闲的蛋疼的人是真的多啊。有这个时间干点啥不好呢，非得干这些恶心人的事情。

昨天因为失控的策略设置有问题，导致攻击流量直接会员服务器cpu跑满了。看了下攻击十分钟的请求又是几十万条。

[![](https://h4ck.org.cn/wp-content/uploads/2024/05/微信图片_20240512162608.jpg)](https://h4ck.org.cn/wp-content/uploads/2024/05/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20240512162608.jpg)

[![](https://h4ck.org.cn/wp-content/uploads/2024/05/微信图片_20240512162557.jpg)](https://h4ck.org.cn/wp-content/uploads/2024/05/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20240512162557.jpg)

每天也是各种攻击邮件不间断：

[![](https://h4ck.org.cn/wp-content/uploads/2024/05/微信图片_202405121626081.jpg)](https://h4ck.org.cn/wp-content/uploads/2024/05/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_202405121626081.jpg)

今天看了下攻击次数又几百万了：

[![](https://h4ck.org.cn/wp-content/uploads/2024/05/Screenshot-2024-05-12-161921.png)](https://h4ck.org.cn/wp-content/uploads/2024/05/Screenshot-2024-05-12-161921.png)

scdn虽然过滤了大部分流量，并且策略也比较完善，但是盾云的waf规则，针对爬虫只有国内的几个的：

[![](https://h4ck.org.cn/wp-content/uploads/2024/05/Screenshot-2024-05-12-161841.png)](https://h4ck.org.cn/wp-content/uploads/2024/05/Screenshot-2024-05-12-161841.png)

针对google以及bing的没有，于是想着更新下waf策略。找了下google以及bing的公开ip地址列表：

```
# https://www.gstatic.com/ipranges/goog.json
# https://www.bing.com/toolbox/bingbot.json
# https://developers.google.com/search/docs/crawling-indexing/verifying-googlebot?hl=zh-cn
```

```
不过上面的地址那到的数据都是json格式的，并且是子网掩码，并不能直接写到waf规则呢。
以googlebot 的列表https://developers.google.com/static/search/apis/ipranges/googlebot.json为例，是下面的样子的：
```

[![](https://h4ck.org.cn/wp-content/uploads/2024/05/Screenshot-2024-05-12-163218.png)](https://h4ck.org.cn/wp-content/uploads/2024/05/Screenshot-2024-05-12-163218.png)

```
还是用python把掩码形势转成地址列表吧，依赖于netaddr，首先pip install netaddr：
```

```
ip = IPNetwork('108.177.96.0/19')
    ip_list = list(ip)
    for i in ip_list:
        print(i)
```

完整代码：

```
import json

from netaddr import *

def process_ip_address(file_name):
    ip_range_json = None
    waf_string = ''
    with open(file_name,'r') as f:
        content = f.read()
        ip_range_json = json.loads(content)
    for item in ip_range_json['prefixes']:
        for k, v in item.items():
            if k == 'ipv4Prefix':
                ip = IPNetwork(v)
                ip_list = list(ip)
                for i in ip_list:
                    # print(i)
                    waf_string += '|' + str(i)
    return waf_string[1:]

def write_ip_to_file():
    a = open('google_ip.txt', 'a')
    ip = IPNetwork('108.177.96.0/19')
    ip_list = list(ip)
    for i in ip_list:
        print(i)
        a.write('%s\n' % (i))
        a.flush()

def print_hi(name):
    # Use a breakpoint in the code line below to debug your script.
    print(f'Hi, {name}')  # Press Ctrl+F8 to toggle the breakpoint.

# Press the green button in the gutter to run the script.
if __name__ == '__main__':
    print_hi('PyCharm')
    waf = process_ip_address(r'E:\Pycharm_Projects\bot_ip_to_waf\bingbot_ip.json')
    print(waf)
# https://www.gstatic.com/ipranges/goog.json
# https://www.bing.com/toolbox/bingbot.json
# https://developers.google.com/search/docs/crawling-indexing/verifying-googlebot?hl=zh-cn
```

google ip地址waf值：

```
192.178.5.0|192.178.5.1|192.178.5.2|192.178.5.3|192.178.5.4|192.178.5.5|192.178.5.6|192.178.5.7|192.178.5.8|192.178.5.9|192.178.5.10|192.178.5.11|192.178.5.12|192.178.5.13|192.178.5.14|192.178.5.15|192.178.5.16|192.178.5.17|192.178.5.18|192.178.5.19|192.178.5.20|192.178.5.21|192.178.5.22|192.178.5.23|192.178.5.24|192.178.5.25|192.178.5.26|192.178.5.27|192.178.5.28|192.178.5.29|192.178.5.30|192.178.5.31|34.100.182.96|34.100.182.97|34.100.182.98|34.100.182.99|34.100.182.100|34.100.182.101|34.100.182.102|34.100.182.103|34.100.182.104|34.100.182.105|34.100.182.106|34.100.182.107|34.100.182.108|34.100.182.109|34.100.182.110|34.100.182.111|34.101.50.144|34.101.50.145|34.101.50.146|34.101.50.147|34.101.50.148|34.101.50.149|34.101.50.150|34.101.50.151|34.101.50.152|34.101.50.153|34.101.50.154|34.101.50.155|34.101.50.156|34.101.50.157|34.101.50.158|34.101.50.159|34.118.254.0|34.118.254.1|34.118.254.2|34.118.254.3|34.118.254.4|34.118.254.5|34.118.254.6|34.118.254.7|34.118.254.8|34.118.254.9|34.118.254.10|34.118.254.11|34.118.254.12|34.118.254.13|34.118.254.14|34.118.254.15|34.118.66.0|34.118.66.1|34.118.66.2|34.118.66.3|34.118.66.4|34.118.66.5|34.118.66.6|34.118.66.7|34.118.66.8|34.118.66.9|34.118.66.10|34.118.66.11|34.118.66.12|34.118.66.13|34.118.66.14|34.118.66.15|34.126.178.96|34.126.178.97|34.126.178.98|34.126.178.99|34.126.178.100|34.126.178.101|34.126.178.102|34.126.178.103|34.126.178.104|34.126.178.105|34.126.178.106|34.126.178.107|34.126.178.108|34.126.178.109|34.126.178.110|34.126.178.111|34.146.150.144|34.146.150.145|34.146.150.146|34.146.150.147|34.146.150.148|34.146.150.149|34.146.150.150|34.146.150.151|34.146.150.152|34.146.150.153|34.146.150.154|34.146.150.155|34.146.150.156|34.146.150.157|34.146.150.158|34.146.150.159|34.147.110.144|34.147.110.145|34.147.110.146|34.147.110.147|34.147.110.148|34.147.110.149|34.147.110.150|34.147.110.151|34.147.110.152|34.147.110.153|34.147.110.154|34.147.110.155|34.147.110.156|34.147.110.157|34.147.110.158|34.147.110.159|34.151.74.144|34.151.74.145|34.151.74.146|34.151.74.147|34.151.74.148|34.151.74.149|34.151.74.150|34.151.74.151|34.151.74.152|34.151.74.153|34.151.74.154|34.151.74.155|34.151.74.156|34.151.74.157|34.151.74.158|34.151.74.159|34.152.50.64|34.152.50.65|34.152.50.66|34.152.50.67|34.152.50.68|34.152.50.69|34.152.50.70|34.152.50.71|34.152.50.72|34.152.50.73|34.152.50.74|34.152.50.75|34.152.50.76|34.152.50.77|34.152.50.78|34.152.50.79|34.154.114.144|34.154.114.145|34.154.114.146|34.154.114.147|34.154.114.148|34.154.114.149|34.154.114.150|34.154.114.151|34.154.114.152|34.154.114.153|34.154.114.154|34.154.114.155|34.154.114.156|34.154.114.157|34.154.114.158|34.154.114.159|34.155.98.32|34.155.98.33|34.155.98.34|34.155.98.35|34.155.98.36|34.155.98.37|34.155.98.38|34.155.98.39|34.155.98.40|34.155.98.41|34.155.98.42|34.155.98.43|34.155.98.44|34.155.98.45|34.155.98.46|34.155.98.47|34.165.18.176|34.165.18.177|34.165.18.178|34.165.18.179|34.165.18.180|34.165.18.181|34.165.18.182|34.165.18.183|34.165.18.184|34.165.18.185|34.165.18.186|34.165.18.187|34.165.18.188|34.165.18.189|34.165.18.190|34.165.18.191|34.175.160.64|34.175.160.65|34.175.160.66|34.175.160.67|34.175.160.68|34.175.160.69|34.175.160.70|34.175.160.71|34.175.160.72|34.175.160.73|34.175.160.74|34.175.160.75|34.175.160.76|34.175.160.77|34.175.160.78|34.175.160.79|34.176.130.16|34.176.130.17|34.176.130.18|34.176.130.19|34.176.130.20|34.176.130.21|34.176.130.22|34.176.130.23|34.176.130.24|34.176.130.25|34.176.130.26|34.176.130.27|34.176.130.28|34.176.130.29|34.176.130.30|34.176.130.31|34.22.85.0|34.22.85.1|34.22.85.2|34.22.85.3|34.22.85.4|34.22.85.5|34.22.85.6|34.22.85.7|34.22.85.8|34.22.85.9|34.22.85.10|34.22.85.11|34.22.85.12|34.22.85.13|34.22.85.14|34.22.85.15|34.22.85.16|34.22.85.17|34.22.85.18|34.22.85.19|34.22.85.2...