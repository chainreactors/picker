---
title: 【火线沙龙】业务出海的安全新挑战
url: https://mp.weixin.qq.com/s?__biz=MzU4MjEwNzMzMg==&mid=2247492252&idx=1&sn=7370a66af9ef332d18099c58f1b2adcc&chksm=fdbfcb37cac84221f27359ac4e373db1b82f69dcdbe63c803af5c84ae02c8602ca5be6e16249&scene=58&subscene=0#rd
source: 火线安全平台
date: 2022-12-15
fetch_date: 2025-10-04T01:33:06.781847
---

# 【火线沙龙】业务出海的安全新挑战

![cover_image](https://mmbiz.qpic.cn/mmbiz_jpg/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKt4YkF1D7DgkxTeBLMUz83zWib9ZFTzMreQNTE3oxuBI8AbWeOn6P8dag/0?wx_fmt=jpeg)

# 【火线沙龙】业务出海的安全新挑战

原创

曾垚

火线安全平台

*此文源于**火线沙龙第27期——助力企业安全出海**，来自火线安全的联合创始人——曾垚带来的分享。*

海外近几年安全事件发生得非常频繁，比如，各云厂商的大型数据泄露事件，还有一些来自类似于Okta的供应链攻击。我们发现其实业务上了云或者是上了SaaS之后，数据或者基础安全还是需要做，云厂商或SaaS厂商并不能帮用户解决全部的安全问题。各大云厂商或SaaS厂商推出相应的安全责任边界来区分租户侧和服务商侧分别承担哪些安全责任。

在出海的企业中，有很多公司的业务天然长在云上或SaaS上，这些数据大量地分散在多个云上或是SaaS服务中。那怎么对这些数据进行实时地分析，数据里面是否存在风险？企业出海的过程中是否会遇到来自于客户的安全挑战，到底该怎么去应对？

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtUibUjLrXicSkW4cicHLE7EwcwBpuVZo5iaMVDYQ2PwluIEVJk1vdJuhBGw/640?wx_fmt=png)

第一部分主要是整体分析一下企业出海过程中会面临到哪些关键的安全风险挑战。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtPPILbiaID6EaJKsu3DYp4e8ic9h38zyAhJES9FclmOIXXibnFc30W5YUA/640?wx_fmt=png)

第一个是外部攻击面增大。企业出海之后，因为要发展全球化业务，业务也需要部署在全球，需要使用大量的云服务或SaaS服务，这样会使得企业在互联网暴露的外部攻击面持续增大。因为暴露在云上，数据或者账号比较分散，那企业的外部系统对于黑客来说攻击成本是比较低的，所以企业的安全或者数据保护尤为重要 。

第二个是复杂多样的合规要求。企业出海之后，可能会涉及到欧洲的GDPR，等保，东南亚的一些合规标准等，各个国家的合规标准对于企业来说是非常底线、红线的要求。有很多出海企业因为合规方面问题受到处罚，或者收到用户的投诉和索赔要求。

第三个是来自客户对安全合规的要求。如果企业出海做to B业务，比如面向一些金融客户或是偏中大型的客户，那可能都会遇到来自客户的挑战。客户可能会质疑企业的SaaS是否安全，怎么保证他们托管在SaaS或PaaS平台上的数据安全性，跟客户交付的过程中也会遇到来自于客户的挑战，安全有保证是相对比较刚性的采购要求。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtibic1APvdJx7s73WzBhIcKoxzBDWEXUohOFHkQric6FOvEm37xibt3rKEA/640?wx_fmt=png)

有统计显示，每个美国企业平均使用超过100个的SaaS软件，里面有各种各样的服务，包括Infra层面的，像AWS、GCP、OCI或者阿里云，EC2、K8S等偏基础设施，Auth0等技术服务中间层，HubSpot等偏运营类。

考虑到用户的需求，出海企业天然会使用非常多的SaaS软件。企业的业务数据会存储在各个Infra的平台，数据可能存储在snowflake、AWS，机器学习的样本可能存储在对象服务的PaaS服务上，客户数据可能在CRM里边存储。

这些数据对于出海企业是非常关键的。对于出海企业来说，出海前可能只需要守住外网和保证员工安全意识，或者是解决基础安全问题就可以。在企业出海之后，对外暴露的不仅是企业自身维护的一套业务系统，还需要保证企业使用的所有第三方供应商的软件是安全的。

在不同的平台上，租户需要承担不同的责任。比如在IaaS平台上，租户需要承担网络、VPC侧网络、代码、应用、API等方面的工作，其它更底层的则是由供应商来承担。那在安全方面，租户需要保证权限控制、配置等问题。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtpxmxptXw3CTYmzToRtpGCU6GH4icOT9QpJ7PnDSpJM359rncuYeZVxA/640?wx_fmt=png)

海外安全攻击性事件高频发生，企业上云，会面临和传统安全事件不一样的情况，可能会因为很小的失误就会造成非常大的损失。有统计显示，80%以上的企业在云上都出现过数据泄露事件。比如今年很严重的泄露事件，Azure由于配置不当，泄露了微软6.5万以上的企业客户数据；Capital One公司防火墙配置错误导致1亿多客户的个人数据对外泄露；Okta错误的MFA配置暴露了大量客户内部系统，导致数据泄漏。还有很多其它的数据泄露事件。

租户在SaaS或者PaaS平台上负责的事情很多，数据泄漏事件里面68%以上都是由于用户不当的配置引起的。企业在出海之后，需要注重自身的配置或者是业务上的运行，一旦发生数据泄露事件是非常严重的。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKticoZkLjudQ6jmnsPfUiav7ydNQRwPM18h53TJmxsMIShLMHwb4Vlj6jw/640?wx_fmt=png)

企业出海之后，在全球开展业务，面临的监管要求也非常严格。据统计，目前全球有132个国家对数据和隐私都进行了立法保护。在CIS Benchmarks里面有67款产品都发布了在租户侧或者运营侧的CIS安全检测标准。比如企业要去做银行业相关业务，会要求有PCI方面的认证；如果要到欧洲，那需要注意GDPR；东南亚各个国家也有自己的合规标准。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtgUvSFKHt1EUejdOSAbVWEey7ib5Oe8F9bpibYr3l1cznKEiaIhh8Wian9A/640?wx_fmt=png)

还有来自于客户侧的安全要求。海外SaaS产品的安全标配认证项目是SOC2，SOC2会要求SaaS企业做好几个事情。第一，企业要把安全基建做好。第二，企业需要持续保证自身系统的安全性，就需要做定期的安全测试。还有些对安全更重视的客户会需要企业提供更多的漏洞管理，第三方组件或者数据安全上的证明，甚至需要企业提供漏洞扫描报告，SBOM列表等一些很细节的技术材料。更进一步，需要考虑到流程制度或者行业合规标准，主流的合规框架大概有十几种。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtVOyAWoKfNXlBdkrz2qhL4CzjmkJDoEc9VR3VYAN5SRQUFibBf6pqH8A/640?wx_fmt=png)

上边也提到攻击面是在大幅度增大，企业在开展业务时会面临来自于IaaS层、PaaS层或SaaS层不同的安全挑战。

综上所述，出海企业会使用较多系统，会有非常多的攻击面。第二，出海企业会面临来自于各个方面的合规要求，会被要求使用的第三方软件是符合安全合规标准的。第三，出海企业会需要应对更多的客户对安全合规方面的要求。

那出海企业怎么做好安全与合规建设呢？首先第一步是要收集好数据。第二，对数据进行安全建模，从数据里边去发现风险。第三，发现风险之后寻找解决办法，去进行修复。最后再持续不断的去监控数据里面的安全异常。

那很重要的一个点是如何把IaaS层、PaaS层或SaaS层的数据收集在一起，目前针对这个问题还没有较好的解决办法。那可以先看看这些数据到底分散在哪里，从技术侧有哪些采集方式。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtQUvJQFRZxhxDnknOabQPVZM9K4AZPEicKy8EFib1GDfTcUnmIcFOmusA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtPq1FqscLdffFayYhZoqZaBNSbtwKKApic6oLOJswgxoY0hcb5mO9ccg/640?wx_fmt=png)

首先需要建立基础设施的数据清单或者是数据平台。有几种方式去控制企业自身使用的PaaS或SaaS服务。可以通过Terraform，Pulumi 、Corssplane等IaC平台，通过code的方式去控制基础设施的变更或创建；或者是Ansible的YAML的方式；还有种比较传统的方式，通过控制台手动去创建和维护；再或者是通过云厂商提供的OpenAPI去创建资源。不同平台的数据格式和收益方式都不一样。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtPaymJ8TNz1XMM0JLsCrJUqxfoKy9WaSibbwvqdgicjjI8zb9FxcawudQ/640?wx_fmt=png)

有了IaC之后，相比于之前的好处是所有变更都是实时的，所有在页面上的点击都会创建资源。在系统创建之前的Infra层面，也有Development的环境，好处是可以在资源变更之前通过代码的方式去review或审计里面的成本、安全风险。

在Operation阶段，可以通过界面上的功能去看相关的配置是否正确。使用不同的方式获取数据，所获得的数据格式不同，后续需要做大量的格式化处理。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtgwEdXKypawnWpYtuZwaEXmfA67gcddlzbhD0PMf68ibhCmHyW0pGJiaA/640?wx_fmt=png)

如何发现配置安全的问题。国外有很多开源工具，或者是云厂商也提供相关的一些工具。在开发阶段，可以通过tfsec、checkov、HashiCorp等工具解决policy的问题。上线之后，真实环境会反映真实的安全情况。

那上线后怎么解决安全问题？主流的云厂商自身会提供安全配置检查；另外也有第三方的开源工具可以使用，比如prowlerpro是针对AWS合规或者配置的检查性开源工具，还有Aqua开源的cloudsploit也是对云厂商做相关的安全合规检查。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtjgRWnekw2KTm7ohn6qn1ib4ITibFdgFwECSMlxTroTZN7WzOxtiawsHwQ/640?wx_fmt=png)

可以看到有非常多企业会提这样的概念：Poilcy as Code。例如，OPA支持主流的数据格式，包括IaC的主流格式，HashiCorp、Terraform的语法规则，K8S上的YAML，或者JSOM数据格式。它本身只是规则引擎， 并不会支持这么多厂商的数据采集和数据格式的处理。

现在OPA推出了gatekeeper的功能，可以做到通过编写policy，实现对YAML的规则验证是否符合预期。并且有一些action的动作，比如审计和阻断的功能。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKt0JCGvpUOte4OycxmLQW6aSOeXDpqAmzkAbCvU1cfbbnicSuvicpUUDfA/640?wx_fmt=png)

在数据阶段，企业会遇到的第一个挑战是数据的种类繁多。主要是企业的服务商非常多，需要有系统可以统一地收集这些数据，否则这个收集的难度是非常大的，甚至是不可行的。

第二个挑战是数据格式不一致。不同工具的数据格式不一样，不同阶段的数据格式也都不一样。

第三个挑战是针对不同格式的数据需要多种复杂分析方法。

从数据的收集，数据的格式化处理，到最后的分析策略编写，都会遇到数据高度分散，编写规则不一致的问题。那如何去解决这个问题呢？有下边的一些思路。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtForX4dYgJkJ1zLwaA2ZiadhdXsCnZUphTnQiahucuw5KtFxv50TD6uCg/640?wx_fmt=png)

整个Infra code的逻辑，通过Terraform、Pulumi、Corssplane、Ansible、Console等去创建或变更SaaS、PaaS平台，最后通过API的方式调用这些资源。那能否通过API的概念对已经创建或者还未创建的数据进行统一的收集和管理呢？

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtickPpRXd3HZE9T13OWjd5PywuwDcpp7qQvk5UbowPcZuWicvg7EkGsKA/640?wx_fmt=png)

会有一个‘Provider First’的思路。通过开发很多数据管理的provider去支持厂商，先把数据统一收集下来。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKt8KGicRazP6Km9p0JEdY9dbCmALxpkxxHYte2SBfKzb3niaOicwSdiaJib7w/640?wx_fmt=png)

火线做了开源工具，可以提供统一的基础设施数据的收集，目前支持AWS、GCP、Azure、K8S等等，有十多款provider。这个是开源项目，希望大家持续关注，多多贡献，未来可以支持更多的服务商来帮助大家解决Infra数据收集的问题。

数据收集起来后，最终体现它们的价值就需要有数据的可视化、数据的分析。这个开源工具有更低成本的分析策略、开发规则。比如用SQL加YAML的方式对某些资源进行分析。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtDdeWDRic2IMqTxVRUGOfic3fvIicjaWFMPhP986mdHD5SZricJunHYH5Gw/640?wx_fmt=png)

整个技术原理上来看， 是通过provider对接API的方式去支持不同厂商的provider，最终定义好统一的码，把这些数据统一收集，再通过SQL加YAML的方式实现‘Poilcy as Code’，去产生安全、合规的分析结果，而且用的数据和数据内容都是一致的。

这个开源工具提供在Infra的数据收集与分析，主要是面向development的场景。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKttljhljwmbSUVJZiaOr0mWec0ozfFjGl8NVrW3nQJk5Awicamuyt6qic8w/640?wx_fmt=png)

同时火线也提供SaaS平台来实现开箱即用的安全能力。会提供一些比较重要的合规检查能力，比如能够应对云厂商颁发的benchmark，攻击面，以及各种各样的合规要求。几分钟之内，就可以对出海企业使用的非常多的服务、数据进行自动化的分析。

上图中左图是所支持的场景里截取的一部分。右下角展示了配置上的一些风险，会对应到相关的合规标准。

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtOwNdPB1peN0GuiatY4GeJJKLY5Xyc0h9z9Av2F3g9mQM04splhULMSw/640?wx_fmt=png)

总结一下，海外业务对黑客来说攻击成本变得越来越低，而且收益很大，可能因为很小的错误导致数亿的数据泄露。

第二个是合规，对于出海或者全球化企业来说这是非常底线的要求，会有来自监管和客户的压力，若是做不好，企业可能没有办法在该地区开展业务，产品没有办法卖给客户。

解决办法是企业需要有统一的数据收集平台，有低成本的策略，有丰富的分析场景，可以应对来自于安全和合规上的挑战和需求。

获取【火线沙龙第27期--助力企业安全出海】讲师PPT&企业安全出海资料

可填写以下问卷自动下载

![](https://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ8XFI6UIgnlYGhBh0sHiaLKtUd4tCWZZia2V5qnhwiaLt1eujrIHgyt291doaiaV0RF5tyjFFPwmic5n6Q/640?wx_fmt=png)

预览时标签不可点

![]()

微信扫一扫
关注该公众号

继续滑动看下一个

轻触阅读原文

![](http://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ9WlXQ4vE79UjPj778coCFRZz0pD4r6TP5CJNibuSReVZndgW4oKLOZJzPbNJOq3V3iaibft1FtSCibZQ/0?wx_fmt=png)

火线安全平台

向上滑动看下一个

知道了

![]()
微信扫一扫
使用小程序

取消
允许

取消
允许

取消
允许

×
分析

![跳转二维码]()

![作者头像](http://mmbiz.qpic.cn/mmbiz_png/MibgS41eXiaJ9WlXQ4vE79UjPj778coCFRZz0pD4r6TP5CJNibuSReVZndgW4oKLOZJzPbNJOq3V3iaibft1FtSCibZQ/0?wx_fmt=png)

微信扫一扫可打开此内容，
使用完整服务

：
，
，
，
，
，
，
，
，
，
，
，
，
。

视频
小程序
赞
，轻点两下取消赞
在看
，轻点两下取消在看
分享
留言
收藏
听过