---
title: Start to Finish: Configuring an Android Phone for Pentesting
url: https://www.blackhillsinfosec.com/start-to-finish-configuring-an-android-phone-for-pentesting/
source: Black Hills Information Security
date: 2023-01-26
fetch_date: 2025-10-04T04:52:25.457823
---

# Start to Finish: Configuring an Android Phone for Pentesting

[![Black Hills Information Security, Inc.](https://www.blackhillsinfosec.com/wp-content/uploads/2025/03/BHIS_TEXT_BHIS.png)](https://www.blackhillsinfosec.com "Black Hills Information Security, Inc.")

[RSS](https://www.blackhillsinfosec.com/feed/)

* [All Services](https://www.blackhillsinfosec.com/services/)
  + [Complete Service Guide](https://www.blackhillsinfosec.com/services/complete-service-guide/)
  + [Active SOC](https://www.blackhillsinfosec.com/services/active-soc/)
  + [AI Security Assessments](https://www.blackhillsinfosec.com/services/ai-security-assessments/)
  + [Blockchain Security](https://www.blackhillsinfosec.com/services/blockchain-security/)
  + [Blue Team Services](https://www.blackhillsinfosec.com/services/blue-team-services/)
  + [Continuous Penetration Testing](https://www.blackhillsinfosec.com/services/antisoc/)
  + [High-Profile Risk Assessments](https://www.blackhillsinfosec.com/services/high-profile-risk-assessments/)
  + [Incident Response](https://www.blackhillsinfosec.com/services/incident-response/)
  + [Penetration Testing](https://www.blackhillsinfosec.com/services/)
* [Contact Us](https://www.blackhillsinfosec.com/contact-us/)
  + [Contact Us](https://www.blackhillsinfosec.com/contact-us/)
  + [Email Sign-Up](https://mailchi.mp/blackhillsinfosec.com/bhis-sign-up)
* [About Us](https://www.blackhillsinfosec.com/who-we-are/)
  + [Security Consultants](https://www.blackhillsinfosec.com/about/security-analysts/)
  + [Admin](https://www.blackhillsinfosec.com/about/admin-staff/)
  + [SOC Team](https://www.blackhillsinfosec.com/about/soc-team/)
  + [BHIS Family of Companies](https://www.blackhillsinfosec.com/bhis-tribe-of-companies/)
* [Free Resources](https://www.blackhillsinfosec.com/free-cybersecurity-tools/)
  + [Blogs](https://www.blackhillsinfosec.com/blog/)
  + [Free Cybersecurity Tools](https://www.blackhillsinfosec.com/free-cybersecurity-tools/)
  + [Free Cybersecurity Webcasts](https://www.blackhillsinfosec.com/free_cybersecurity_webcasts/)
  + [Podcasts](https://podcasts.apple.com/us/podcast/black-hills-information-security/id1410835265)
  + [RITA](https://www.activecountermeasures.com/free-tools/rita/)
* [Training](https://www.blackhillsinfosec.com/bhis-and-antisyphon-training/)
  + [BHIS & Antisyphon Training](https://www.blackhillsinfosec.com/bhis-and-antisyphon-training/)
  + [WWHF Conference](https://wildwesthackinfest.com)
* [Online Community](https://blackhillsinfosec.com/community)
  + [Discord](https://discord.gg/BHIS)
  + [LinkedIn](https://www.linkedin.com/company/black-hills-information-security/)
  + [YouTube](https://www.youtube.com/c/BlackHillsInformationSecurity/videos)
  + [Bluesky](https://bsky.app/profile/bhinfosecurity.bsky.social)
  + [Twitter/X](https://twitter.com/BHinfoSecurity)
  + [Upcoming Events](https://blackhillsinfosec.com/events)
* [Fun Stuff](https://spearphish-general-store.myshopify.com/)
  + [Backdoors & Breaches](https://www.blackhillsinfosec.com/tools/backdoorsandbreaches/)
  + [Merch, Zines & More](https://spearphish-general-store.myshopify.com/)
  + [PROMPT# Zine](https://www.blackhillsinfosec.com/prompt-zine/)
  + [REKCAH](https://www.blackhillsinfosec.com/rekcah/)
  + [Books](https://www.blackhillsinfosec.com/tools/books/)

25
Jan
2023

[How-To](https://www.blackhillsinfosec.com/category/how-to/), [Mobile](https://www.blackhillsinfosec.com/category/red-team/mobile/)
[Android](https://www.blackhillsinfosec.com/tag/android/), [android hacking](https://www.blackhillsinfosec.com/tag/android-hacking/), [mobile hacking](https://www.blackhillsinfosec.com/tag/mobile-hacking/), [penetration testing](https://www.blackhillsinfosec.com/tag/penetration-testing/), [Pentesting](https://www.blackhillsinfosec.com/tag/pentesting/), [walkthrough](https://www.blackhillsinfosec.com/tag/walkthrough/)

# [Start to Finish: Configuring an Android Phone for Pentesting](https://www.blackhillsinfosec.com/start-to-finish-configuring-an-android-phone-for-pentesting/)

[Jeff Barbi](https://www.linkedin.com/in/jlbarbi/) // \*Guest Post

![](https://www.blackhillsinfosec.com/wp-content/uploads/2023/01/BLOG_chalkboard_00609-1024x576.jpg)

## Background

Unless you’re pentesting mobile apps consistently, it’s easy for your methodologies to fall out of date. Each new version of Android brings with it additional security features to bypass, making the process you used three years ago to set up your testing device obsolete.

If you’re like me, instead of documenting how you set up your last phone, you re-discover a new process each time you configure one. This is redundant and silly. Worse, the information is scattered across the internet in code repos, blogs, and forum threads. Worse still, much of this info is outdated and no longer works.

What follows is an attempt to save others time in the future by documenting a known-good process for Android 12 at the time of writing (October 2022).

I took a factory non-rooted Pixel 4A running a recent stable version of Android 12 “snow cone” and documented the steps required to configure it for pentesting, start to finish. This includes defeating [certificate pinning](https://labs.nettitude.com/tutorials/tls-certificate-pinning-101/), which is becoming more and more common. At the start of each section, I include the tools required and where to get them.

The order of operations we’ll take is as follows:

* Enable developer mode, boot loader unlocking, and USB debugging
* Unlock the boot loader
* Use Magisk to modify a factory boot image
* Flash this new image to the bootloader, rooting the phone
* Convert the Burp certificate to a format Android expects
* Install the Burp cert as a trusted CA, using a custom Magisk Module Template installer
* Install & run Frida server on the phone
* Connect Frida server agent with Runtime Mobile Security frontend
* Run our target app in a hooked process via RMS
* Use a custom RMS plugin to bypass cert pinning

I’m starting with a factory-original, out-of-the-box phone:

![](https://www.blackhillsinfosec.com/wp-content/uploads/2023/01/Picture1-1-233x500.png)

I followed the prompts to join Wi-Fi, log into a Google account, accept the ToS, etc.

*NOTE: My host machine for this walkthrough was running a Debian-based Linux distro. The steps should work on other distros and/or OSX, but some of the syntax may be different.*

## **Rooting the phone**

### **Tools required**

Android Debug Bridge (adb)

* # apt install adb
* <https://developer.android.com/studio/releases/platform-tools#downloads>

fastboot

* # apt install fastboot
* <https://developer.android.com/studio/releases/platform-tools.html#downloads>

*Note: Package repos like apt will have older versions of these tools. They may work, but I used the ones from the developer site.*

### **Unlocking the boot loader**

If we want to install the Burp cert, Frida, defeat certificate pinning etc. then we need to root our phone. This involves writing a modified boot image to the phone’s boot loader. To do that, we need to unlock it.

#### **Enable developer mode**

Go to Settings -> About phone. Tap on “Build number” 7 times. After entering your PIN, you will see this “You are now a developer!” message:

![](https://www.blackhillsinfosec.com/wp-content/uploads/2023/01/Picture2-1.png)

#### **Enable USB debugging & OEM unlocking**

Go to Settings -> System -> Advanced, and you will see a new item, “Developer options.”

In the dev options menu, toggle on “OEM unlocking” and you will see a warning:

![](https://www.blackhillsinfosec.com/wp-content/uploads/2023/01/Picture3-1.png)

Confirm OK and your boot loader is unlocked.

Toggle on USB debugging, you will see another warning:

![](https://www.blackhillsinfosec.com/wp-content/uploads/2023/01/Picture4-1.png)

Choose OK.

#### Test adb

Now that USB debugging is enabled, we can use adb and fastboot.

Plug the phone into the computer and confirm adb can connect to the phone:

```
$ adb devices -l
List of devices attached
13011JEC204262...