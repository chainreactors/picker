---
title: Dockerå¿«é€Ÿæ­å»ºChatGPTç½‘é¡µç‰ˆ
url: https://blog.upx8.com/3264
source: é»‘æµ·æ´‹ - WIKI
date: 2023-03-14
fetch_date: 2025-10-04T09:30:39.294666
---

# Dockerå¿«é€Ÿæ­å»ºChatGPTç½‘é¡µç‰ˆ

# [é»‘æµ·æ´‹ - Wiki](/ "é»‘æµ·æ´‹ - Wiki - ç‚¹å‡»è¿”å›é¦–é¡µ")

# Dockerå¿«é€Ÿæ­å»ºChatGPTç½‘é¡µç‰ˆ

å‘å¸ƒæ—¶é—´:
2023-03-13

åˆ†ç±»:
[å…±äº«èµ„æº/Free](https://blog.upx8.com/Free/)

çƒ­åº¦:
27811

[![cover](https://github.com/Chanzhaoyu/chatgpt-web/raw/main/docs/c1.png)](https://github.com/Chanzhaoyu/chatgpt-web/blob/main/docs/c1.png)Â [![cover2](https://github.com/Chanzhaoyu/chatgpt-web/raw/main/docs/c2.png)](https://github.com/Chanzhaoyu/chatgpt-web/blob/main/docs/c2.png)

## **GitHubåœ°å€ï¼š**[https://github.com/Chanzhaoyu/chatgpt-web](https://blog.upx8.com/go/aHR0cHM6Ly9naXRodWIuY29tL0NoYW56aGFveXUvY2hhdGdwdC13ZWI)

æ”¯æŒåŒæ¨¡å‹ï¼Œæä¾›äº†ä¸¤ç§éå®˜æ–¹Â `ChatGPT API`Â æ–¹æ³•

| æ–¹å¼ | å…è´¹ï¼Ÿ | å¯é æ€§ | è´¨é‡ |
| --- | --- | --- | --- |
| `ChatGPTAPI(gpt-3.5-turbo-0301)` | å¦ | å¯é  | ç›¸å¯¹è¾ƒç¬¨ |
| `ChatGPTUnofficialProxyAPI(ç½‘é¡µ accessToken)` | æ˜¯ | ç›¸å¯¹ä¸å¯é  | èªæ˜ |

å¯¹æ¯”ï¼š

1. `ChatGPTAPI`Â ä½¿ç”¨Â `gpt-3.5-turbo-0301`Â é€šè¿‡å®˜æ–¹`OpenAI`è¡¥å…¨`API`æ¨¡æ‹Ÿ`ChatGPT`ï¼ˆæœ€ç¨³å¥çš„æ–¹æ³•ï¼Œä½†å®ƒä¸æ˜¯å…è´¹çš„ï¼Œå¹¶ä¸”æ²¡æœ‰ä½¿ç”¨é’ˆå¯¹èŠå¤©è¿›è¡Œå¾®è°ƒçš„æ¨¡å‹ï¼‰
2. `ChatGPTUnofficialProxyAPI`Â ä½¿ç”¨éå®˜æ–¹ä»£ç†æœåŠ¡å™¨è®¿é—®Â `ChatGPT`Â çš„åç«¯`API`ï¼Œç»•è¿‡`Cloudflare`ï¼ˆä½¿ç”¨çœŸå®çš„çš„`ChatGPT`ï¼Œéå¸¸è½»é‡çº§ï¼Œä½†ä¾èµ–äºç¬¬ä¸‰æ–¹æœåŠ¡å™¨ï¼Œå¹¶ä¸”æœ‰é€Ÿç‡é™åˆ¶ï¼‰

è­¦å‘Šï¼š

1. ä½ åº”è¯¥é¦–å…ˆä½¿ç”¨Â `API`Â æ–¹å¼
2. ä½¿ç”¨Â `API`Â æ—¶ï¼Œå¦‚æœç½‘ç»œä¸é€šï¼Œé‚£æ˜¯å›½å†…è¢«å¢™äº†ï¼Œä½ éœ€è¦è‡ªå»ºä»£ç†ï¼Œç»å¯¹ä¸è¦ä½¿ç”¨åˆ«äººçš„å…¬å¼€ä»£ç†ï¼Œé‚£æ˜¯å±é™©çš„ã€‚
3. ä½¿ç”¨Â `accessToken`Â æ–¹å¼æ—¶åå‘ä»£ç†å°†å‘ç¬¬ä¸‰æ–¹æš´éœ²æ‚¨çš„è®¿é—®ä»¤ç‰Œï¼Œè¿™æ ·åšåº”è¯¥ä¸ä¼šäº§ç”Ÿä»»ä½•ä¸è‰¯å½±å“ï¼Œä½†åœ¨ä½¿ç”¨è¿™ç§æ–¹æ³•ä¹‹å‰è¯·è€ƒè™‘é£é™©ã€‚
4. ä½¿ç”¨Â `accessToken`Â æ—¶ï¼Œä¸ç®¡ä½ æ˜¯å›½å†…è¿˜æ˜¯å›½å¤–çš„æœºå™¨ï¼Œéƒ½ä¼šä½¿ç”¨ä»£ç†ã€‚é»˜è®¤ä»£ç†ä¸ºÂ [acheong08](https://blog.upx8.com/go/aHR0cHM6Ly9naXRodWIuY29tL2FjaGVvbmcwOA)Â å¤§ä½¬çš„Â `https://bypass.duti.tech/api/conversation`ï¼Œè¿™ä¸æ˜¯åé—¨ä¹Ÿä¸æ˜¯ç›‘å¬ï¼Œé™¤éä½ æœ‰èƒ½åŠ›è‡ªå·±ç¿»è¿‡Â `CF`Â éªŒè¯ï¼Œç”¨å‰è¯·çŸ¥æ‚‰ã€‚[ç¤¾åŒºä»£ç†](https://blog.upx8.com/go/aHR0cHM6Ly9naXRodWIuY29tL3RyYW5zaXRpdmUtYnVsbHNoaXQvY2hhdGdwdC1hcGkjcmV2ZXJzZS1wcm94eQ)ï¼ˆæ³¨æ„ï¼šåªæœ‰è¿™ä¸¤ä¸ªæ˜¯æ¨èï¼Œå…¶ä»–ç¬¬ä¸‰æ–¹æ¥æºï¼Œè¯·è‡ªè¡Œç”„åˆ«ï¼‰
5. æŠŠé¡¹ç›®å‘å¸ƒåˆ°å…¬å…±ç½‘ç»œæ—¶ï¼Œä½ åº”è¯¥è®¾ç½®Â `AUTH_SECRET_KEY`Â å˜é‡æ·»åŠ ä½ çš„å¯†ç è®¿é—®æƒé™ï¼Œä½ ä¹Ÿåº”è¯¥ä¿®æ”¹Â `index.html`Â ä¸­çš„Â `title`ï¼Œé˜²æ­¢è¢«å…³é”®è¯æœç´¢åˆ°ã€‚

åˆ‡æ¢æ–¹å¼ï¼š

1. è¿›å…¥Â `service/.env.example`Â æ–‡ä»¶ï¼Œå¤åˆ¶å†…å®¹åˆ°Â `service/.env`Â æ–‡ä»¶
2. ä½¿ç”¨Â `OpenAI API Key`Â è¯·å¡«å†™Â `OPENAI_API_KEY`Â å­—æ®µÂ [(è·å– apiKey)](https://blog.upx8.com/go/aHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL292ZXJ2aWV3)
3. ä½¿ç”¨Â `Web API`Â è¯·å¡«å†™Â `OPENAI_ACCESS_TOKEN`Â å­—æ®µÂ [(è·å– accessToken)](https://blog.upx8.com/go/aHR0cHM6Ly9jaGF0Lm9wZW5haS5jb20vYXBpL2F1dGgvc2Vzc2lvbg)
4. åŒæ—¶å­˜åœ¨æ—¶ä»¥Â `OpenAI API Key`Â ä¼˜å…ˆ

**è·å–è‡ªå·±çš„OPENAIçš„APIkeyï¼š**[https://platform.openai.com/account/api-keys](https://blog.upx8.com/go/aHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2FjY291bnQvYXBpLWtleXM)

**æ›´æ–°ç¯å¢ƒ**

```
apt update -y  && apt upgrade -y && apt install -y curl wget sudo socat
```

**å®‰è£… Docker**

```
curl -fsSL https://get.docker.com -o get-docker.sh && sh get-docker.sh

curl -L "https://github.com/docker/compose/releases/download/v2.16.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose

chmod +x /usr/local/bin/docker-compose
```

**åˆ›å»ºGPTç›®å½•ï¼Œåˆ›å»ºé…ç½®æ–‡ä»¶**

```
cd /home/ && mkdir gpt && cd gpt && nano docker-compose.yml
```

**composeé…ç½®ä»£ç **

version: '3.8'

```
services:

app:

image: chenzhaoyu94/chatgpt-web:main

ports:

- 3002:3002

environment:

OPENAI_API_KEY: Zeix8v6K00KpP      # ç”¨è‡ªå·±çš„API KEY
```

**è¿è¡ŒæŒ‡ä»¤**

```
cd /home/gpt && docker-compose up -d
```

**åˆ›å»ºnginxç›®å½•ç»“æ„**

```
mkdir -p /home/nginx

touch /home/nginx/nginx.conf

mkdir -p /home/nginx/certs
```

**ç”³è¯·è¯ä¹¦**

```
curl https://get.acme.sh | sh

~/.acme.sh/acme.sh --register-account -m xxxx@gmail.com

~/.acme.sh/acme.sh --issue -d gpt.kjlion.ga --standalone
```

**ä¸‹è½½è¯ä¹¦**

```
~/.acme.sh/acme.sh --installcert -d gpt.kjlion.ga  --key-file /home/nginx/certs/key.pem --fullchain-file /home/nginx/certs/cert.pem
```

**è¿›å…¥ç›®å½•ç¼–è¾‘æ–‡ä»¶**

```
cd /home/nginx/ && nano nginx.conf
```

**åå‘ä»£ç†é…ç½®ï¼Œä»£ç†æŒ‡å®šIPåŠ ç«¯å£**

```
events {

worker_connections  1024;

}

http {

client_max_body_size 1000m;

#ä¸Šä¼ é™åˆ¶å‚æ•°1Gä»¥å†…æ–‡ä»¶å¯ä¸Šä¼ 

server {

listen 80;

server_name gpt.kjlion.ga;

return 301 https://$host$request_uri;

}

server {

listen 443 ssl;

server_name gpt.kjlion.ga;

ssl_certificate /etc/nginx/certs/cert.pem;

ssl_certificate_key /etc/nginx/certs/key.pem;

location / {

proxy_pass http://0.0.0.0:3002;

proxy_set_header Host $host;

proxy_set_header X-Real-IP $remote_addr;

proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

}

}

}
```

**éƒ¨ç½²å®¹å™¨**

```
docker run -d --name nginx -p 80:80 -p 443:443 -v /home/nginx/nginx.conf:/etc/nginx/nginx.conf -v /home/nginx/certs:/etc/nginx/certs -v /home/nginx/html:/usr/share/nginx/html nginx:latest
```

**æŸ¥çœ‹è¿è¡ŒçŠ¶æ€**

```
docker ps -a
```

**å¼€æœºè‡ªå¯åŠ¨**

```
docker update --restart=always nginx

docker update --restart=always gpt-app-1
```

[å–æ¶ˆå›å¤](https://blog.upx8.com/3264#respond-post-3264)

### åœ¨ä¸‹æ–¹ç•™ä¸‹æ‚¨çš„è¯„è®º.[åŠ å…¥TGç¾¤](https://t.me/).[æ‰“èµğŸ—](/reward.html)

æäº¤è¯„è®º

* [Post](/author/1)
* [Link](/links.html)
* [å·¥å…·](https://tools.upx8.com/)
* [å…³äº](/about.html)
* [æ–‡åº“](/WooyunDrops)

[![](/usr/uploads/ypyun.png)](https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral "èµåŠ©å•†")
Copyright Â© 2024 é»‘æµ·æ´‹. All rights reserved.
[çœ‹é›ªèµåŠ©](https://www.kanxue.com/ "çœ‹é›ªå­¦é™¢èµåŠ©")

[æµ™ICPå¤‡2021040518å·](http://beian.miit.gov.cn "æµ™ICPå¤‡2021040518å·") [Sitemap](sitemap.xml?type=index "Sitemap")