---
title: 二进制安全入门
url: https://www.freebuf.com/articles/system/419416.html
source: FreeBuf网络安全行业门户
date: 2025-01-10
fetch_date: 2025-10-06T20:08:34.647145
---

# 二进制安全入门

[![freeBuf](/images/logoMax.png)](/)

主站

分类

云安全

AI安全

开发安全

终端安全

数据安全

Web安全

基础安全

企业安全

关基安全

移动安全

系统安全

其他安全

特色

热点

工具

漏洞

人物志

活动

安全招聘

攻防演练

政策法规

[报告](https://www.freebuf.com/report)[专辑](/column)

* ···
* [公开课](https://live.freebuf.com)
* ···
* [商城](https://shop.freebuf.com)
* ···
* 用户服务
* ···

行业服务

政 府

CNCERT
CNNVD

会员体系（甲方）
会员体系（厂商）
产品名录
企业空间

[知识大陆](https://wiki.freebuf.com/page)

搜索

![](/freebuf/img/7aa3bf7.svg) ![](/freebuf/img/181d733.svg)

创作中心

[登录](https://www.freebuf.com/oauth)[注册](https://www.freebuf.com/oauth)

官方公众号企业安全新浪微博

![](/images/gzh_code.jpg)

FreeBuf.COM网络安全行业门户，每日发布专业的安全资讯、技术剖析。

![FreeBuf+小程序](/images/xcx-code.jpg)

FreeBuf+小程序把安全装进口袋

[![](https://image.3001.net/images/20231020/1697804527_653270ef7570cc7356ba8.png)](https://wiki.freebuf.com)

二进制安全入门

* ![]()
* 关注

* [系统安全](https://www.freebuf.com/articles/system)

二进制安全入门

2025-01-09 16:52:16

所属地 陕西省

![](https://image.3001.net/images/20240308/1709876354_65eaa4828e91d155430d9.png)
本文由
创作，已纳入「FreeBuf原创奖励计划」，未授权禁止转载

## 概述

多年来，操作系统内核处理内存的方式以及二进制文件的编译方式都增加了许多保护措施，以防止内存漏洞。不过，总有新的方法来利用二进制文件中的小错误，并利用它们来控制远程机器或获得对本地机器的更高权限。

然而，随着二进制和内存保护变得越来越先进，二进制利用方法也变得越来越先进。这就是为什么现代二进制利用方法需要深入了解汇编语言、计算机架构和二进制利用等基础知识。

## 高级语言

**高级语言**（High-level Language）是指与计算机硬件和底层操作系统分离、更加接近人类语言的编程语言。高级语言的目的是让程序员可以以较少的工作量和较高的抽象级别编写代码，从而不必直接操作计算机硬件（如寄存器、内存地址等）。这些语言通过编译器或解释器将代码转换为机器语言或中间语言，以便计算机能够执行。

### 高级语言的特点

1. **接近自然语言**：
   高级语言的语法结构设计接近人类的自然语言，便于理解和使用。例如，Python语法简洁直观，Java的面向对象特性使得代码组织更加清晰。
2. **抽象硬件细节**：
   高级语言为程序员提供了更高级别的抽象，免去了直接操作计算机硬件的复杂性。程序员不需要关心内存管理、寄存器分配等低级细节。
3. **跨平台性**：
   许多高级语言通过虚拟机、解释器或编译器支持跨平台功能。比如，Java程序通过Java虚拟机（JVM）实现跨平台，Python代码可以在多个操作系统上运行。
4. **内存管理自动化**：
   很多现代高级语言（如Java、Python等）具有自动垃圾回收机制，程序员不需要手动管理内存，这减少了内存泄漏和其他内存相关错误。
5. **代码可读性高**：
   高级语言通常易于学习，具有清晰、简洁的语法，使得程序员能够更容易理解和维护代码。

### 常见的高级语言

1. **C语言**：
   **示例：**

```
#include <stdio.h>

int main() {
    int a = 5, b = 10;
    int sum = a + b;
    printf("Sum: %d\n", sum);
    return 0;
}
```

这段代码定义了两个整数`a`和`b`，计算它们的和并打印输出。
\* C语言是最经典的高级语言之一，广泛应用于操作系统、嵌入式系统以及应用程序开发。它提供了对硬件的较高控制能力，虽然相较于汇编语言，它已经是一个高级语言，但仍然保留了对内存和硬件的细致控制。C语言的效率较高，且可以在多种平台上运行。
2. **C++**：
**示例：**

```
#include <iostream>

class Rectangle {
private:
    int width, height;
public:
    void set_values(int w, int h) {
        width = w;
        height = h;
    }
    int area() {
        return width * height;
    }
};

int main() {
    Rectangle rect;
    rect.set_values(5, 10);
    std::cout << "Area: " << rect.area() << std::endl;
    return 0;
}
```

这段代码展示了C++的面向对象特性，定义了一个`Rectangle`类，通过`set_values`方法设置矩形的宽度和高度，并计算其面积。
\* C++是C语言的扩展，支持面向对象编程（OOP）和泛型编程。它广泛应用于游戏开发、图形应用、操作系统开发等领域。C++结合了高效性与面向对象的特性。
3. **Java**：
**示例：**

```
public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}
```

这段代码展示了Java的基本结构，打印出"Hello, World!"。
\* Java是一种面向对象的编程语言，广泛应用于企业级应用、Web开发和Android应用开发。Java通过Java虚拟机（JVM）实现跨平台，代码一次编写，处处运行。
4. **Python**：
**示例：**

```
def add(a, b):
    return a + b

x = 5
y = 10
print("Sum:", add(x, y))
```

这段Python代码定义了一个简单的加法函数并打印结果。
\* Python是一种简洁易懂的高级编程语言，广泛应用于Web开发、数据分析、机器学习、自动化脚本等领域。Python强调代码的可读性，语法简洁明了。
5. **JavaScript**：
**示例：**

```
let x = 5;
let y = 10;
console.log("Sum:", x + y);
```

这段代码通过JavaScript将两个数字相加并输出结果。
\* JavaScript是用于Web开发的编程语言，通常嵌入到网页中，通过浏览器执行。它是一种事件驱动、非阻塞的编程语言，广泛用于前端和后端开发（例如通过Node.js）。
6. **Ruby**：
**示例：**

```
def add(a, b)
    a + b
end

x = 5
y = 10
puts "Sum: #{add(x, y)}"
```

这段Ruby代码展示了如何定义一个方法并计算两个数的和。
\* Ruby是一种动态类型的高级编程语言，以其简洁的语法和强大的面向对象编程特性而闻名。Ruby on Rails框架被广泛应用于Web开发。
7. **Go（Golang）**：
**示例：**

```
package main
import "fmt"

func main() {
    x := 5
    y := 10
    fmt.Println("Sum:", x + y)
}
```

Go语言的代码简洁，适用于高效的系统编程。
\* Go是由Google开发的编程语言，主要用于网络编程、并发处理和分布式系统。Go语言的优势在于其简洁性和内置的并发支持（goroutines）。
8. **Swift**：
**示例：**

```
let x = 5
let y = 10
print("Sum:", x + y)
```

Swift的代码简洁且易于理解，是iOS开发的主流语言。
\* Swift是由Apple开发的编程语言，主要用于iOS和macOS应用开发。Swift具有现代的语法，强调安全性、性能和可读性。

### 高级语言的优点

* **开发速度快**：高级语言通常具有丰富的库和工具支持，使得开发过程更加高效。
* **易于学习和理解**：由于接近自然语言，程序员可以较容易地上手。
* **跨平台**：许多高级语言通过虚拟机或解释器实现了跨平台功能，程序员编写的代码可以在不同的操作系统上运行。
* **自动内存管理**：许多高级语言（如Java、Python）提供垃圾回收机制，自动管理内存的分配和回收。
* **高层抽象**：程序员可以专注于应用逻辑，而无需关注底层细节（如硬件、内存管理等）。

### 高级语言的缺点

* **执行效率低**：相比于低级语言（如C、汇编），高级语言的执行效率通常较低，因为高级语言需要通过解释器或编译器进行翻译。
* **资源消耗较大**：一些高级语言（如Java）可能会占用较多的内存和计算资源，尤其是在垃圾回收机制运行时。
* **不适合底层开发**：高级语言通常不适合进行底层开发，如操作系统、嵌入式系统等。

## 汇编语言

汇编语言（Assembly Language）是一种低级编程语言，它与机器语言直接相关，但比机器语言更容易理解和使用。每种汇编语言通常是针对特定的计算机体系结构（如x86、ARM等）设计的，它为程序员提供了一种与硬件直接交互的方式。与高级语言相比，汇编语言的代码通常更接近机器代码，且程序员需要手动管理更多底层细节，如寄存器使用、内存管理等。

### 汇编语言的特点

1. **与硬件密切相关**：
   汇编语言与计算机的硬件结构（如CPU架构、内存布局等）密切相关，程序员需要了解计算机体系结构来编写汇编代码。
2. **指令集架构（ISA）**：
   每种CPU都有自己的指令集架构，这些指令是汇编语言中常见的操作，如数据加载、存储、算术运算、逻辑运算、跳转等。常见的架构包括x86、x86-64、ARM、MIPS等。
3. **通过汇编语言实现对硬件的精细控制**：
   汇编语言允许程序员直接控制硬件资源，如寄存器、内存、I/O端口等，这对于需要高性能或对硬件有特殊需求的应用（如操作系统、驱动程序、嵌入式系统等）尤其重要。
4. **性能优化**：
   在某些情况下，使用汇编语言可以获得比高级语言更高的执行效率。由于汇编语言直接映射到机器代码，程序员可以对代码进行精细的性能优化。
5. **调试与逆向工程**：
   汇编语言对于调试和逆向工程非常重要。反编译后的二进制文件通常以汇编语言表示，通过阅读汇编代码，安全专家可以分析和理解程序的工作原理。

### 汇编语言的基本结构

1. **标签（Labels）**：
   标签是汇编代码中的一种符号，用于标识程序中的位置，通常用于跳转和分支。例如：

```
loop_start:
   ; 循环代码
   jmp loop_start
```

2. **操作码（Opcodes）**：
   操作码是实际的指令，告诉CPU执行什么操作，如`MOV`（数据传送）、`ADD`（加法）、`SUB`（减法）、`JMP`（跳转）等。例如：

```
MOV AX, 1     ; 将1存入AX寄存器
ADD AX, BX    ; 将BX寄存器的值加到AX寄存器中
```

3. **寄存器（Registers）**：
   汇编语言程序通常需要与CPU的寄存器交互。寄存器是CPU内的高速存储单元，用来存储数据和指令。例如，x86架构中常用的寄存器有`AX`、`BX`、`CX`、`DX`等。
4. **内存操作**：
   汇编语言允许程序员操作内存，通过加载和存储指令将数据从寄存器传送到内存或从内存传送到寄存器。例如：

```
MOV [0x1000], AX   ; 将AX寄存器的值存入内存地址0x1000
MOV AX, [0x1000]   ; 将内存地址0x1000的值加载到AX寄存器
```

5. **条件跳转（Conditional Jump）**：
   汇编语言支持条件跳转，通常通过某些标志位（如零标志ZF、进位标志CF等）来控制程序的执行流。例如：

```
CMP AX, BX        ; 比较AX和BX寄存器的值
JE equal_label    ; 如果相等，则跳转到equal_label
```

### 汇编语言的使用场景

1. **操作系统开发**：
   操作系统通常需要直接与硬件交互，如管理内存、调度进程等，这些操作往往依赖于汇编语言来实现。
2. **嵌入式系统**：
   嵌入式系统通常资源有限，性能要求高，因此汇编语言在编写驱动程序和硬件控制软件时非常重要。
3. **逆向工程与漏洞分析**：
   对于黑客、渗透测试人员和安全研究人员来说，汇编语言是分析二进制文件、逆向工程和寻找漏洞的基本工具。
4. **性能优化**：
   在某些情况下，程序员会使用汇编语言对关键的性能瓶颈部分进行优化，特别是当需要尽可能高的执行效率时。

### 示例代码（x86汇编）

一个简单的汇编程序示例，执行加法操作：

```
section .data
    num1 db 5      ; 定义一个字节，值为5
    num2 db 10     ; 定义一个字节，值为10

section .text
    global _start

_start:
    ; 加载num1和num2的值到寄存器
    mov al, [num1] ; 将num1的值加载到AL寄存器
    add al, [num2] ; 将num2的值加到AL寄存器

    ; 输出结果
    mov ebx, 1      ; 输出到标准输出
    mov ecx, al     ; 将结果（AL寄存器的值）放入ECX寄存器
    mov eax, 4      ; 系统调用号：sys_write
    int 0x80        ; 调用内核
    ; 退出程序
    mov eax, 1      ; 系统调用号：sys_exit
    int 0x80        ; 调用内核
```

这个程序计算了两个数的和并将结果输出到标准输出。

### 汇编语言的学习路径

1. **理解计算机架构**：了解计算机的基本构成，尤其是CPU的工作原理和常见指令集架构（如x86、ARM等）。
2. **掌握常用指令**：学习常见的汇编指令，如数据传输、算术运算、逻辑运算、条件跳转等。
3. **学习汇编调试工具**：使用调试工具（如GDB、OllyDbg、x64dbg等）来分析和调试汇编代码。
4. **实践编写程序**：通过编写简单的汇编程序来实践所学的知识，逐步掌握更复杂的程序设计。

汇编语言虽然难度较高，但它为深入了解计算机的工作方式和提高程序优化能力提供了极大的帮助。

## 操作系统

**操作系统**（Operating System, OS）是计算机系统中最重要的系统软件之一，它负责管理计算机硬件与软件资源，并为计算机上的应用程序提供服务和支持。操作系统作为计算机硬件和用户之间的桥梁，确保硬件资源的有效利用，同时提供一个用户友好的界面。

### 操作系统的基本功能

1. **进程管理**：

   * 操作系统负责管理程序的执行（即进程），包括创建、调度、终止进程等。操作系统确保多个进程可以有效并发执行，同时避免资源冲突（例如CPU时间的分配和内存使用）。
2. **内存管理**：

   * 操作系统管理计算机的内存，包括主存和虚拟内存。它负责分配和回收内存资源，确保程序能够安全运行并有效使用内存。内存管理还包括分页、分段等机制。
3. **文件系统管理**：

   * 操作系统提供文件管理功能，包括文件的创建、删除、读取、写入以及权限控制。它负责管理硬盘等存储设备上的文件结构，使得数据存取和管理更加高效和安全。
4. **设备管理**：

   * 操作系统控制和管理计算机的外部设备（如硬盘、打印机、网络接口等）。它通过设备驱动程序与硬件设备进行通信，提供统一的设备接口，供用户和程序使用。
5. **用户界面**：

   * 操作系统提供用户与计算机交互的界面，分为两种形式：

     + **命令行界面（CLI）**：用户通过输入命令与操作系统进行交互（如Linux、DOS）。
     + **图形用户界面（GUI）**：通过图形化的窗口、按钮等元素与操作系统交互（如Windows、macOS）。
6. **安全和权限管理**：

   * 操作系统提供用户身份验证和权限控制机制，以保证系统的安全性。它管理用户账户和权限，防止未授权的访问和数据泄露。
7. **网络管理**：

   * 操作系统负责管理计算机的网络连接，支持与其他计算机和设备的通信。它提供网络协议栈（如TCP/IP），并管理网络接口卡、网络地址等。

### 操作系统的分类

1. **批处理操作系统**：

   * 这种操作系统用于没有实时交互的工作环境，任务按顺序批量处理。例如，早期的**IBM 704**和**IBM 7090**系统采用批处理模式。
2. **分时操作系统**：

   * 分时操作系统允许多个用户同时使用计算机资源（如时间共享系统），它通过快速切换进程，模拟出并发处理的效果。典型的分时操作系统有**Multics**、**Unix**等。
3. **实时操作系统**：

   * 实时操作系统（RTOS）用于对响应时间有严格要求的应用，如嵌入式系统、工业控制等。RTOS的特点是能够在确定的时间内完成特定任务。常见的RTOS有**VxWorks**、**RTEMS*...