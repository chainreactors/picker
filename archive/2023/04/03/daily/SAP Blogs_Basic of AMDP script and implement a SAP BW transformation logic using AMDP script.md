---
title: Basic of AMDP script and implement a SAP BW transformation logic using AMDP script
url: https://blogs.sap.com/2023/04/02/basic-of-amdp-script-and-implement-a-sap-bw-transformation-logic-using-amdp-script/
source: SAP Blogs
date: 2023-04-03
fetch_date: 2025-10-04T11:30:10.445601
---

# Basic of AMDP script and implement a SAP BW transformation logic using AMDP script

* [SAP Community](/)
* [Products and Technology](/t5/products-and-technology/ct-p/products)
* [Technology](/t5/technology/ct-p/technology)
* [Technology Blog Posts by Members](/t5/technology-blog-posts-by-members/bg-p/technology-blog-members)
* Basic of AMDP script and implement a SAP BW transf...

Technology Blog Posts by Members

All communityThis categoryBlogKnowledge baseUsersManaged tags

cancel

[Turn on suggestions](https://community.sap.com/t5/blogs/v2/blogarticlepage.enableautocomplete%3Aenableautocomplete?t:ac=blog-id/technology-blog-members/article-id/162433&t:cp=action/contributions/searchactions)

Auto-suggest helps you quickly narrow down your search results by suggesting possible matches as you type.

Showing results for

Search instead for

Did you mean:

We have just launched our new Developer forums! Check out more in
[this What's New post](https://community.sap.com/t5/what-s-new/new-developer-forums/ba-p/14230147) (This banner is now dismissible.)

Read only

## [Basic of AMDP script and implement a SAP BW transformation logic using AMDP script](/t5/technology-blog-posts-by-members/basic-of-amdp-script-and-implement-a-sap-bw-transformation-logic-using-amdp/ba-p/13563742)

![pallab_haldar](https://avatars.profile.sap.com/4/2/id42d0a352096e2fd071fe39e7ec5b73f1f20abf1d7ce6542aa72c8246918879b7_small.jpeg "pallab_haldar")

[pallab\_haldar](https://community.sap.com/t5/user/viewprofilepage/user-id/594699)

Active Participant

Options

* [Subscribe to RSS Feed](/khhcw49343/rss/message?board.id=technology-blog-members&message.id=162433)
* Mark as New
* Mark as Read
* Bookmark
* Subscribe
* [Printer Friendly Page](/t5/blogs/blogarticleprintpage/blog-id/technology-blog-members/article-id/162433)
* [Report Inappropriate Content](/t5/notifications/notifymoderatorpage/message-uid/13563742)

‚Äé2023 Apr 02
6:45 PM

[5
Kudos](/t5/kudos/messagepage/board-id/technology-blog-members/message-id/162433/tab/all-users "Click here to see who gave kudos to this post.")

21,852

* SAP Managed Tags
* [SAP HANA](https://community.sap.com/t5/c-khhcw49343/SAP%2520HANA/pd-p/73554900100700000996)

* [SAP HANA

  Software Product](/t5/c-khhcw49343/SAP%2BHANA/pd-p/73554900100700000996)

View products (1)

Today, I am going to discuss the basic of **AMDP** script and implement a SAP BW transformation logic using **AMDP** script.

First question is what is **AMDP** script and why we will use **AMDP** instead of normal AMAP script for different types of routine like Start End and expert routine.

AMDP is **ABAP managed Database Procedure** which used to run in HANA runtime. All the database **logic** push to the database level for execution. In the other hand the **ABAP** procedure execute the logic in the ABAP layer inside **ABAP** runtime environment .

Business transformation logic implemented in AMDP is faster than ABAP transformation because it is executed in database layer. But always it is not useful.

If we use **ODP** extractor for Data extraction in BW then ABAP transformation is useful as¬† ODP extraction and¬† transformation both done in ABAP environment and runtime. it is not a good idea to use AMDP script until the logic is too complex.When the existing ABAP rule Type is not sufficient, then only you can define SQL script.

When you create a AMDP script transformation a SAPHANApocedure created that is implemented by a method in AMDP Class.This generated class generated by BW and only edited in the ABAP development tool.

Lets discuss about few **AMDP** routines -

1. Create a transformation and create a end routine using **AMDP** script -

![](/legacyfs/online/storage/blog_attachments/2023/03/AMDP-script-creation.jpg)

2. We can see the **AMDP class**¬† method. Please check three variables for the¬† script development -

**inTab** -Internal table contain incoming data.
**outTab** -Internal table contain output data.
**errorTab** -Table containing erroneous records.

![](/legacyfs/online/storage/blog_attachments/2023/03/AMP-Method.jpg)

3. Edit the code and activate. Now below given a sample of ABAP code and equivalent AMDP code.

This can be customized as per requirement basis -

ABAP Code -

```
*********** Start Transformation**********************************

       SELECT MATERIAL PLANT NET_PRICE GROSS_PRICE /BIC/VALID_DATE

        FROM

      /BIC/APLB12

        INTO CORRESPONDING FIELDS OF TABLE LT_PLB FOR ALL ENTRIES IN

        RESULT_PACKAGE

        WHERE MATERIAL = RESULT_PACKAGE-/BIC/ZMATERIAL

              AND PLANT = RESULT_PACKAGE-PLANT.

LOOP at RESULT_PACKAGE ASSIGNING <result_fields>.

********* Start Polulate Data in Result ADSO************************

        READ TABLE LT_PLB INTO WA_PLB

              WITH KEY MATERIAL = <result_fields>-/BIC/ZMATERIAL

                       PLANT = <result_fields>-PLANT.

		  IF sy-subrc = 0.

			 <result_fields>-/BIC/TOTAL PRICE = WA_PLB-GROSS_PRICE + WA_PLB-NET_PRICE.

		  ENDIF.

********* End Polulate Data in Result ADSO***************************
```

Equivalent AMDP code is -

```
********* Start AMDP Script *****************************************

OUTTAB = SELECT

			"/BIC/POORDER",

			"/BIC/ORDER_LINE",

			"/BIC/SCHEDULE_LINE",

			"/BIC/CREATION_DATE",

			"/BIC/ZMATERIAL",

			"/BIC/0PLANT",

			"/BIC/TOTAL_PRICE",

			CURRENCY,

			SQL_PROCEDURE_SOURCE_RECORD

			FROM

			(SELECT

				P1."/BIC/POORDER",

				P1."/BIC/ORDER_LINE",

			    P1."/BIC/SCHEDULE_LINE",

			    P1."/BIC/CREATION_DATE",

			    P1."/BIC/ZMATERIAL",

				P1."/BIC/0PLANT",

			    (P2.GROSS_PRICE + P2.NET_PRICE) AS "/BIC/TOTAL_PRICE",

				CURRENCY,

				P1.SQL_PROCEDURE_SOURCE_RECORD

				FROM : TEMP_TABLE P1 LEFT OUTER JOIN "/BIC/APLB12" P2 ON P1."/BIC/ZMATERIAL" = P2.MATERIAL

                       AND P1."/BIC/0PLANT" = P2.PLANT);

********** END OF AMDP SCRIPT ***************************************
```

4. Activate the AMDP script method and then the transformation .

5. Go to the Target data preview . You can see the calculated key figure /BIC/TOTAL\_PRICE calculated using AMDP script.

You must be a registered user to add a comment. If you've already registered, sign in. Otherwise, register and sign in.

* [Comment](/plugins/common/feature/oidcss/sso_login_redirect/providerid/sap_ids_prompt?redirectreason=permissiondenied&referer=https%3A%2F%2Fcommunity.sap.com%2Ft5%2Ftechnology-blog-posts-by-members%2Fbasic-of-amdp-script-and-implement-a-sap-bw-transformation-logic-using-amdp%2Fba-p%2F13563742%23comment-on-this)

Copy Link
![](https://community.sap.com/html/@EE5D5986E9F4E5657DCEACB7532B5C39/assets/bluesky-dark.svg)Bluesky
Linkedin

Related Content

* [A Smarter Move from Boomi and MuleSoft to SAP Integration Suite - Assessed, Automated, Validated](/t5/technology-blog-posts-by-members/a-smarter-move-from-boomi-and-mulesoft-to-sap-integration-suite-assessed/ba-p/14233647)
  in [Technology Blog Posts by Members](/t5/technology-blog-posts-by-members/bg-p/technology-blog-members)  Thursday
* [Transforming Healthcare Procurement: Lessons from Our S/4HANA MM Implementation](/t5/technology-q-a/transforming-healthcare-procurement-lessons-from-our-s-4hana-mm/qaq-p/14233251)
  in [Technology Q&A](/t5/technology-q-a/qa-p/technology-questions)  Thursday
* [üöÄ Remember the pioneering days of SAP ECC?](/t5/technology-blog-posts-by-members/remember-the-pioneering-days-of-sap-ecc/ba-p/14229517)
  in [Technology Blog Posts by Members](/t5/technology-blog-posts-by-members/bg-p/technology-blog-members)  Saturday
* [SAP S/4HANA: Stop the 'Interapplication Spaghetti' üçù Start the Real-Time Transformation](/t5/technology-blog-posts-by-members/sap-s-4hana-stop-the-interapplication-spaghetti-start-the-real-time/ba-p/14229514)
  in [Technology Blog Posts by Members](/t5/technology-blog-posts-by-members/bg-p/technology-blog-members)  Saturday
* [New in SAP Cloud ALM : Risk Management for Projects](/t5/technology-blog-posts-by-sap/new-in-sap-cloud-alm-risk-management-for-projects/ba-p/14227923)
  in [Technology Blog Posts by SAP...