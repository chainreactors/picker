---
title: æ‰“é€ è‡ªå·±çš„äº‘ç«¯nasä»£ç 
url: https://blog.upx8.com/3111
source: é»‘æµ·æ´‹ - WIKI
date: 2022-11-22
fetch_date: 2025-10-03T23:24:13.018339
---

# æ‰“é€ è‡ªå·±çš„äº‘ç«¯nasä»£ç 

# [é»‘æµ·æ´‹ - Wiki](/ "é»‘æµ·æ´‹ - Wiki - ç‚¹å‡»è¿”å›é¦–é¡µ")

# æ‰“é€ è‡ªå·±çš„äº‘ç«¯nasä»£ç 

å‘å¸ƒæ—¶é—´:
2022-11-21

åˆ†ç±»:
[ç³»ç»Ÿå®‰å…¨/os\_security](https://blog.upx8.com/os_security/)

çƒ­åº¦:
17414

æœ¬æ•™ç¨‹ä½¿ç”¨åˆ°çš„æºç 
[https://github.com/vitaminx/gd-utils](https://blog.upx8.com/go/aHR0cHM6Ly9naXRodWIuY29tL3ZpdGFtaW54L2dkLXV0aWxz)
[https://github.com/iwestlin/gd-utils](https://blog.upx8.com/go/aHR0cHM6Ly9naXRodWIuY29tL2l3ZXN0bGluL2dkLXV0aWxz)

## 1ã€ç”³è¯·googleæ— é™ç½‘ç›˜

[https://td.fastio.me/](https://blog.upx8.com/go/aHR0cHM6Ly90ZC5mYXN0aW8ubWUv)
[https://gd.404edu.workers.dev/](https://blog.upx8.com/go/aHR0cHM6Ly9nZC40MDRlZHUud29ya2Vycy5kZXYv)
[http://leon.educationhost.cloud/](https://blog.upx8.com/go/aHR0cDovL2xlb24uZWR1Y2F0aW9uaG9zdC5jbG91ZC8)

è®°å½•ä¸‹ä»–çš„IDï¼Œç½‘å€æœ€åä¸€æ®µ

## 2ã€å‡†å¤‡å·¥ä½œ

1ï¼‰ä¸€å°vpsï¼Œ512å†…å­˜ï¼Œå¹²å‡€çš„æœºå™¨
2ï¼‰ä¸€ä¸ªåŸŸåï¼Œè§£æåˆ°cfï¼ˆå…ˆåšï¼Œå…å¾—åé¢dnsè§£ææ…¢ï¼Œè¿ä¸ä¸Šæœºå™¨äººï¼‰
å…è´¹åŸŸåç”³è¯·ï¼Œå¯çœ‹[https://youtu.be/VdCXgeFL37E](https://blog.upx8.com/go/aHR0cHM6Ly95b3V0dS5iZS9WZENYZ2VGTDM3RQ)
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

## åˆ›å»ºsaï¼Œçªç ´750GBé™åˆ¶

å‡çº§ç³»ç»Ÿ

```
apt update -y &&ã€€apt upgrade -y
```

å®‰è£…ä¾èµ–

```
apt install wget curl screen git sudo python3-distutils -y
```

å®‰è£…python

```
apt install python3 python3-pip -y
```

ï¼ˆç”±äºéƒ¨åˆ†æœ‹å‹åœ¨ä»“åº“å†…æ‰¾ä¸åˆ° pip/pip3 æ•…æä¾›ä»¥ä¸‹å®‰è£…æ–¹å¼curl "https://bootstrap.pypa.io/get-pip.py" -o "get-pip.py"python3 get-pip.py)

ä¸‹è½½å¹¶å®‰è£… AutoRclone

```
git clone https://github.com/xyou365/AutoRclone && cd AutoRclone && sudo pip3 install -r requirements.txt
```

é…ç½®AutoRclone
[https://developers.google.com/drive/api/v3/quickstart/python](https://blog.upx8.com/go/aHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vZHJpdmUvYXBpL3YzL3F1aWNrc3RhcnQvcHl0aG9u)

ä¸‹è½½credentials.json

å°†åˆšæ‰ä¸‹è½½çš„ credentials.json æ–‡ä»¶ä¸Šä¼ è‡³ ~/AutoRclone ç›®å½•ä¸‹

åˆ›å»ºé¡¹ç›®

ä¹‹å‰æ²¡æœ‰åˆ›å»ºè¿‡é¡¹ç›®
ç›´æ¥è¿è¡Œï¼š

```
python3 gen_sa_accounts.py --quick-setup 1
```

ä»¥ä¸Šå‘½ä»¤å«ä¹‰ï¼š

åˆ›å»º1ä¸ªé¡¹ç›®
å¼€å¯ç›¸å…³çš„æœåŠ¡
åˆ›å»º100ä¸ª service accounts
å°†100ä¸ª service accounts çš„æˆæƒæ–‡ä»¶ä¸‹è½½åˆ° accounts æ–‡ä»¶å¤¹ä¸‹é¢

2ã€å·²æœ‰é¡¹ç›®ï¼Œéœ€è¦åˆ›å»ºæ–°çš„

```
python3 gen_sa_accounts.py --quick-setup 2 --new-only
```

ä»¥ä¸Šå‘½ä»¤å«ä¹‰ï¼š

é¢å¤–åˆ›å»º2ä¸ªé¡¹ç›®ï¼ˆé¡¹ç›®N+1åˆ°é¡¹ç›®N+2ï¼‰
å¼€å¯ç›¸å…³çš„æœåŠ¡
åˆ›å»º200ä¸ª service accountsï¼ˆ2ä¸ªé¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®100ä¸ªï¼‰
å°†200ä¸ª service accounts çš„æˆæƒæ–‡ä»¶ä¸‹è½½åˆ° accounts æ–‡ä»¶å¤¹ä¸‹é¢

## å°†æ·»åŠ åˆ°googleæ— é™ç›˜

1.ç›´æ¥åŠ å…¥åˆ°ç”¨æˆ·é‡Œé¢

```
python3 add_to_team_drive.py -d 0AD7rQlWmuc5HUk9PVA
```

2.åŠ å…¥åˆ°googleç¾¤ç»„é‡Œé¢

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

## å¦‚ä½•æ¬è¿

1ã€ç›´æ¥åˆ©ç”¨gcloneæ¬è¿

```
bash <(wget -qO- https://git.io/gclone.sh)
```

è®°å½•
/root/AutoRclone/accounts/
/root/AutoRclone/accounts/02db52406f300663f5e6f7b60216616df3e6b869.json

gclone config

ç‰¹åˆ«æ³¨æ„
service\_account\_file å¡«å…¥ä»¥ä¸Šè®°ä¸‹çš„ .json æ–‡ä»¶
service\_account\_file\_path æ—¶ï¼Œå¡«å…¥ /root/AutoRclone/accounts/

screen
æµ‹è¯•ç”¨
[https://drive.google.com/drive/folders/12p02xr5EuXoVMvH2H-BTp\_RShBuJnvMx](https://blog.upx8.com/go/aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2RyaXZlL2ZvbGRlcnMvMTJwMDJ4cjVFdVhvVk12SDJILUJUcF9SU2hCdUpudk14)

å…‹éš†å‘½ä»¤

```
gclone copy a:{12p02xr5EuXoVMvH2H-BTp_RShBuJnvMx} a:æµ‹è¯•1 --drive-server-side-across-configs -v
```

## TGæœºå™¨äººæ­å»º

@BotFather
@userinfobot

âœ…ä¸€é”®è„šæœ¬ä½¿ç”¨æ–¹æ³•ï¼š
åªéœ€å¤åˆ¶ä»¥ä¸‹é“¾æ¥åˆ°VPSå‘½ä»¤è¡Œçª—å£ç²˜è´´å›è½¦å³å¯ä»¥æ‰§è¡Œ
âœ…gdutilsé¡¹ç›®ä¸€é”®éƒ¨ç½²è„šæœ¬ï¼ˆåŒ…æ‹¬â€œæŸ¥è¯¢è½¬å­˜â€å’Œâ€œTGæœºå™¨äººâ€ä¸¤éƒ¨åˆ†ï¼‰

```
bash -c "$(curl -fsSL https://raw.githubusercontent.com/vitaminx/gd-utils/master/gdutilsinstall.sh)"
```

âœ…gdutilsé¡¹ç›®ä¸€é”®éƒ¨ç½²è„šæœ¬ä¹‹â€œè½¬å­˜æŸ¥è¯¢éƒ¨åˆ†â€

```
bash -c "$(curl -fsSL https://raw.githubusercontent.com/vitaminx/gd-utils/master/gdutilscsinstall.sh)"
```

âœ…gdutilsé¡¹ç›®ä¸€é”®éƒ¨ç½²è„šæœ¬ä¹‹â€œTGæœºå™¨äººéƒ¨åˆ†â€

```
bash -c "$(curl -fsSL https://raw.githubusercontent.com/vitaminx/gd-utils/master/gdutilsbotinstall.sh)"
```

å¤åˆ¶sa

```
cd /root/AutoRclone/accounts/

cp -r ./* /root/gd-utils/sa
```

## æŒ‚è½½emby

```
mkdir -p /home/gdrive

/usr/bin/gclone mount a: /home/gdrive \
 --umask 0000 \
 --default-permissions \
 --allow-non-empty \
 --allow-other \
 --buffer-size 32M \
 --dir-cache-time 12h \
 --vfs-read-chunk-size 64M \
 --vfs-read-chunk-size-limit 1G &
```

æŸ¥çœ‹æŒ‚è½½

```
df -h
```

å¦‚æœæŒ‚è½½å‡ºé”™

```
apt install fuse -y
```

è‡ªåŠ¨æŒ‚è½½

```
cat > /etc/systemd/system/gclone.service <<EOF
[Unit]
Description=gclone
AssertPathIsDirectory=LocalFolder
After=network-online.target

[Service]
Type=simple
ExecStart=/usr/bin/gclone mount a: /home/gdrive \
 --umask 0000 \
 --default-permissions \
 --allow-non-empty \
 --allow-other \
 --buffer-size 32M \
 --dir-cache-time 12h \
 --vfs-read-chunk-size 64M \
 --vfs-read-chunk-size-limit 1G
ExecStop=/bin/fusermount -u LocalFolder
Restart=on-abort
User=root

[Install]
WantedBy=default.target
EOF
```

6ã€è®¾ç½®å¯åŠ¨

```
systemctl start gclone
```

7ã€å¼€å¯å¯åŠ¨

```
systemctl enable gclone
```

## å®‰è£…emby

```
wget https://github.com/MediaBrowser/Emby.Releases/releases/download/4.4.3.0/emby-server-deb_4.4.3.0_amd64.deb

dpkg -i emby-server-deb_4.4.3.0_amd64.deb
```

ä¸€é”®è™šæ‹Ÿå†…å­˜

```
wget https://www.moerats.com/usr/shell/swap.sh && bash swap.sh
```

xxx.xxx.xxx.xxx:8096

## å¦‚æœæ‰“ä¸å¼€ï¼Œå¯èƒ½æ˜¯é˜²ç«å¢™æ²¡å…³

```
iptables -F
```

å¦‚æœä½ çš„æ˜¯contosçš„ç³»ç»Ÿï¼Œæœ‰å¯èƒ½æ˜¯æ–‡ä»¶æƒé™ä¸å¤Ÿæˆ–é˜²ç«å¢™æ²¡å…³
æœåŠ¡å™¨é˜²ç«å¢™æ£€æŸ¥

```
firewall-cmd --state
```

å…³é—­é˜²ç«å¢™

```
systemctl stop firewalld.service
```

ç¦æ­¢firewallå¼€æœºå¯åŠ¨

```
systemctl disable firewalld.service
```

å¦‚æœè¿˜æ˜¯æ— æ³•æ–¹ä½ï¼Œå†æŸ¥çœ‹embyæœåŠ¡å™¨çš„çŠ¶æ€

```
systemctl status emby-server.service
```

æ²¡æœ‰å¯åŠ¨æ˜¯æœ‰ä¸ªçº¢è‰²çš„ failed
è¿™ä¸ªæ—¶å€™å»/var/lib/,ç»™embyæ–‡ä»¶å¤¹æƒé™ï¼Œ777
å†å¯åŠ¨emby

```
systemctl start emby-server
```

å®Œç»“ï¼Œæ’’èŠ±

æµ‹è¯•å½±è§†æ¬å®¶
[https://drive.google.com/drive/folders/1uoH-CAENT26YCV0u4rs6SvJF6craQNHM](https://blog.upx8.com/go/aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2RyaXZlL2ZvbGRlcnMvMXVvSC1DQUVOVDI2WUNWMHU0cnM2U3ZKRjZjcmFRTkhN)

[å–æ¶ˆå›å¤](https://blog.upx8.com/3111#respond-post-3111)

### åœ¨ä¸‹æ–¹ç•™ä¸‹æ‚¨çš„è¯„è®º.[åŠ å…¥TGç¾¤](https://t.me/).[æ‰“èµğŸ—](/reward.html)

æäº¤è¯„è®º

* [Post](/author/1)
* [Link](/links.html)
* [å·¥å…·](https://tools.upx8.com/)
* [å…³äº](/about.html)
* [æ–‡åº“](/WooyunDrops)

[![](/usr/uploads/ypyun.png)](https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral "èµåŠ©å•†")
Copyright Â© 2024 é»‘æµ·æ´‹. All rights reserved.
[çœ‹é›ªèµåŠ©](https://www.kanxue.com/ "çœ‹é›ªå­¦é™¢èµåŠ©")

[æµ™ICPå¤‡2021040518å·](http://beian.miit.gov.cn "æµ™ICPå¤‡2021040518å·") [Sitemap](sitemap.xml?type=index "Sitemap")