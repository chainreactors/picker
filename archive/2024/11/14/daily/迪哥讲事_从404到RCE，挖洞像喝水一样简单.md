---
title: 从404到RCE，挖洞像喝水一样简单
url: https://mp.weixin.qq.com/s?__biz=MzIzMTIzNTM0MA==&mid=2247496338&idx=1&sn=80a4550b2c47fcef3288062f68a563bf&chksm=e8a5f8f1dfd271e73f7a96e316bb30c524c33dff6b8683dcb37836bae99b3bee08af166e27a2&scene=58&subscene=0#rd
source: 迪哥讲事
date: 2024-11-14
fetch_date: 2025-10-06T19:20:02.272618
---

# 从404到RCE，挖洞像喝水一样简单

![cover_image](https://mmbiz.qpic.cn/mmbiz_jpg/YmmVSe19Qj4ftcibGa3hlIIeQjeDvgyZhesQoQat1SscIuJiapYZ2rr6PZTbL8jYtbO5TK5AkpCvO8rbY2VCM8zA/0?wx_fmt=jpeg)

# 从404到RCE，挖洞像喝水一样简单

迪哥讲事

以下文章来源于跟着斯叔唠安全
，作者跟着斯叔唠安全

![](http://wx.qlogo.cn/mmhead/Q3auHgzwzM71BddGyNDhcnRiaPT7QXjlY4LPZlr1kjTkctThFFtib9LA/0)

**跟着斯叔唠安全**
.

一个专注于安全资讯分享的家伙

免责声明：请勿利用文章内的相关技术从事非法测试，由于传播、利用此文所提供的信息或者工具而造成的任何直接或者间接的后果及损失，均由使用者本人负责，所产生的一切不良后果与文章作者无关。该文章仅供学习用途使用。

1

Start

又到年底冲刺的阶段了，各种众测，攻防演练项目也都接踵而来。好久没有水文章了，今天来冒个泡，记录一下最近一个项目从最初的404页面如何一步一步RCE的，没有一丁点华丽的手法，全是思路，你会你也行。

2

Action

故事的最开始，是一个普通的不能再普通的404页面……

![](https://mmbiz.qpic.cn/mmbiz_png/pKCicPnn24UYg64bHu1f8eOXGN8pUlEGs7HTncLw3osfSQiaKwFp6ZMaf3hNL3ZrteiaeibDyKxdUA0lGot9yUdXWw/640?wx_fmt=png&from=appmsg)

        如果铁铁稍微有点基础，无论是从那醒目的“Whitelabel Error Page”几个大字还是绿叶子图标，都应该很快就能意识到，这是一个经典spring框架的404报错页面，如果不熟悉的宝子们也不要担心，随便找一个指纹识别工具也能精准得定位spring框架(斯叔这里用的是EHole扫描指纹的工具，github链接：https://github.com/EdgeSecurityTeam/EHole)。

![](https://mmbiz.qpic.cn/mmbiz_png/pKCicPnn24UYg64bHu1f8eOXGN8pUlEGswkVMLS4NubPR2iaZzOWu4icIVXqBCXPDnhsLuFkjfRYS6wuRwt4Ztaibg/640?wx_fmt=png&from=appmsg)

        既然碰到了老熟人spring框架，如猎人般敏锐的嗅觉驱使着我掏出了珍藏三十年的spring接口目录字典，直接关门放dirsearch！

```
python3 dirsearch.py -u http://xxx/ -w spring.txt -i 200
```

        欧吼，喜提水洞一个swagger未授权访问/接口信息泄露

![](https://mmbiz.qpic.cn/mmbiz_png/pKCicPnn24UYg64bHu1f8eOXGN8pUlEGsYj6jKnlgq24mUr3MpL0FV3Z42bFEP4SHU47ICibhSgDC9JheHc7Rvlw/640?wx_fmt=png&from=appmsg)

        到这里就结束了吗？Of course not！既然系统接口都送上门了，不测一测这些api接口是不是有点太不尊重人家了。

        那么问题来了，api接口怎么测呢？一个一个构造数据包也太累了吧。。。没关系，斯叔早就给你准备好了：[保姆级教程教你玩转API渗透测试](http://mp.weixin.qq.com/s?__biz=MzkzNDI5NjEzMQ==&mid=2247483739&idx=1&sn=41f25f4371c83fe8ab6358a900b2f3ae&chksm=c2be2e77f5c9a76152147a7a357b0b4bf72c4a93588e892825eeae6e286b025600f956bf8b23&scene=21#wechat_redirect)

        这里斯叔就是用的swagger+xray的法子，直接就是续上一杯卡布奇诺，大叫一声：洞来！！！

![](https://mmbiz.qpic.cn/mmbiz_png/pKCicPnn24UYg64bHu1f8eOXGN8pUlEGsG5G5xXFIicjlj14mSzwy15cJ6ujRLbE0zsnUZ6uqn6Q3Vllq1JNOYwg/640?wx_fmt=png&from=appmsg)

        喝杯水的功夫，然后就来了一个sql注入+三个任意文件读取。

![](https://mmbiz.qpic.cn/mmbiz_png/pKCicPnn24UYg64bHu1f8eOXGN8pUlEGs242nHiaL1k32LADWZ1qiaNpoNgfzxygoD0RIib9NTvVB3SYjmRSick635A/640?wx_fmt=png&from=appmsg)

        下面做一个无情的漏洞复现工具就好了

![](https://mmbiz.qpic.cn/mmbiz_png/pKCicPnn24UYg64bHu1f8eOXGN8pUlEGsjib2Z95tbsoecTbePJpjjp7xjDYhSSS8pDeSxXoqTZSAbqbhsOJuchg/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/mmbiz_png/pKCicPnn24UYg64bHu1f8eOXGN8pUlEGs3z2M4avoQIGvUyDX0DiaqY135QX3rcoMj5ACy69x5gP9BIVUEsxMxGA/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/mmbiz_png/pKCicPnn24UYg64bHu1f8eOXGN8pUlEGsGzhE2RBnfIApvibSoiboeTMEnwFsm5BrfwdzqyAbQiaG26FXCgpzrhlSQ/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/mmbiz_png/pKCicPnn24UYg64bHu1f8eOXGN8pUlEGsTibGfajtFkQItOmyDOXhwlPAM6PFS1X9syq8gSS9XcIH1FnbcPC5Nmw/640?wx_fmt=png&from=appmsg)

        等等，sqlmap跑出来了什么？stacked queries？堆叠注入？事情逐渐变得有趣起来

        直接一手--os-shell看看实力，拿下(可惜不是root权限)。

![](https://mmbiz.qpic.cn/mmbiz_png/pKCicPnn24UYg64bHu1f8eOXGN8pUlEGs2JLrRiaa74PU3MvqUsnXyg6NNibxTky88iaXQ2z3CJFkKXnSTYBX7TQZg/640?wx_fmt=png&from=appmsg)

        通篇下来，没什么手法，都是很普通的操作，一步一步rce全是环环相扣的思路。漏洞就摆在哪里，思路会了你也行，挖洞像喝水一样简单。

3

End

如果你是一个长期主义者，欢迎加入我的知识星球，我们一起往前走，每日都会更新，精细化运营，微信识别二维码付费即可加入，如不满意，72 小时内可在 App 内无条件自助退款

[双十一福利 | 知识星球优惠券放送](http://mp.weixin.qq.com/s?__biz=MzIzMTIzNTM0MA==&mid=2247496326&idx=1&sn=ae903360373a696c0071c50c3273acd7&chksm=e8a5f8e5dfd271f3812c8c5da593bcec1ca01b99cd669eab37e8c1612558310459c535d47ef2&scene=21#wechat_redirect)

![](https://mmbiz.qpic.cn/mmbiz_png/YmmVSe19Qj5EMr3X76qdKBrhIIkBlVVyuiaiasseFZ9LqtibyKFk7gXvgTU2C2yEwKLaaqfX0DL3eoH6gTcNLJvDQ/640?wx_fmt=png&from=appmsg)

## 往期回顾

[一款bp神器](http://mp.weixin.qq.com/s?__biz=MzIzMTIzNTM0MA==&mid=2247495880&idx=1&sn=65d42fbff5e198509e55072674ac5283&chksm=e8a5faabdfd273bd55df8f7db3d644d3102d7382020234741e37ca29e963eace13dd17fcabdd&scene=21#wechat_redirect)

[ssrf绕过新思路](http://mp.weixin.qq.com/s?__biz=MzIzMTIzNTM0MA==&mid=2247495841&idx=1&sn=bbf477afa30391b8072d23469645d026&chksm=e8a5fac2dfd273d42344f18c7c6f0f7a158cca94041c4c4db330c3adf2d1f77f062dcaf6c5e0&scene=21#wechat_redirect)

[dom-xss精选文章](http://mp.weixin.qq.com/s?__biz=MzIzMTIzNTM0MA==&mid=2247488819&idx=1&sn=5141f88f3e70b9c97e63a4b68689bf6e&chksm=e8a61f50dfd1964692f93412f122087ac160b743b4532ee0c1e42a83039de62825ebbd066a1e&scene=21#wechat_redirect)

[年度精选文章](http://mp.weixin.qq.com/s?__biz=MzIzMTIzNTM0MA==&mid=2247487187&idx=1&sn=622438ee6492e4c639ebd8500384ab2f&chksm=e8a604b0dfd18da6c459b4705abd520cc2259a607dd9306915d845c1965224cc117207fc6236&scene=21#wechat_redirect)

[Nuclei权威指南-如何躺赚](http://mp.weixin.qq.com/s?__biz=MzIzMTIzNTM0MA==&mid=2247487122&idx=1&sn=32459310408d126aa43240673b8b0846&chksm=e8a604f1dfd18de737769dd512ad4063a3da328117b8a98c4ca9bc5b48af4dcfa397c667f4e3&scene=21#wechat_redirect)

[漏洞赏金猎人系列-如何测试设置功能IV](http://mp.weixin.qq.com/s?__biz=MzIzMTIzNTM0MA==&mid=2247486973&idx=1&sn=6ec419db11ff93d30aa2fbc04d8dbab6&chksm=e8a6079edfd18e88f6236e237837ee0d1101489d52f2abb28532162e2937ec4612f1be52a88f&scene=21#wechat_redirect)

[漏洞赏金猎人系列-如何测试注册功能以及相关Tips](http://mp.weixin.qq.com/s?__biz=MzIzMTIzNTM0MA==&mid=2247486764&idx=1&sn=9f78d4c937675d76fb94de20effdeb78&chksm=e8a6074fdfd18e59126990bc3fcae300cdac492b374ad3962926092aa0074c3ee0945a31aa8a&scene=21#wechat_redirect)

预览时标签不可点

![]()

微信扫一扫
关注该公众号

继续滑动看下一个

轻触阅读原文

![](http://mmbiz.qpic.cn/mmbiz_png/YmmVSe19Qj4k2mXPm8xlXujVgicTGvZbcictoGLuPERQn9lRPAKkKUB5ut9XMicric8PxLRmSOq0tT5LuGuD1WemBQ/0?wx_fmt=png)

迪哥讲事

向上滑动看下一个

知道了

![]()
微信扫一扫
使用小程序

取消
允许

取消
允许

取消
允许

×
分析

![跳转二维码]()

![作者头像](http://mmbiz.qpic.cn/mmbiz_png/YmmVSe19Qj4k2mXPm8xlXujVgicTGvZbcictoGLuPERQn9lRPAKkKUB5ut9XMicric8PxLRmSOq0tT5LuGuD1WemBQ/0?wx_fmt=png)

微信扫一扫可打开此内容，
使用完整服务

：
，
，
，
，
，
，
，
，
，
，
，
，
。

视频
小程序
赞
，轻点两下取消赞
在看
，轻点两下取消在看
分享
留言
收藏
听过