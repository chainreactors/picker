---
title: 组合优于继承
url: https://blog.csdn.net/aomandeshangxiao/article/details/139849931
source: 傲慢的上校的专栏
date: 2024-06-22
fetch_date: 2025-10-06T16:55:47.642620
---

# 组合优于继承

# 组合优于继承

最新推荐文章于 2025-05-14 18:00:00 发布

![](https://csdnimg.cn/release/blogv2/dist/pc/img/original.png)

[傲慢的上校](https://blog.csdn.net/aomandeshangxiao "傲慢的上校")
![](https://csdnimg.cn/release/blogv2/dist/pc/img/newCurrentTime2.png)
最新推荐文章于 2025-05-14 18:00:00 发布

![](https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes2.png)
阅读量2.3k
![](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect2.png)
![](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollectionActive2.png)
收藏

20

![](https://csdnimg.cn/release/blogv2/dist/pc/img/newHeart2023Active.png)
![](https://csdnimg.cn/release/blogv2/dist/pc/img/newHeart2023Black.png)
点赞数
17

CC 4.0 BY-SA版权

分类专栏：
[编程感想](https://blog.csdn.net/aomandeshangxiao/category_808037.html)
文章标签：
[编程思想](https://so.csdn.net/so/search/s.do?q=%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3&t=all&o=vip&s=&l=&f=&viparticle=&from_tracking_code=tag_word&from_code=app_blog_art)

版权声明：本文为博主原创文章，遵循 [CC 4.0 BY-SA](http://creativecommons.org/licenses/by-sa/4.0/) 版权协议，转载请附上原文出处链接和本声明。

本文链接：<https://blog.csdn.net/lilu_leo/article/details/139849931>

[![](https://i-blog.csdnimg.cn/columns/default/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_224,w_224)

编程感想
专栏收录该内容](https://blog.csdn.net/aomandeshangxiao/category_808037.html "编程感想")

8 篇文章

订阅专栏

### 设计模式中的组合与继承

#### 使用组合的模式

装饰者模式（decorator pattern）

策略模式（strategy pattern）

组合模式（composite pattern）

使用了组合关系

#### 使用继承的模式

模板模式（template pattern）

### 组合和继承的对比

相信很多人都看到过这句话：

Program to an interface, not an implementation. (面向接口编程，而不是具体的实现)，面向接口编程的好处是可以极大程度地减少具体实现之间的相互依赖，达到一种松耦合的效果。

但是对于下面这句话，理解不够深刻。

Favor object composition over class inheritance.（如果某个场景的代码复用既可以通过类继承实现， 也可以通过对象组合实现， 尽量选择对象组合的设计方式）

为什么会优先选择组合这种方式呢？

首先看一下两者的区别

#### 继承

继承：是一种is-a的关系，白盒复用，父类的实现对于子类来说是透明的，实现一个子类的时候，需要了解父类的实现细节，以此觉得是否重写父类方法

##### 继承的优点：

类之间的继承关系时在编译时刻静态地定义好的， 因此使用起来也非常直观， 毕竟继承是被编程语言本身所支持的功能。

类继承也使得修改要重用的代码变得相对容易， 因为可以仅仅重写要更改的父类方法。

##### 类继承缺点:

1、 没有办法在运行时刻改变继承了父类的子类行为。

2、与第一个缺点相比往往更严重： 通过继承实现的代码复用，本质上把父类的内部实现细节暴露给了子类， 破坏了类的封装特性，**将父类的实现细节暴露给了子类**。子类的实现依赖父类的实现，两者高度耦合，一旦父类代码修改，就会影响所有子类的逻辑。

3、继承层次过深、继承关系过于复杂会影响到代码的可读性和可维护性。

#### 组合

组合：是一种has-a的关系，黑盒复用，被引用者的细节对于组合引用者不可见，只是调用其方法实现功能，在实践中，一般通过引用接口方式实现，以便在运行时刻被替换成另外一个实现了相同接口且类型相同对象。

##### 对象组合优点:

对象的组合是在运行时刻通过对象之间获取引用关系定义的，所以对象组合要求不同的对象遵从对方所实现的接口来实现引用传递， 这样反过来会要求更加用心设计的接口，以此支持你在使用一个对象时， 可以把它和很多其他的对象组合在一起使用而不会出现问题。

对象的组合由于是通过接口实现的， 这样在复用的过程中是不会打破其封装的。 任意一个对象都可以在运行时刻被替换成另外一个实现了相同接口且类型相同对象， 更重要的是，由于一个对象的实现是针对接口而编写的， 具体实现之间的依赖会更少。

对象组合的方式可以帮助你保持每个类的内聚性，让每个类专注实现一个任务。 类的层次会保持的很小，不会增长到一种无法管理的恐怖数量。 （**这也是为什么Java语言支持单继承的原因**）

##### 对象组合缺点：

不具备之前所罗列的类继承的优点

### 如何判断使用组合还是继承

尽管我们鼓励多用组合少用继承，但组合也并不是完美的，继承也并非一无是处。

**继承改写成组合意味着要做更细粒度的类的拆分**。

这也就意味着，我们要定义更多的类和接口。类和接口的增多也就或多或少地增加代码的复杂程度和维护成本。所以，在实际的项目开发中，我们还是要根据具体的情况，来具体选择该用继承还是组合。

* 如果类之间的**继承结构稳定**（不会轻易改变），**继承层次比较浅**（比如，最多有两层继承关系），继承关系不复杂，我们就可以大胆地使用继承。
* 反之，系统越不稳定，继承层次很深，继承关系复杂，我们就尽量使用组合来替代继承。

### 参考资料

[面向对象（七）组合优于继承？ - 简书](https://www.jianshu.com/p/f63eee1792cb "面向对象（七）组合优于继承？ - 简书")

[为什么有“组合优于继承”的说法 - 简书](https://www.jianshu.com/p/25f717427dc2 "为什么有“组合优于继承”的说法 - 简书")

根据这两篇文章内容组合而成，供学习

![](https://csdnimg.cn/release/blogv2/dist/pc/img/vip-limited-close-newWhite.png)

确定要放弃本次机会？

福利倒计时

*:*

*:*

![](https://csdnimg.cn/release/blogv2/dist/pc/img/vip-limited-close-roup.png)
立减 ¥

普通VIP年卡可用

[立即使用](https://mall.csdn.net/vip)

[![](https://profile-avatar.csdnimg.cn/d2d7957684914173b2ea5ac8d23c76be_aomandeshangxiao.jpg!1)

傲慢的上校](https://blog.csdn.net/aomandeshangxiao)

关注
关注

* ![](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarThumbUpactive.png)
  ![](https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/like-active.png)
  ![](https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/like.png)

  17

  点赞
* ![](https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/unlike-active.png)
  ![](https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/unlike.png)

  踩
* ![](https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/collect-active.png)
  ![](https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/collect.png)
  ![](https://csdnimg.cn/release/blogv2/dist/pc/img/newCollectActive.png)

  20

  收藏

  觉得还不错?
  一键收藏
  ![](https://csdnimg.cn/release/blogv2/dist/pc/img/collectionCloseWhite.png)
* ![](https://csdnimg.cn/release/blogv2/dist/pc/img/guideRedReward01.png)
  知道了

  [![](https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/comment.png)

  0](#commentBox)

  评论
* ![](https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/share.png)
  分享

  复制链接

  分享到 QQ

  分享到新浪微博

  ![](https://csdnimg.cn/release/blogv2/dist/pc/img/share/icon-wechat.png)扫一扫
* ![](https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/more.png)

  ![](https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/report.png)
  举报

  ![](https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/report.png)
  举报

专栏目录

[C#最佳实践：*组合**优于**继承*](https://blog.csdn.net/huyu107/article/details/148918737)

[Amon的专栏](https://blog.csdn.net/huyu107)

06-26
![](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png)
207

[在 C# 编程的广阔世界里，类的设计和构建是开发过程中至关重要的环节。而在类的构建方式上，*继承*和*组合*是两种常见的选择。长期以来，“*组合**优于**继承*” 这一原则被众多开发者推崇，它不仅深刻影响着代码的结构和可维护性，更是构建健壮、灵活软件系统的关键。接下来，我们将深入探讨这一原则在 C# 中的具体体现和应用。](https://blog.csdn.net/huyu107/article/details/148918737)

[如何合理使用*组合**优于**继承*来构建高内聚低耦合的模块](https://blog.csdn.net/windowshht/article/details/147263112)

[windowshht的博客](https://blog.csdn.net/windowshht)

04-16
![](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png)
689

[通过“*组合**优于**继承*”，我们可以构建更清晰、更灵活的系统架构。*继承*有其使用场景，例如需要统一行为的地方，但在大多数情况下，*组合*是更具优势的选择。未来，随着软件开发的多样化和复杂化，如何利用*组合*实现模块化设计，将会是开发者需要深度探索的方向。同时，Python 的强大生态系统（如 Django、Flask）也为我们提供了丰富的模块化支持。你在项目设计中是否遇到过*继承*带来的困扰？试试将它替换为*组合*吧！期待在评论区看到你的经验分享和独特见解。让我们一起交流学习，共同构建更优雅的系统。](https://blog.csdn.net/windowshht/article/details/147263112)

参与评论
您还未登录，请先
登录
后发表或查看评论

[为什么*组合*优先于*继承*

热门推荐](https://devpress.csdn.net/v1/article/detail/108646872)

[Hopefully Sky的博客](https://blog.csdn.net/fuzhongmin05)

09-17
![](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png)
1万+

[面向对象编程中，有一条非常经典的设计原则，那就是：*组合**优于**继承*，多用*组合*少用*继承*。同样地，在《阿里巴巴Java开发手册》中有一条规定：谨慎使用*继承*的方式进行扩展，优先使用*组合*的方式实现。
为什么不推荐使用*继承*
每个人在刚刚学习面向对象编程时都会觉得：*继承*可以实现类的复用。所以，很多开发人员在需要复用一些代码的时候会很自然的使用类的*继承*的方式，因为书上就是这么写的。*继承*是面向对象的四大特性之一，用来表示类之间的is-a关系，可以解决代码复用的问题。虽然*继承*有诸多作用，但*继承*层次过深、过复杂，也会影响到代码的](https://devpress.csdn.net/v1/article/detail/108646872)

[软件设计原则之*组合**优于**继承*](https://blog.csdn.net/hpx666/article/details/141435697)

[hpx666的博客](https://blog.csdn.net/hpx666)

08-22
![](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png)
1689

[“*组合**优于**继承*”是一个面向对象编程的设计原则，它建议我们在需要复用代码的时候，尽量使用*组合*（has-a）的方式，而不是*继承*（is-a）的方式。*组合*是指一个类包含另一个类的对象作为自己的属性，而*继承*是指一个类直接从另一个类派生出来，拥有其所有的属性和方法。](https://blog.csdn.net/hpx666/article/details/141435697)

[《设计模式》——*组合**优于**继承*原则](https://blog.csdn.net/qq_39857987/article/details/112529314)

[qq\_39857987的博客](https://blog.csdn.net/qq_39857987)

01-12
![](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png)
1923

[一、*组合**优于**继承*
通常我们都听说过*组合**优于**继承*原则，但是可能不太明白为什么要这样用？本篇文章就以不同的场景，来阐述*继承*在某些场景下的缺点，以及*组合*的巧妙之处。
二、代码示例
1、场景一
制作一个集合，要求统计该集合诞生以来，共添加过多少元素（不是统计集合当前数量，而是一共加过多少）
那么我们使用*继承*，很容易实现，如下代码：
package cn.com.design.model.test.composite.supplement.a;
import java.util.Collection;
import](https://blog.csdn.net/qq_39857987/article/details/112529314)

[设计模式-*组合**优于**继承*原则](https://blog.csdn.net/weixin_44782094/article/details/116898294)

[Chemlez'blog](https://blog.csdn.net/weixin_44782094)

05-16
![](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png)
793

[本章用来讲述设计模式中的另一个原则——*组合**优于**继承*原则，又称为合成复用原则。
一、基本介绍
该原则是尽量使用合成/聚合的方式，而不是使用*继承*。
上面一句话就是对该原则的核心，但单单看这么一句话还是显得过于枯燥与不知所云，下面我们还是结合具体的场景进行代码推进，对该原则进行讲解。
二、场景
假设我们需要设计这样一个集合，每次向里面加入元素时，count都加一。例如：
最初集合是空集合，此时我们向里面加入"a"，此时集合为{"a"}，那么此时count = 1；当加入"b","c"两个元素时，集合为{"a","](https://blog.csdn.net/weixin_44782094/article/details/116898294)

[「设计模式」设计模式7大原则-*组合**优于**继承*原则](https://bearxue.blog.csdn.net/article/details/120073499)

[攻...