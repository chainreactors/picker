---
title: CF-Hero æŸ¥æ‰¾Cloudflareä¿æŠ¤çš„ç½‘ç«™çœŸå®IP
url: https://blog.upx8.com/4739
source: é»‘æµ·æ´‹ - Wiki
date: 2025-04-13
fetch_date: 2025-10-06T22:05:24.998403
---

# CF-Hero æŸ¥æ‰¾Cloudflareä¿æŠ¤çš„ç½‘ç«™çœŸå®IP

# [é»‘æµ·æ´‹ - Wiki](/ "é»‘æµ·æ´‹ - Wiki - ç‚¹å‡»è¿”å›é¦–é¡µ")

# CF-Hero æŸ¥æ‰¾Cloudflareä¿æŠ¤çš„ç½‘ç«™çœŸå®IP

å‘å¸ƒæ—¶é—´:
2025-04-12

åˆ†ç±»:
[ç³»ç»Ÿå®‰å…¨/os\_security](https://blog.upx8.com/os_security/)

çƒ­åº¦:
33578

## CF-Heroå®ƒæ˜¯ä»€ä¹ˆï¼Ÿ

CF-Hero æ˜¯ä¸€æ¬¾ç»¼åˆä¾¦å¯Ÿå·¥å…·ï¼Œæ—¨åœ¨å‘ç°å— Cloudflare ä¿æŠ¤çš„ Web åº”ç”¨ç¨‹åºçš„çœŸå® IP åœ°å€ã€‚å®ƒé€šè¿‡å¤šç§æ–¹æ³•è¿›è¡Œå¤šæºæƒ…æŠ¥æ”¶é›†ã€‚

### DNS ä¾¦å¯Ÿ

* å½“å‰ DNS è®°å½•ï¼ˆAï¼ŒTXTï¼‰
* å†å²DNSæ•°æ®åˆ†æ
* å…³è”åŸŸå‘ç°

### æƒ…æŠ¥æ¥æº

* ä¸»åŠ¨ DNS æšä¸¾
* Censys æœç´¢å¼•æ“
* Shodan æœç´¢å¼•æ“
* SecurityTrails å†å²è®°å½•
* ç›¸å…³é¢†åŸŸå…³è”

è¯¥å·¥å…·åˆ†ææ¥è‡ªè¿™äº›æ¥æºçš„æ•°æ®ï¼Œä»¥è¯†åˆ«å— Cloudflare ä¿æŠ¤çš„ç›®æ ‡çš„æ½œåœ¨åŸå§‹ IP åœ°å€ã€‚å®ƒé€šè¿‡å“åº”åˆ†ææ¥éªŒè¯å‘ç°ï¼Œä»¥æœ€å¤§é™åº¦åœ°å‡å°‘è¯¯æŠ¥ã€‚

**è¯¥å·¥å…·çš„ç®€å•æµç¨‹å›¾**

[![CF-Hero æŸ¥æ‰¾Cloudflareä¿æŠ¤çš„ç½‘ç«™çœŸå®IP](https://www.ddosi.org/wp-content/uploads/2025/04/01133020.webp)](https://blog.upx8.com/go/aHR0cHM6Ly93d3cuZGRvc2kub3JnL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDI1LzA0LzAxMTMzMDIwLndlYnA)

#

## ç‰¹å¾

* DNS ä¾¦å¯Ÿ
  + æ£€æŸ¥å½“å‰ DNS è®°å½•ï¼ˆAã€TXTï¼‰
  + æå– Cloudflare èƒŒåçš„åŸŸå
  + æå–ä¸åœ¨ Cloudflare åé¢çš„åŸŸ

* ç¬¬ä¸‰æ–¹æƒ…æŠ¥
  + Censys é›†æˆ
  + Shodan é›†æˆ
  + SecurityTrails é›†æˆ
  + å…³è”åŸŸçš„åå‘ IP æŸ¥æ‰¾

* é«˜çº§åŠŸèƒ½
  + è‡ªå®šä¹‰ JA3 æŒ‡çº¹æ”¯æŒ
  + å¹¶å‘æ‰«æåŠŸèƒ½
  + æ ‡å‡†è¾“å…¥æ”¯æŒï¼ˆç®¡é“ï¼‰
  + HTML æ ‡é¢˜æ¯”è¾ƒä»¥è¿›è¡ŒéªŒè¯
  + ä»£ç†æ”¯æŒ
  + è‡ªå®šä¹‰ç”¨æˆ·ä»£ç†é…ç½®

## å½“å‰ DNS è®°å½•

è®©æˆ‘ä»¬çœ‹ä¸€äº› DNS è®¾ç½®é”™è¯¯çš„ç”¨ä¾‹ã€‚

å¦‚æ‚¨æ‰€è§ï¼Œå¸¸è§„ DNS æŸ¥è¯¢ä¼šè¿”å›åŸŸçš„ IP åœ°å€ã€‚ä¾‹å¦‚ï¼Œmusana.net ä½äº Cloudflare (CF) åé¢ï¼Œä½†æœ‰æ—¶åŸŸæœ‰å¤šä¸ª A è®°å½•ï¼Œå…¶ä¸­ä¸€äº›å¯èƒ½ä¸å¯¹åº”äºä¸ CF å…³è”çš„ IP åœ°å€ã€‚ï¼ˆæ­¤ DNS è¾“å‡ºä»…ä¸ºè¯´æ˜æ€§ç¤ºä¾‹ï¼Œå¯èƒ½ä¸ä»£è¡¨ musana.net çš„ç¡®åˆ‡ DNS ç­”æ¡ˆã€‚ï¼‰

```
;; ANSWER SECTION:
musana.net.    300    IN    A    104.16.42.102
musana.net.    300    IN    A    104.16.43.102
musana.net.    300    IN    A    123.45.67.89 (Real IP exposed)
musana.net.    300    IN    A    123.45.76.98 (Real IP exposed)
```

å¦ä¸€ç§æƒ…å†µä¸ TXT è®°å½•æœ‰å…³ã€‚æœ‰æ—¶åŸŸåè½åäº CFï¼Œä½†åŸŸåçš„çœŸå® IP å¯èƒ½ç”¨äº TXT è®°å½•ã€‚CF-Hero æ£€æŸ¥æ‰€æœ‰ TXT è®°å½•ï¼Œç„¶åæå–æ‰€æœ‰ IP åœ°å€ï¼Œæœ€åå°è¯•é€šè¿‡ HTTP è¿æ¥å®ƒæ‰¾åˆ°çš„ IPã€‚

å‡è®¾æˆ‘ä»¬æœ‰ç±»ä¼¼ DNS TXT è®°å½•ã€‚å¦‚ TXT è®°å½•æ‰€ç¤ºï¼Œæœ‰ SPF è®°å½•ã€‚æœ‰äº›å…¬å¸å¯ä»¥æ‰˜ç®¡è‡ªå·±çš„é‚®ä»¶æœåŠ¡å™¨ï¼ŒTXT è®°å½•å¯èƒ½åŒ…å«æŒ‡å‘ç›®æ ‡åŸŸçš„ IPã€‚

æ­£å¦‚æ‚¨åœ¨ä»¥ä¸‹ DNS ç­”æ¡ˆä¸­çœ‹åˆ°çš„ï¼ŒSPF è®°å½•æœ‰ä¸€äº› IP åœ°å€ã€‚Cf-Hero ä¹Ÿä¼šæ£€æŸ¥è¿™äº›ã€‚

```
;; ANSWER SECTION:
musana.net.    115    IN    TXT    "1password-site-verification=LROK6G5XFJG5NF76TE2FBTABUA"
musana.net.    115    IN    TXT    "5fG-7tA-G4V"
musana.net.    115    IN    TXT    "MS=ms16524910"
musana.net.    115    IN    TXT    "OSSRH-74956"
musana.net.    115    IN    TXT    "docker-verification=6910d334-a3fc-419c-89ac-57668af5bf0d"
musana.net.    115    IN    TXT    "docusign=4c6d27bb-572e-4fd4-896c-81bfb0af0aa1"
musana.net.    115    IN    TXT    "shopify-verification-code=1Ww5VsPpkIf32cJ5PdDHdguRk22K2R"
musana.net.    115    IN    TXT    "shopify-verification-code=NM243t2faQbaJs8SRFMSEQAc4J9UQf"
musana.net.    115    IN    TXT    "v=spf1 include:_spf.google.com include:cust-spf.exacttarget.com include:amazonses.com include:mail.zendesk.com include:servers.mcsv.net include:spf.mailjet.com ip4:216.74.162.13 ip4:216.74.162.14  ip4:153.95.95.86 ip4:18.197.36.5 -all"
```

## å¼€æºæƒ…æŠ¥

OSINT æ˜¯å¦ä¸€ç§æŸ¥æ‰¾ä»»ä½•è½åäº CF çš„åŸŸåçš„çœŸå® IP çš„æŠ€æœ¯ã€‚æœ‰è®¸å¤šä¸“é—¨ç”¨äºç‰¹æ®Šç›®çš„çš„æœç´¢å¼•æ“ã€‚Shodan å’Œ Censys å°±æ˜¯å…¶ä¸­ä¸¤ä¸ªã€‚å®ƒä»¬æä¾›æ›´å¤šç»†èŠ‚å’ŒæŠ€æœ¯ä¿¡æ¯ã€‚è¿™äº›æœç´¢å¼•æ“ä¸æ–­æ‰«ææ•´ä¸ªäº’è”ç½‘å¹¶å‘ç°æ–°èµ„äº§æˆ–ç›‘æ§å’Œè®°å½•èµ„äº§çš„å˜åŒ–ã€‚å½“ä¸€ä¸ªä¸è½åäº CF çš„åŸŸåå¯åŠ¨æ—¶ï¼Œè¿™äº›å¼•æ“çš„æœºå™¨äººå¯ä»¥è®°å½•è¯¥åŸŸåçš„çœŸå® IPã€‚ä¸€æ®µæ—¶é—´åï¼Œå¦‚æœè¯¥åŸŸåè½åäº cloudflareï¼Œåˆ™å¯ä»¥ä½¿ç”¨è¿™äº›æœç´¢å¼•æ“æ‰¾åˆ°å®ƒä»¬çš„ IPã€‚

CF-Hero ä¹Ÿä¼šæ£€æŸ¥ censys å’Œ shodanã€‚ï¼ˆè¯·æ³¨æ„ï¼Œå½“æ‚¨ä½¿ç”¨è¿™äº›æœåŠ¡æ—¶ï¼Œæ‚¨ä¼šå—åˆ° API é…é¢çš„é™åˆ¶ã€‚ï¼‰

## ï¼ˆå­ï¼‰åŸŸå

å¦ä¸€ä¸ªæŠ€å·§æ˜¯ï¼ˆå­ï¼‰åŸŸåæŠ€æœ¯ã€‚å®é™…ä¸Šå®ƒä¸ä¸€å®šæ˜¯å­åŸŸåï¼Œä¹Ÿå¯ä»¥æ˜¯åŸŸåã€‚å…³é”®ç‚¹åœ¨è¿™é‡Œï¼›åŸŸååº”è¯¥å±äºåŒä¸€å®¶å…¬å¸ã€‚

å‡è®¾æˆ‘ä»¬æœ‰ 2 ä¸ªåŸŸã€‚å…¶ä¸­ä¸€ä¸ªåœ¨ CF åé¢ï¼Œè€Œå¦ä¸€ä¸ªä¸åœ¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨è¿æ¥åˆ°ä¸åœ¨ CF åé¢çš„åŸŸï¼Œç„¶åå°†ä¸»æœºæ ‡å¤´æ›´æ”¹ä¸ºåœ¨ CF åé¢çš„åŸŸã€‚å¦‚æœæ‚¨æ”¶åˆ°åœ¨ CF åé¢çš„åº”ç”¨ç¨‹åºçš„å“åº”ï¼Œé‚£ä¹ˆæ­å–œæ‚¨ç»•è¿‡äº† CFã€‚æ‚¨å¯ä»¥ç›´æ¥ä» IP è®¿é—® Web åº”ç”¨ç¨‹åºã€‚ï¼ˆå½“ç„¶è¿™ä¹Ÿå–å†³äºé…ç½®ï¼‰

è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹

```
--> TCP --> blog.musana.net [123.45.67.89] ---> HTTPs -------------\
                                                                    \
--> TCP --> api.musana.net [123.67.45.98] ----> HTTPs -----------\   \
                                                                  \   \
--> TCP --> test.musana.net [123.89.44.88] ---> HTTPs -------------\  Â \
                                                                    \___\____________________
--> TCP --> tools.musana.net [123.44.55.66] --> HTTPs -------------> | GET / HTTP/2          |
                                                                     | Host: musana.net      | ====> Check & Compare Responses
--> TCP --> admin.musana.net [33.44.123.45] --> HTTPs -------------->|_______________________|
                                                                          /    /
--> TCP --> ... [...] ------------------------> HTTPs ------------------>/    /
                                                                        /    /
--> TCP --> ... [...] ------------------------> HTTPs ---------------->/    /
                                                                      /    /
--> TCP --> random-test.com [55.44.11.33] ----> HTTPs -------------->/    /
                                                                         /
--> TCP --> fsubsidiary.net [66.77.22.123] ---> HTTPs ----------------->/
```

## å†å² DNS è®°å½•

å†å² DNS è®°å½•æœåŠ¡ä¼šå°è¯•å‘ç°äº’è”ç½‘ä¸Šçš„æ‰€æœ‰åŸŸå¹¶è®°å½•è¿™äº›åŸŸçš„ DNS è®°å½•ä¸­çš„æ›´æ”¹ã€‚è¿™äº›æœåŠ¡ä¸­æœ€è‘—åçš„æ˜¯ securitytrailsã€‚å¦‚æœæŸä¸ªåŸŸä½¿ç”¨å…¶çœŸå® IP åœ°å€åœ¨äº’è”ç½‘ä¸Šå‘å¸ƒï¼Œåˆ™è¿™äº›æœåŠ¡çš„æœºå™¨äººå¯ä»¥è®°å½•å…¶çœŸå® IP åœ°å€ï¼Œç„¶åå¦‚æœè¯¥åŸŸè¢« cloudflare æ¥ç®¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨è¿™äº›æœåŠ¡æ‰¾å‡ºçœŸå® IP åœ°å€ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°è¿‡å»é€šè¿‡çœŸå® IP åœ°å€å¹¿æ’­è¿‡çš„åŸŸçš„çœŸå® IP åœ°å€ã€‚

å®ƒä½¿ç”¨å®‰å…¨è·Ÿè¸ªæœåŠ¡æ¥è·å–å†å² DNS è®°å½•ã€‚åœ¨ cf-hero.yaml æ–‡ä»¶ä¸­è¾“å…¥ API å¯†é’¥åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å‚æ•°`-securitytrails`æ‰§è¡Œæ­¤æ‰«æã€‚

# å®‰è£…è¯´æ˜

cf-hero éœ€è¦**go1.18**æ‰èƒ½æˆåŠŸå®‰è£…ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ã€‚

```
go install -v github.com/musana/cf-hero/cmd/cf-hero@latest
```

# ç”¨æ³•

```
        ____         __
  _____/ __/        / /_  ___  _________
 / ___/ /__  ___   / __ \/ _ \/ ___/ __ \
/ /__/ ___/ (___) / / / /  __/ /  / /_/ /
\___/_/          /_/ /_/\___/_/   \____/

                                @musana
_____________________________________________

æ­ç¤ºå— Cloudflare ä¿æŠ¤çš„åŸŸåçš„æº IP

ç”¨æ³•:
  cf-hero [flags]

é€‰é¡¹ï¼š
é€šç”¨é€‰é¡¹ï¼š
  -w int å·¥ä½œçº¿ç¨‹æ•°ï¼ˆé»˜è®¤ 16ï¼‰
  -f string åŒ…å«ä¸»æœº/åŸŸååˆ—è¡¨çš„è¾“å…¥æ–‡ä»¶

è¾“å‡ºé€‰é¡¹ï¼š
  -cf è¾“å‡ºå— Cloudflare ä¿æŠ¤çš„åŸŸå
  -non-cf è¾“å‡ºæœªå— Cloudflare ä¿æŠ¤çš„åŸŸå

æ•°æ®æºï¼š
  -censys åœ¨æ‰«æä¸­åŒ…å« Censys
  -securitytrails åœ¨æ‰«æä¸­åŒ…å« SecurityTrails å†å² DNS è®°å½•
  -shodan åœ¨æ‰«æä¸­åŒ…å« Shodan å†å² DNS è®°å½•
  -dl string ç”¨äºå­åŸŸ/åŸŸæ‰«æçš„åŸŸååˆ—è¡¨
  -td string ç”¨äºå­åŸŸ/åŸŸæ‰«æçš„ç›®æ ‡åŸŸ

é…ç½®ï¼š
  -hm string HTTP æ–¹æ³•ï¼ˆé»˜è®¤ "GET"ï¼‰
  -ja3 string JA3 æŒ‡çº¹ï¼ˆé»˜è®¤ "772,4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53,18-10-16-23-45-35-5-11-13-65281-0-51-43-17513-27,29-23-24,0"ï¼‰

  -ua string HTTP User-Agentï¼ˆé»˜è®¤ "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:109.0) Gecko/20100101 Firefox/113.0"ï¼‰
  -px string HTTP ä»£ç† URL
```

# è¿è¡Œ CF-Hero

æœ€åŸºæœ¬çš„è¿è¡Œå‘½ä»¤ã€‚é»˜è®¤æ£€æŸ¥Aè®°å½•å’ŒTXTè®°å½•ã€‚

```
# cat domains.txt | cf-hero
```

æˆ–è€…æ‚¨å¯ä»¥å°†â€œfâ€å‚æ•°ä¼ é€’ç»™å®ƒã€‚

```
# cf-hero -f domains.txt
```

ä½¿ç”¨**censys**å‚æ•°å°† Shodan çº³å…¥æ‰«æ

```
# cat domain.txt | cf-hero -censys
```

ä½¿ç”¨**shodan**å‚æ•°å°† Shodan çº³å…¥æ‰«æ

```
# cat domain.txt | cf-hero -shodan
```

ä½¿ç”¨**securitytrails**å‚æ•°å°† Shodan çº³å…¥æ‰«æ

```
# cat domain.txt | cf-hero -securitytrails
```

ä½¿ç”¨ -td å’Œ -dl å‚æ•°å°è¯•åˆ©ç”¨ä¸åœ¨ Cloudflare åé¢çš„åŸŸæˆ–å­åŸŸåˆ—è¡¨æ¥æŸ¥æ‰¾ç›®æ ‡åŸŸçš„ IP åœ°å€ã€‚é€šè¿‡ä½¿ç”¨ -dl å‚æ•°åœ¨å·²è¯†åˆ«ç›®æ ‡äº‘æˆ–æœ¬åœ°åŸºç¡€è®¾æ–½ä½¿ç”¨çš„å®æ—¶ IP åœ°å€çš„å—ä¸­æŒ‡å®š IP åœ°å€ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°ç›®æ ‡åŸŸçš„çœŸå® IP åœ°å€

```
# cf-hero -td https://musana.net -dl sub_domainlist.txt
```

è·å– CF èƒŒåçš„åŸŸå

```
# cf-hero -f domains.txt -cf
```

è·å–ä¸è½åäºCFçš„åŸŸå

```
# cf-hero -f domains.txt -non-cf
```

å…¶ä»–é€‰é¡¹ï¼ˆè‡ªå®šä¹‰ ja3ã€ä»£ç†ã€å·¥ä½œè€…ã€ç”¨æˆ·ä»£ç†ï¼‰

```
# cf-hero -d https://musana.net -ua "Mozilla" -w 32 -ja3 "771,22..." -px "http://127.0.0.1:8080"
```

åœ¨ $HOME/.config/ ç›®å½•ä¸‹åˆ›å»º cf-hero.yaml æ–‡ä»¶æ¥è®¾ç½® censys API å¯†é’¥

```
# touch ~/.config/cf-hero.yaml

// content of YAML file should be like;

securitytrails:
  - "api_key_here"
shodan:
  - "api_key_here"
censys:
  - "api_key_here"
```

## æˆªå›¾

[![CF-Hero æŸ¥æ‰¾Cloudflareä¿æŠ¤çš„ç½‘ç«™çœŸå®IP](https://www.ddosi.org/wp-content/uploads/2025/04/01133357.webp)](https://blog.upx8.com/go/aHR0cHM6Ly93d3cuZGRvc2kub3JnL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDI1LzA0LzAxMTMzMzU3LndlYnA)
[![CF-Hero æŸ¥æ‰¾Cloudflareä¿æŠ¤çš„ç½‘ç«™çœŸå®IP](https://www.ddosi.org/wp-content/uploads/2025/04/01133404.webp)](https://blog.upx8.com/go/aHR0cHM6Ly93d3cuZGRvc2kub3JnL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDI1LzA0LzAxMTMzNDA0LndlYnA)

## å¾…åŠäº‹é¡¹

* JA3 éšæœºåŒ–ã€‚ï¼ˆåœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒCloudflare ä¼šåœ¨ TLS å±‚é˜»æ­¢ç”¨äºè‡ªåŠ¨åŒ–/æ‰«æç›®çš„çš„åº“çš„ JA3 å“ˆå¸Œã€‚æ­¤åŠŸèƒ½æ—¨åœ¨ç»•è¿‡è¯¥ä¿æŠ¤ã€‚æ‚¨ç›®å‰å¯ä»¥æä¾›è‡ªå®šä¹‰ JA3 å­—ç¬¦ä¸²æ¥ç»•è¿‡æ­¤ä¿æŠ¤ã€‚ï¼‰
* å°†æ·»åŠ ä¸€ç§æ›´æœ‰æ•ˆçš„æŠ€æœ¯æ¥ç¡®å®šä¸¤ä¸ª HTTP å“åº”æ˜¯å¦ç›¸åŒã€‚

## GitHubï¼š

[https://github.com/musana/CF-Hero](https://blog.upx8.com/go/aHR0cHM6Ly9naXRodWIuY29tL211c2FuYS9DRi1IZXJv)

## ä¸‹è½½åœ°å€

[https://github.com/musana/CF-Hero/archive/refs/tags/v1.0.2.zip](https://blog.upx8.com/go/aHR0cHM6Ly9naXRodWIuY29tL211c2FuYS9DRi1IZXJvL2FyY2hpdmUvcmVmcy90YWdzL3YxLjAuMi56aXA)

[å–æ¶ˆå›å¤](https://blog.upx8.com/4739#respond-post-4739)

### åœ¨ä¸‹æ–¹ç•™ä¸‹æ‚¨çš„è¯„è®º.[åŠ å…¥TGç¾¤](https://t.me/).[æ‰“èµğŸ—](/reward.html)

æäº¤è¯„è®º

* [Post](/author/1)
* [Link](/links.html)
* [å·¥å…·](https://tools.upx8.com/)
* [å…³äº](/about.html)
* [æ–‡åº“](/WooyunDrops)

[![](/usr/uploads/ypyun.png)](https://www.upyun.com/?utm_source=lianme...