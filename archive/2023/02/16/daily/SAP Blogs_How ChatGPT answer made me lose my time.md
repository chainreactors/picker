---
title: How ChatGPT answer made me lose my time
url: https://blogs.sap.com/2023/02/15/how-chatgpt-answer-made-me-lose-my-time/
source: SAP Blogs
date: 2023-02-16
fetch_date: 2025-10-04T06:45:56.226104
---

# How ChatGPT answer made me lose my time

* [SAP Community](/)
* [Groups](/t5/groups/ct-p/groups)
* [Interest Groups](/t5/interest-groups/ct-p/interests)
* [Application Development and Automation](/t5/application-development-and-automation/gh-p/application-development)
* [Blog Posts](/t5/application-development-and-automation-blog-posts/bg-p/application-developmentblog-board)
* How ChatGPT answer made me lose my time

Application Development and Automation Blog Posts

Learn and share on deeper, cross technology development topics such as integration and connectivity, automation, cloud extensibility, developing at scale, and security.

All communityThis groupBlogKnowledge baseUsersManaged tags

cancel

[Turn on suggestions](https://community.sap.com/t5/blogs/v2/blogarticlepage.enableautocomplete%3Aenableautocomplete?t:ac=blog-id/application-developmentblog-board/article-id/46579&t:cp=action/contributions/searchactions)

Auto-suggest helps you quickly narrow down your search results by suggesting possible matches as you type.

Showing results for

Search instead for

Did you mean:

#### We have launched new [Developer forums/groups](https://community.sap.com/t5/developers/ct-p/developers) in the SAP Community. If you are here to publish developer- or SAP-technology related blog posts, please check out our new groups instead. You can find more information about the developer forums in this [What's New post](https://community.sap.com/t5/what-s-new/new-developer-forums/ba-p/14230147).

Read only

## [How ChatGPT answer made me lose my time](/t5/application-development-and-automation-blog-posts/how-chatgpt-answer-made-me-lose-my-time/ba-p/13549932)

![Sandra_Rossi](https://avatars.profile.sap.com/5/a/id5ade69af148fee003e69a3410fe4ea7d8d92f9f0535ff49f640e7d27e69efed1_small.jpeg "Sandra_Rossi")

[Sandra\_Rossi](https://community.sap.com/t5/user/viewprofilepage/user-id/145194)

Active Contributor

Options

* [Subscribe to RSS Feed](/khhcw49343/rss/message?board.id=application-developmentblog-board&message.id=46579)
* Mark as New
* Mark as Read
* Bookmark
* Subscribe
* [Printer Friendly Page](/t5/blogs/blogarticleprintpage/blog-id/application-developmentblog-board/article-id/46579)
* [Report Inappropriate Content](/t5/notifications/notifymoderatorpage/message-uid/13549932)

â€Ž2023 Feb 15
9:51 PM

[15
Kudos](/t5/kudos/messagepage/board-id/application-developmentblog-board/message-id/46579/tab/all-users "Click here to see who gave kudos to this post.")

4,186

* SAP Managed Tags
* [ABAP Development](https://community.sap.com/t5/c-khhcw49343/ABAP%2520Development/pd-p/833755570260738661924709785639136)

* [ABAP Development

  Programming Tool](/t5/c-khhcw49343/ABAP%2BDevelopment/pd-p/833755570260738661924709785639136)

View products (1)

Someone had posted a blog post last month but it was removed (I don't know why), but I had spent lot of time to verify the result of ChatGPT, so I think it's useful to post my experience (again).

ChatGPT was queried to converting this algorithm to group anagrams to ABAP:

```
class Solution {

    public List<List<String>> groupAnagrams(String[] strs) {

        if (strs.length == 0) return new ArrayList();

        Map<String, List> ans = new HashMap<String, List>();

        int[] count = new int[26];

        for (String s : strs) {

            Arrays.fill(count, 0);

            for (char c : s.toCharArray()) count[c - 'a']++;

            StringBuilder sb = new StringBuilder("");

            for (int i = 0; i < 26; i++) {

                sb.append('#');

                sb.append(count[i]);

            }

            String key = sb.toString();

            if (!ans.containsKey(key)) ans.put(key, new ArrayList());

            ans.get(key).add(s);

        }

        return new ArrayList(ans.values());

    }

}
```

This was the code generated by ChatGPT:

```
CLASS solution DEFINITION.

  PUBLIC SECTION.

    METHODS: group_anagrams IMPORTING strs TYPE string_table

                       RETURNING VALUE(rv_anagrams) TYPE t_t_string_table.

ENDCLASS.

CLASS solution IMPLEMENTATION.

  METHOD group_anagrams.

    DATA: ans TYPE t_t_string_table,

          ca TYPE string,

          key TYPE string.

    IF lines( strs ) = 0.

      rv_anagrams = VALUE #( ).

      RETURN.

    ENDIF.

    CREATE DATA ans TYPE HASHED TABLE OF t_string_table

                      WITH UNIQUE KEY string.

    LOOP AT strs INTO ca.

      SORT ca BY character.

      key = ca.

      IF NOT ans IS INITIAL.

        INSERT VALUE #( ca ) INTO TABLE ans-values INDEX key.

      ELSE.

        INSERT VALUE #( ( ca ) ) INTO TABLE ans INDEX key.

      ENDIF.

    ENDLOOP.

    rv_anagrams = ans-values.

  ENDMETHOD.

ENDCLASS.
```

Isn't it nice?

It's impressive, but it doesn't compile and the algorithm is plain wrong, lots of approximations. Maybe soon we'll have AI connected to Java and ABAP knowledge base, but for now we get something apparently good, but needs a lot of rework. Let me explain.

I tried to complete the code to make it work. Before that, I created this ABAP test class which corresponds to the expected result of the algorithm (of the Java code above) and then I converted the algorithm from the Java code line by line, and made sure that the test succeeds:

```
CLASS solution DEFINITION.

  PUBLIC SECTION.

    TYPES: t_t_string_table TYPE STANDARD TABLE OF string_table WITH DEFAULT KEY.

    METHODS: group_anagrams IMPORTING strs               TYPE string_table

                            RETURNING VALUE(rv_anagrams) TYPE t_t_string_table.

ENDCLASS.

CLASS solution IMPLEMENTATION.

  METHOD group_anagrams.

    TYPES: ty_count TYPE STANDARD TABLE OF i WITH EMPTY KEY,

           BEGIN OF ty_ans_line,

             mapkey   TYPE string,

             mapvalue TYPE string_table,

           END OF ty_ans_line,

           ty_ans TYPE HASHED TABLE OF ty_ans_line WITH UNIQUE KEY mapkey.

    IF lines( strs ) = 0. rv_anagrams = VALUE #( ). RETURN. ENDIF.

    DATA(ans) = VALUE ty_ans( ).

    DATA(count) = VALUE ty_count( FOR x = 0 WHILE x < 26 ( ) ).

    LOOP AT strs INTO DATA(s).

      DO lines( count ) TIMES. count[ sy-index ] = 0. ENDDO.

      LOOP AT VALUE string_table( FOR off = 0 WHILE off < strlen( s ) ( substring( val = s off = off len = 1 ) ) ) INTO DATA(c).

        DATA(index) = cl_abap_conv_out_ce=>uccpi( c ) - cl_abap_conv_out_ce=>uccpi( 'a' ) + 1.

        count[ index ] = count[ index ] + 1.

      ENDLOOP.

      DATA(sb) = VALUE string_table( ).

      DO 26 TIMES.

        APPEND `#` TO sb.

        APPEND |{ count[ sy-index ] }| TO sb.

      ENDDO.

      DATA(key) = concat_lines_of( table = sb ).

      IF NOT line_exists( ans[ mapkey = key ] ). INSERT VALUE #( mapkey = key ) INTO TABLE ans. ENDIF.

      ASSIGN ans[ mapkey = key ]-mapvalue TO FIELD-SYMBOL(<mapvalue>).

      INSERT s INTO TABLE <mapvalue>.

    ENDLOOP.

    rv_anagrams = VALUE #( FOR <ans_line> IN ans ( <ans_line>-mapvalue ) ).

  ENDMETHOD.

ENDCLASS.

CLASS ltc_main DEFINITION FOR TESTING DURATION SHORT RISK LEVEL HARMLESS.

  PRIVATE SECTION.

    METHODS test FOR TESTING.

ENDCLASS.

CLASS ltc_main IMPLEMENTATION.

  METHOD test.

    DATA(words) = VALUE string_table(

        ( `are` ) ( `bat` ) ( `ear` ) ( `code` ) ( `tab` ) ( `era` ) ).

    DATA(answer) = NEW solution( )->group_anagrams( words ).

    cl_abap_unit_assert=>assert_equals( act = answer exp = VALUE solution=>t_t_string_table(

        ( VALUE #( ( `are` ) ( `ear` ) ( `era` ) ) )

        ( VALUE #( ( `bat` ) ( `tab` ) ) )

        ( VALUE #( ( `code` ) ) ) ) ).

  ENDMETHOD.

ENDCLASS.
```

Then I wanted to see how to correct the version of ChatGPT with the fewest changes possible. That's the result and below is the screenshot of Diff:

```
CLASS solution DEFINITION.

  PUBLIC SECTION.

    TYPES: t_t_string_table TYPE STANDARD TABLE OF string_table WITH DEFAULT KEY.

    METHODS: group_anagrams IMPORTING strs TYPE string_table

                       RETURNING VALUE(rv_anagrams) TYPE t_t_string_table.

EN...