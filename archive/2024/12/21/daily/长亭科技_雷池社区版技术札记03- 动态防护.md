---
title: 雷池社区版技术札记03- 动态防护
url: https://mp.weixin.qq.com/s?__biz=MzIwNDA2NDk5OQ==&mid=2651388622&idx=2&sn=ab9d90f5f7dcf98d84024a783a7c18c1&chksm=8d398b46ba4e0250565f31613c9563982fec398e4835b4119889ee93eb678f40548d69b5c24e&scene=58&subscene=0#rd
source: 长亭科技
date: 2024-12-21
fetch_date: 2025-10-06T19:39:10.640218
---

# 雷池社区版技术札记03- 动态防护

![cover_image](https://mmbiz.qpic.cn/sz_mmbiz_jpg/Fuleibl6qMupXk2wQdGETTmhQzFmYjm54zLBul3Zwhibica9b41q9jIQgWF6fKxicZibzVqh1Yiaq8wCibic94ks9u86qg/0?wx_fmt=jpeg)

# 雷池社区版技术札记03- 动态防护

雷池社区版

长亭科技

![](https://mmbiz.qpic.cn/sz_mmbiz_gif/Fuleibl6qMupXk2wQdGETTmhQzFmYjm54Za3WUicPIB5uIklsugOuJmkILoRzyBgMAgJlc9wzfp8z7J3Dlh4pUgg/640?wx_fmt=gif&from=appmsg)

雷池是长亭科技耗时 10 年倾情打造的 WAF，核心检测能力由智能语义分析算法驱动，在专业领域内享有极高的认可度。

雷池社区版是雷池企业级产品的衍生项目，在雷池企业版的基础上削减了面向大型专业企业的复杂功能，降低了硬件要求，简化了使用方式，专为社区打造的免费 WAF 产品。

官网：https://waf-ce.chaitin.cn/

GitHub：https://github.com/chaitin/SafeLine

![](https://mmbiz.qpic.cn/mmbiz_png/xLk5PwibzMpShPW34CqebwfO85OZmolEibFziboWXxE6lrFDBR2bQsS9ibZzMy21uI662CS5Exqe5efdJy4B4enDZA/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=10005&wx_lazy=1&wx_co=1)

好久没发公告，给大家汇报一下雷池社区的近况

* 社区版已经发布 400 天了

  GitHub 仓库的 star 也快突破了 10000 了

  累计装机量超过 13 万了

  每天清洗 HTTP 请求超过 300 亿次了

  付费用户越来越多，每时每刻都在爆金币

总之就是发展顺利，好事多多，团队里的小姑娘小伙计们都非常兴奋、干劲十足。

同时我们还有另外一个好消息要告诉大家，那就是雷池社区版 6.0 终于要发布了，这次大版本升级，我们从雷池企业版中移植了 “**动态防护**” 的部分能力，选择对社区开放。

# 动态防护

所谓动态防护，是在用户浏览到的网页内容不变的情况下，将网页赋予动态特性，即使是静态页面，也会具有动态的随机性。

雷池作为反向代理程序，经过雷池的网页代码都将被动态加密保护，动态防护可以实现很多效果，比如：

* 保护前端代码的隐私性
* 阻止爬虫行为
* 阻止漏洞扫描行为
* 阻止攻击利用行为
* 。。。

# 动态防护案例-html

下图是网站中正常 html 的样子：

![](https://mmbiz.qpic.cn/mmbiz_png/xLk5PwibzMpShPW34CqebwfO85OZmolEibFM0jZ1PiaPwHDIf09hgVvBLrMkZnFVMq3gXibQib7w5QtUBOib2eGxia2mA/640?from=appmsg&tp=webp&wxfrom=10005&wx_lazy=1&wx_co=1&wx_fmt=other)

经过雷池的动态防护之后，上文中的 html 代码将会被加密成下图的样子：

![](https://mmbiz.qpic.cn/mmbiz_png/xLk5PwibzMpShPW34CqebwfO85OZmolEibzeoYBTdAM6fpgm2ibM0jKJQuL0rYHsPbDvV5HDejICEQibMVtwyW79CQ/640?from=appmsg&tp=webp&wxfrom=10005&wx_lazy=1&wx_co=1&wx_fmt=other)

# 动态防护案例-javascript

再来看另一个例子，下图是网站中正常 javascript 的样子：

![](https://mmbiz.qpic.cn/mmbiz_png/xLk5PwibzMpShPW34CqebwfO85OZmolEibLic5YgT2YptjbzsczIzKrJ5Uld4Q6wTQy1Rb1AzAQRtL36xibt6TpTUA/640?from=appmsg&tp=webp&wxfrom=10005&wx_lazy=1&wx_co=1&wx_fmt=other)

经过雷池的动态防护之后，上文中的 javascript 代码将会被加密成下图的样子：

![](https://mmbiz.qpic.cn/mmbiz_png/xLk5PwibzMpShPW34CqebwfO85OZmolEibN3P0Lls0DGIO9y1r6cu2icpSvxRjowJuzlUaPEK7QwgPI21UgByiavwQ/640?from=appmsg&tp=webp&wxfrom=10005&wx_lazy=1&wx_co=1&wx_fmt=other)

开启动态防护后，网站中的 html 和 javascript 代码在每次访问时都会被动态加密为不同的随机形态，可以有效阻止爬虫和攻击自动化利用程序。

# 动态防护案例-爬虫

假设有一个爬虫，他的任务是批量爬取目标网站的关键信息。通常爬虫的设计思路是：

1. 找到存在关键信息的网页，如http://ct.cn/info?id=666
2. 自动化发送请求，获取网页内容
3. 解析 html 结构，提取网页中的关键信息
4. 遍历 id，获取更多信息

开启动态防护后，网页结构将被彻底随机打乱，爬虫的行为将无法进行。

# 动态防护案例-Web 漏洞扫描器

假设有一个 Web 漏洞扫描器，扫描原理通常是这样的：

1. 检测 SQL 注入漏洞，需要判断网页在 1=1 和 1=2 条件时响应内容的一致性
2. 检测 RCE 漏洞，需要判断网页响应内容是否包含 payload 中的特征字符。
3. 检测信息泄露，需要判断网页响应内容是否包含报错信息或敏感信息。
4. 暴力破解，需要判断登录成功和登录失败时响应内容的一致性
5. 等等等。。。

开启动态防护后，网页的响应内容在每次访问时都会被动态加密为不同的随机形态，干扰扫描器的判断逻辑，使漏洞扫描行为无法进行。

雷池社区版 6.0.0 的动态防护功能暂时还是 Beta 版，雷池研发团队近期会持续更新，快速迭代完善相关能力，欢迎大家试用，也感谢社区用户一直以来的支持。

预览时标签不可点

阅读原文

![]()

微信扫一扫
关注该公众号

继续滑动看下一个

轻触阅读原文

![](http://mmbiz.qpic.cn/mmbiz_png/Fuleibl6qMuqy3z1PNoOSxgQbUqYibAcIb722vbFGdP1gfxibthFf1IibTtFxgfSv90xVj6dPhV9oRc39O4VGUbYQw/0?wx_fmt=png)

长亭科技

向上滑动看下一个

知道了

![]()
微信扫一扫
使用小程序

取消
允许

取消
允许

取消
允许

×
分析

![跳转二维码]()

![作者头像](http://mmbiz.qpic.cn/mmbiz_png/Fuleibl6qMuqy3z1PNoOSxgQbUqYibAcIb722vbFGdP1gfxibthFf1IibTtFxgfSv90xVj6dPhV9oRc39O4VGUbYQw/0?wx_fmt=png)

微信扫一扫可打开此内容，
使用完整服务

：
，
，
，
，
，
，
，
，
，
，
，
，
。

视频
小程序
赞
，轻点两下取消赞
在看
，轻点两下取消在看
分享
留言
收藏
听过