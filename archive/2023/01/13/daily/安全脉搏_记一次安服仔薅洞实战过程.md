---
title: 记一次安服仔薅洞实战过程
url: https://www.secpulse.com/archives/194921.html
source: 安全脉搏
date: 2023-01-13
fetch_date: 2025-10-04T03:43:11.671468
---

# 记一次安服仔薅洞实战过程

[![](https://www.secpulse.com/wp-content/themes/secpulse2017/img/logo-header.png)](https://www.secpulse.com "安全脉搏")

* [首页](https://www.secpulse.com/)
* [分类阅读](https://www.secpulse.com/archives/category/category)

  #### 脉搏文库

  - [内网渗透](https://www.secpulse.com/archives/category/articles/intranet-penetration)
  - |
  - [代码审计](https://www.secpulse.com/archives/category/articles/code-audit)
  - |
  - [安全文献](https://www.secpulse.com/archives/category/articles/sec-doc)
  - |
  - [Web安全](https://www.secpulse.com/archives/category/articles/web)
  - |
  - [移动安全](https://www.secpulse.com/archives/category/articles/mobile-security)
  - |
  - [系统安全](https://www.secpulse.com/archives/category/articles/system)
  - |
  - [工控安全](https://www.secpulse.com/archives/category/articles/industrial-safety)
  - |
  - [CTF](https://www.secpulse.com/archives/category/exclusive/ctf-writeup)
  - |
  - [IOT安全](https://www.secpulse.com/archives/category/iot-security)
  - |

#### 安全建设

+ [业务安全](https://www.secpulse.com/archives/category/construction/businesssecurity)
+ |
+ [安全管理](https://www.secpulse.com/archives/category/construction/securityissue)
+ |
+ [数据分析](https://www.secpulse.com/archives/category/construction/bigdata)
+ |

#### 其他

+ [资讯](https://www.secpulse.com/archives/category/news)
+ |
+ [漏洞](https://www.secpulse.com/archives/category/vul)
+ |
+ [工具](https://www.secpulse.com/archives/category/tools)
+ |
+ [人物志](https://www.secpulse.com/archives/category/people)
+ |
+ [区块链安全](https://www.secpulse.com/archives/category/exclusive/block_chain_security)
+ |
+ [安全招聘](https://www.secpulse.com/archives/category/hiring)
+ |

- [安全问答](https://www.secpulse.com/newpage/question_list)
- [金币商城](https://www.secpulse.com/shop?donotcachepage=c010349fd98847cb9d6e07d3cbc19288)
- [安全招聘](https://www.secpulse.com/archives/category/hiring)
- [活动日程](https://www.secpulse.com/newpage/activity)
- [live课程](https://www.secpulse.com/live)
- [企业服务](https://duoyinsu.com/service.html)
- [插件社区](https://x.secpulse.com/)

小程序

![脉搏小程序](https://www.secpulse.com/wp-content/themes/secpulse2017/img/wxchat.jpg)
[登录](https://www.secpulse.com/user_login)
|
[注册](https://www.secpulse.com/user-register)

# 记一次安服仔薅洞实战过程

[脉搏文库](https://www.secpulse.com/archives/category/category/secdocs)

[潇湘信安](https://www.secpulse.com/newpage/author?author_id=37983)
![]( https://www.secpulse.com/wp-content/themes/secpulse2017/img/renzheng3.png)

2023-01-12

13,326

|  |
| --- |
| **声明：**该公众号大部分文章来自作者日常学习笔记，也有部分文章是经过作者授权和其他公众号白名单转载，未经授权，严禁转载，如需转载，联系开白。  请勿利用文章内的相关技术从事非法测试，如因此产生的一切不良后果与文章作者和本公众号无关。 |

文章来源：奇安信攻防社区（L1NG）

原文地址：https://forum.butian.net/share/404

**0x01 前言**

在一个阳光明媚的工作日，一位安服仔突然接受到了上级的任务，任务竟然是对整个区收集漏洞，数量要求还不是一般多，这可难倒了安服仔。

安服仔本想着安安心心过（摸）完这一周去过七夕（我猜这个时候评论区是醒醒你没有女朋友），怎么会收到这晴天霹雳不得安生。

**0x02 初步测试**

好了，言归正传，先来一波信息收集，啥也不逼逼，上fofa。

```
title="区域" && body="平台" && country="CN" && region!="HK" && region!="MO"
```

‍

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507024.png)

这样搜还能屏蔽掉一些菠菜，sq网站非常好用~，柿子当然挑好的捏，后台/管理/平台走起

好！接下来是很熟悉的登入界面

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507030.png)

这时候思路有什么，找接口/未授权/爆破/目录，这些可都是洞阿，不能放过一丝细节，不急着爆破进去，先来个F12大法（师从12少）

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507036.png)

接口有了试着访问一下

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507039.png)

很好啥也没有，这时候看到aspx就想起修君大哥的教导，回到上级目录（tip：有的.net网站会有接口管理器，找到一个接口返回上级目录就可以看到所有接口，而且有的aspx接口是可以看到参数值的）

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507042.png)

这洞不就来了吗？目录遍历稳了阿，翻阿还有啥好说的，看到最后倒数第二个uploader小心脏扑腾了一下。

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507049.png)

很好白折腾，这时候猜想，有一个目录遍历就有千千万万个目录遍历，扫目录别愣着。

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507050.png)

摸了一圈也没啥接口未授权，现在思路找页面未授权，刚刚在源码翻还看到这些东西，登入后的页面，马不停蹄去访问。

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507052.png)

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507055.png)

很好，一个未授权，不过操作不了很鸡肋，顶多算个中低危看看东西罢了，前台测完了要深入了。

**0x02 深入测试**

开始尝试登入框，老样子admin:123456尝试弱口令

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507056.png)

这不，又来2个洞来了，验证码和用户名枚举，这里还尝试登入窗口的SQL注入和万能密码无果只能放弃，上大炮上大炮爆破！

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507064.png)

不出意外的就进来了，弱口令漏洞+1

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507070.png)

接下来开始翻功能点阿~其实这些.net的网站aspx接口很好搞sql注入的，通过点功能点抓包就直接丢到sqlmap一把梭。

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507072.png)

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507074.png)

拿下拿下，不过这个太慢了，先放一边，继续翻功能点找到一个上传模板的上传点。

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507078.png)

上传一个正常的xlsx表格，修改掉filename值并且保留PK的文件头前缀躲避检测再将内容改成马子就可以愉快的上传了（这里在同事的帮助下搞定的这里感谢一下）

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507080.png)

这时候没有返回上传后的地址怎么办，不要急，再看看网站的功能，有个下载模板的按钮，这时候我们知道上传的是模板，下载的也是模板，那他们肯定在一个模子里面。

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507084.png)

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507089.png)

这里就能看到上传的地址了，这里有个小操作可以直接右键下载模板按钮点击复制链接，我这里是直接在闪过的一瞬间截图的。

访问看看马子还在不在

![](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/1970/01/beepress-image-194921-1673507093.png)

上冰鞋完美收官~手工薅了7个洞，扫描器再搞一搞凑个10个距离完成任务不远了。

祝各位师傅都能遇到这么easy的系统，天天好运气！

**本文作者：[潇湘信安](newpage/author?author_id=37983)**

**本文为安全脉搏专栏作者发布，转载请注明：**[**https://www.secpulse.com/archives/194921.html**](https://www.secpulse.com/archives/194921.html)

Tags: [aspx](https://www.secpulse.com/archives/tag/aspx)、[Fofa](https://www.secpulse.com/archives/tag/fofa)、[信息收集](https://www.secpulse.com/archives/tag/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86)、[弱口令漏洞](https://www.secpulse.com/archives/tag/%E5%BC%B1%E5%8F%A3%E4%BB%A4%E6%BC%8F%E6%B4%9E)、[接口](https://www.secpulse.com/archives/tag/%E6%8E%A5%E5%8F%A3)、[未授权](https://www.secpulse.com/archives/tag/%E6%9C%AA%E6%8E%88%E6%9D%83)、[爆破](https://www.secpulse.com/archives/tag/%E7%88%86%E7%A0%B4)、[目录](https://www.secpulse.com/archives/tag/%E7%9B%AE%E5%BD%95)

点赞：
4
[评论：0](#goComment)
收藏：
0

*新浪微博
QQ空间
微信扫一扫*

### 相关文章

* [![实战！记一次超简单渗透过程笔记](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/2023/05/1685526754726-300x191.png)

  实战！记一次超简单渗透过程笔记](https://www.secpulse.com/archives/201229.html "详细阅读 实战！记一次超简单渗透过程笔记")
* [![【HackTheBox】攻克靶机实战interdimensional internet攻略分享](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/2023/05/1684393312004-300x222.png)

  【HackTheBox】攻克靶机实战in…](https://www.secpulse.com/archives/200516.html "详细阅读 【HackTheBox】攻克靶机实战interdimensional internet攻略分享")
* [![MySQL数据库安全测试](https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/2023/05/1684133717094-300x188.png)

  MySQL数据库安全测试](https://www.secpulse.com/archives/200243.html "详细阅读 MySQL数据库安全测试")

评论  (0)

昵称

必填
您当前尚未登录。
[登录？](https://www.secpulse.com/user_login "登录")
[注册](https://www.secpulse.com/user-register)

邮箱

必填（保密）

快来写下你的想法吧！

upload

|  |  |  |
| --- | --- | --- |
| [![]( https://secpulseoss.oss-cn-shanghai.aliyuncs.com/wp-content/uploads/2020/11/12/5abbd29a2ce13702d20784fb420161da-290x290.png)](https://www.secpulse.com/newpage/author?author_id=37983aaa) | [潇湘信安 ![]( https://www.secp...