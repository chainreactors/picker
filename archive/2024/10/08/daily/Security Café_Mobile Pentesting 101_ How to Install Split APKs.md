---
title: Mobile Pentesting 101: How to Install Split APKs
url: https://securitycafe.ro/2024/10/07/mobile-pentesting-101-how-to-install-split-apks/
source: Security Café
date: 2024-10-08
fetch_date: 2025-10-06T18:50:56.680774
---

# Mobile Pentesting 101: How to Install Split APKs

[Skip to content](#content)

[Security Café](https://securitycafe.ro/)

Security Research and Services

* [Things we do on a daily basis](https://securitycafe.ro/security-services-for-business/)
  + [Red Team (DORA/TIBER) exercises](https://securitycafe.ro/security-services-for-business/dora-tiber-exercises/)
  + [Web Application Penetration Testing](https://securitycafe.ro/security-services-for-business/web-application-penetration-testing/)
  + [Mobile Application Penetration Testing](https://securitycafe.ro/security-services-for-business/mobile-application-penetration-testing/)
  + [Infrastructure Penetration Testing](https://securitycafe.ro/security-services-for-business/infrastructure-penetration-testing/)
  + [Vulnerability Assessment](https://securitycafe.ro/security-services-for-business/vulnerability-assessment/)
* [CVEs, Talks and Tools](https://securitycafe.ro/cves-talks-and-tools/)
* [Contact](https://securitycafe.ro/contact/)
* [About](https://securitycafe.ro/about/)

[![](https://securitycafe.ro/wp-content/uploads/2015/01/cropped-cropped-coffee-banner-2-4.jpg)](https://securitycafe.ro/)

![](https://securitycafe.ro/wp-content/uploads/2024/09/8376b761-eb89-476a-95c8-1b69ed506484.jpeg?w=840)

# Mobile Pentesting 101: How to Install Split APKs

[October 7, 2024](https://securitycafe.ro/2024/10/07/mobile-pentesting-101-how-to-install-split-apks/ "2:09 pm") [Ionut Morosan](https://securitycafe.ro/author/imorosan/ "View all posts by Ionut Morosan") [Mobile security](https://securitycafe.ro/category/mobile-security/) [Leave a comment](https://securitycafe.ro/2024/10/07/mobile-pentesting-101-how-to-install-split-apks/#respond)

## **Understanding Split APKs**

In modern mobile app development, split APKs are becoming increasingly common. They divide a large app into smaller packages, allowing for more efficient downloads and installations, especially on devices with limited storage. For mobile penetration testers, understanding and working with split APKs is essential.

1. [Understanding Split APKs](https://securitycafe.ro/2024/09/30/mobile-pentesting-101-how-to-install-split-apks/#understanding-split-apks)
2. [Structure of a Split Apk](https://securitycafe.ro/2024/09/30/mobile-pentesting-101-how-to-install-split-apks/#structure-of-a-split-apk)
3. [Split Apks vs App Bundle](https://securitycafe.ro/2024/09/30/mobile-pentesting-101-how-to-install-split-apks/#split-apks-vs-app-bundle)
   1. [Split APKs](https://securitycafe.ro/2024/09/30/mobile-pentesting-101-how-to-install-split-apks/#split-apks)
   2. [Android App Bundles](https://securitycafe.ro/2024/09/30/mobile-pentesting-101-how-to-install-split-apks/#android-app-bundles)
4. [Tools for Installing Split APKs](https://securitycafe.ro/2024/09/30/mobile-pentesting-101-how-to-install-split-apks/#tools-for-installing-split-apks)
5. [Signing and Installing Patched Split APKs](https://securitycafe.ro/2024/09/30/mobile-pentesting-101-how-to-install-split-apks/#signing-and-installing-patched-split-apks)
   1. [Extract Split APKs](https://securitycafe.ro/2024/09/30/mobile-pentesting-101-how-to-install-split-apks/#extract-split-apks)
   2. [Decompile Split APKs for Patching](https://securitycafe.ro/2024/09/30/mobile-pentesting-101-how-to-install-split-apks/#decompile-split-apks-for-patching)
   3. [Generate, Sign, and Install Split APKS](https://securitycafe.ro/2024/09/30/mobile-pentesting-101-how-to-install-split-apks/#generate-sign-and-install-split-apks)
6. [Conclusion](https://securitycafe.ro/2024/09/30/mobile-pentesting-101-how-to-install-split-apks/#conclusion)

![](https://securitycafe.ro/wp-content/uploads/2024/09/pexels-photo-89955.jpeg)

## **Structure of a Split Apk**

To effectively work with split APKs, it’s essential to understand their underlying structure. A typical split APK consists of the following components:

* **Base APK:** This is the core APK that contains the essential components of the app, including the manifest file, classes.dex, and the resources directory.
* **Feature APKs:** These APKs contain optional features that can be downloaded and installed on-demand, providing users with flexibility and reducing initial download sizes.
* **Configuration APKs:** These APKs contain additional code and resources that are specific to certain device configurations, such as screen size, CPU architecture, and language.

## **Split Apks vs App Bundle**

Another discussion that I encounter frequently is about app bundles. Both split APKs and Android App Bundles are designed to optimize app delivery and installation on Android devices. However, they differ significantly in their approach and advantages.

### Split APKs

A split APK is a smaller package of an app that contains a subset of the app’s code and resources. It is used to reduce download sizes and improve installation times, especially for devices with limited storage. Developers manually create split APKs by dividing their app’s code and resources into smaller packages based on factors like device configuration (e.g., screen size, CPU architecture).

### Android App Bundles

An Android App Bundle is a single upload format that contains all your app’s code and resources. It is used to allow Google Play to generate and serve the optimal APK combination for each device, reducing download sizes and improving installation times. Developers create a single Android App Bundle using the Android Gradle Plugin, which includes all the app’s code and resources.

## **Tools for Installing Split APKs**

Several tools and techniques can be used to install split APKs on Android devices:

1. **Split APKs Installer:** This dedicated app from the Play Store provides a user-friendly interface for installing split APKs. Simply download the app, select the split APKs, and follow the on-screen instructions.
2. **ADB (Android Debug Bridge):** For more advanced users, ADB can be used to install split APKs. Connect your Android device to your computer via USB, enable developer options, and enable USB debugging. Then, use the following command to install multiple APKs:

```
adb install-multiple apk1.apk apk2.apk ...
```

3. **MMSF (Massive Mobile Security Framework):** MMSF, a powerful tool for mobile penetration testing, has built-in functionality for handling split APKs, allowing you to focus more on testing, rather than handling different types of data.

![](https://securitycafe.ro/wp-content/uploads/2024/09/image-1.png?w=730)

## **Signing and Installing Patched Split APKs**

Most of the time you would also need to work with those Split APKs and perform different actions like patching the APKs and re-install the application. This is not always straightforward; sometimes this is even harder than expected. But let’s see how we can leverage MMSF to extract, decompile, sign, generate, and install Split APKs.

### Extract Split APKs

To extract Split APKs from an Android device, all you have to do is to know the application’s package name. The rest is done by MMSF for effectiveness. The following should be run to extract the APKs from the device:

```
mmsf> usemodule splitapk
mmsf (splitapk)> usemodule pull
mmsf (splitapk/pull)> set
mmsf (splitapk/pull/set)> app com.netflix.mediaclient
mmsf (splitapk/pull/set)> path /tmp
mmsf (splitapk/pull/set)> run
```

### Decompile Split APKs for Patching

Now that we have the APKs, the next step is to decompile them for further analysis and patching. Decompiling allows us to examine the application’s code structure and identify vulnerabilities.

We have to decompile not only the base.apk but also all associated APKs. This ensures that all components are signed with the same certificate, maintaining the application’s integrity.

```
mmsf (splitapk)> usemodule decompile
mmsf (splitapk/decompile)> set
mmsf (splitapk/decompile/set)> path /tmp/com.netflix.mediaclient
mmsf (splitapk/decompile/set)> run
```

![](https://securitycafe.ro/wp-content/uploads/2024/09/image-2.png?w=1024)

Decompile Split APKs

### Generate, Sign, an...