---
title: grs-通过REALITY协议实现的内网穿透工具
url: https://guage.cool/grs-tunnel-via-reality.html
source: 半块西瓜皮
date: 2024-10-12
fetch_date: 2025-10-06T18:52:57.556592
---

# grs-通过REALITY协议实现的内网穿透工具

[![](/img/avatar.jpg)](/about/)[氓聧聤氓聺聴猫楼驴莽聯聹莽職庐](/)

忙虏隆忙聹聣忙聣戮氓聢掳氓聠聟氓庐鹿茂录聛

忙聹卢忙聳聡莽聸庐氓陆聲

1. [莽庐聙盲禄聥](#%E7%AE%80%E4%BB%8B)
2. [盲陆驴莽聰篓忙颅楼茅陋陇](#%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4)
   1. [莽聰聼忙聢聬茅聟聧莽陆庐茫聙聛氓庐垄忙聢路莽芦炉茫聙聛莽聰篓忙聢路莽芦炉](#%E7%94%9F%E6%88%90%E9%85%8D%E7%BD%AE%E3%80%81%E5%AE%A2%E6%88%B7%E7%AB%AF%E3%80%81%E7%94%A8%E6%88%B7%E7%AB%AF)
   2. [氓聬炉氓聤篓忙聹聧氓聤隆莽芦炉](#%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF)
   3. [氓聬炉氓聤篓氓庐垄忙聢路莽芦炉](#%E5%90%AF%E5%8A%A8%E5%AE%A2%E6%88%B7%E7%AB%AF)
   4. [氓聬炉氓聤篓莽聰篓忙聢路莽芦炉](#%E5%90%AF%E5%8A%A8%E7%94%A8%E6%88%B7%E7%AB%AF)
3. [氓赂赂猫搂聛茅聴庐茅垄聵](#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98)
   1. [忙聹聧氓聤隆莽芦炉猫垄芦忙聨垄忙碌聥忙聴露盲陆驴莽聰篓莽職聞芒聙聹莽聹聼猫炉聛盲鹿娄芒聙聺氓聬聴?](#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%A2%AB%E6%8E%A2%E6%B5%8B%E6%97%B6%E4%BD%BF%E7%94%A8%E7%9A%84%E2%80%9C%E7%9C%9F%E8%AF%81%E4%B9%A6%E2%80%9D%E5%90%97)
   2. [盲赂潞盲禄聙盲鹿聢氓庐垄忙聢路莽芦炉/莽聰篓忙聢路莽芦炉忙聫聬莽陇潞verify failed?](#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AE%A2%E6%88%B7%E7%AB%AF-%E7%94%A8%E6%88%B7%E7%AB%AF%E6%8F%90%E7%A4%BAverify-failed)
4. [氓聟鲁盲潞聨REALITY氓聧聫猫庐庐](#%E5%85%B3%E4%BA%8EREALITY%E5%8D%8F%E8%AE%AE)
   1. [reality氓聨聼莽聬聠](#reality%E5%8E%9F%E7%90%86)
   2. [reality莽職聞莽聣鹿莽聜鹿氓聮聦茅聶聬氓聢露](#reality%E7%9A%84%E7%89%B9%E7%82%B9%E5%92%8C%E9%99%90%E5%88%B6)
   3. [盲赂聨氓聨聼莽聣聢莽職聞reality莽職聞氓聦潞氓聢芦](#%E4%B8%8E%E5%8E%9F%E7%89%88%E7%9A%84reality%E7%9A%84%E5%8C%BA%E5%88%AB)
   4. [忙聳聡忙隆拢氓聹掳氓聺聙](#%E6%96%87%E6%A1%A3%E5%9C%B0%E5%9D%80)

氓聸聻氓聢掳茅隆露茅聝篓氓聫聜盲赂聨猫庐篓猫庐潞

[![](data:image/png;base64...)](https://github.com/howmp)[![](data:image/png;base64...)](https://weibo.com/howmp)[![](data:image/png;base64...)](https://guage.cool/atom.xml)![](data:image/png;base64...)

[盲赂禄茅隆碌](/)
[忙聳聡莽芦聽](/)[莽录聳莽篓聥](/categories/%E7%BC%96%E7%A8%8B/)  [忙赂聴茅聙聫](/categories/%E7%BC%96%E7%A8%8B/%E6%B8%97%E9%80%8F/)

氓聫聭氓赂聝盲潞聨茂录職2024-10-11忙聸麓忙聳掳盲潞聨茂录職2024-10-11

# grs-茅聙職猫驴聡REALITY氓聧聫猫庐庐氓庐聻莽聨掳莽職聞氓聠聟莽陆聭莽漏驴茅聙聫氓路楼氓聟路

## 莽庐聙盲禄聥

1. grss(Golang Reverse SOCKS5 Server) 忙聹聧氓聤隆莽芦炉茂录聦茅聹聙猫娄聛忙聹聣氓聟卢莽陆聭IP莽職聞忙聹潞氓聶篓盲赂聤
2. grsc(Golang Reverse SOCKS5 Client) 氓庐垄忙聢路莽芦炉茂录聦茅聹聙猫娄聛猫驴聬猫隆聦盲潞聨忙聝鲁猫娄聛莽漏驴茅聙聫莽職聞氓聠聟莽陆聭盲赂颅忙聹潞氓聶篓盲赂聤
3. grsu(Golang Reverse SOCKS5 User) 莽聰篓忙聢路莽芦炉茂录聦茅聹聙猫娄聛猫驴聬猫隆聦盲潞聨莽聰篓忙聢路忙聹潞氓聶篓盲赂聤茂录聦忙聫聬盲戮聸socks5忙聹聧氓聤隆

grs忙聵炉盲赂聙盲赂陋氓聫聧氓聬聭socks5盲禄拢莽聬聠,氓聟露盲赂颅grss氓聮聦grsc氓聮聦grsu忙聵炉茅聙職猫驴聡REALITY氓聧聫猫庐庐茅聙職盲驴隆

莽聸赂氓炉鹿盲潞聨frp茂录聦nps莽颅聣氓聠聟莽陆聭莽漏驴茅聙聫氓路楼氓聟路忙聹聣盲禄楼盲赂聥莽聣鹿莽聜鹿

1. 氓庐聦莽戮聨忙露聢茅聶陇莽陆聭莽禄聹莽聣鹿氓戮聛
2. 茅聵虏忙颅垄忙聹聧氓聤隆莽芦炉猫垄芦盲赂禄氓聤篓忙聨垄忙碌聥
3. 氓庐垄忙聢路莽芦炉氓聮聦莽聰篓忙聢路莽芦炉氓聠聟氓碌聦茅聟聧莽陆庐茂录聦盲赂聧茅聹聙猫娄聛氓聭陆盲禄陇猫隆聦忙聢聳茅垄聺氓陇聳茅聟聧莽陆庐忙聳聡盲禄露

盲禄聯氓潞聯氓聹掳氓聺聙: <https://github.com/howmp/reality>

## 盲陆驴莽聰篓忙颅楼茅陋陇

### 莽聰聼忙聢聬茅聟聧莽陆庐茫聙聛氓庐垄忙聢路莽芦炉茫聙聛莽聰篓忙聢路莽芦炉

`grss gen www.qq.com:443 127.0.0.1:443`

1. `www.qq.com:443` 忙聵炉猫垄芦忙篓隆忙聥聼莽職聞莽聸庐忙聽聡
2. `127.0.0.1:443` 忙聵炉忙聹聧氓聤隆氓聶篓莽聸聭氓聬卢氓聹掳氓聺聙茂录聦猫驴聶茅聡聦猫娄聛氓隆芦氓聠聶氓聟卢莽陆聭IP茂录聦莽芦炉氓聫拢忙聹聙氓楼陆氓聮聦忙篓隆忙聥聼莽聸庐忙聽聡盲赂聙猫聡麓

猫聥楼SNIAddr忙聢聳ServerAddr盲赂聧忙聦聡氓庐職茂录聦氓聢聶氓掳聺猫炉聲氓聤聽猫陆陆氓路虏忙聹聣茅聟聧莽陆庐忙聳聡盲禄露

|  |  |
| --- | --- |
| ``` 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 ``` | ``` Usage:   grss [OPTIONS] gen [gen-OPTIONS] [SNIAddr] [ServerAddr]  generate server config and client  Help Options:   -h, --help                                                 Show this help message  [gen command options]       -d                                                     debug       -f=[chrome|firefox|safari|ios|android|edge|360|qq]     client finger print (default: chrome)       -e=                                                    expire second (default: 30)       -o=                                                    server config output path (default: config.json)           --dir=                                             client output directory (default: .)  [gen command arguments]   SNIAddr:                                                   tls server address, e.g. example.com:443   ServerAddr:                                                server address, e.g. 8.8.8.8:443 ``` |

### 氓聬炉氓聤篓忙聹聧氓聤隆莽芦炉

`grss serv`

|  |  |
| --- | --- |
| ``` 1 2 3 4 5 6 7 8 9 10 ``` | ``` Usage:   grss [OPTIONS] serv [serv-OPTIONS]  run server  Help Options:   -h, --help      Show this help message  [serv command options]       -o=         server config path (default: config.json) ``` |

### 氓聬炉氓聤篓氓庐垄忙聢路莽芦炉

`grsc`

### 氓聬炉氓聤篓莽聰篓忙聢路莽芦炉

`grsu`

|  |  |
| --- | --- |
| ``` 1 2 3 ``` | ``` Usage of grsu:   -l string         socks5 listen address (default "127.0.0.1:61080") ``` |

## 氓赂赂猫搂聛茅聴庐茅垄聵

### 忙聹聧氓聤隆莽芦炉猫垄芦忙聨垄忙碌聥忙聴露盲陆驴莽聰篓莽職聞芒聙聹莽聹聼猫炉聛盲鹿娄芒聙聺氓聬聴?

忙聵炉茂录聦氓聡聠莽隆庐莽職聞猫炉麓猫垄芦忙聨垄忙碌聥忙聴露茂录聦忙聹聧氓聤隆莽芦炉莽聸赂氓陆聯盲潞聨盲赂聙盲赂陋莽芦炉氓聫拢猫陆卢氓聫聭茂录聦猫炉聛盲鹿娄盲赂聨猫垄芦忙篓隆忙聥聼莽職聞莽聸庐忙聽聡氓庐聦氓聟篓盲赂聙猫聡麓

猫驴聶忙聽路盲赂聙莽聜鹿氓聫炉盲禄楼茅聙職猫驴聡盲驴庐忙聰鹿忙聹卢氓聹掳Hosts忙聳聡盲禄露氓聬聨茂录聦茅聙職猫驴聡忙碌聫猫搂聢氓聶篓猫庐驴茅聴庐忙聺楼茅陋聦猫炉聛

忙聢聳茅聙職猫驴聡curl茅陋聦猫炉聛: `curl -v -I --resolve "www.qq.com:443:127.0.0.1" https://www.qq.com`

### 盲赂潞盲禄聙盲鹿聢氓庐垄忙聢路莽芦炉/莽聰篓忙聢路莽芦炉忙聫聬莽陇潞`verify failed`?

1. 忙聹聧氓聤隆莽芦炉忙聴露茅聴麓氓聮聦氓庐垄忙聢路莽芦炉忙聴露茅聴麓莽聸赂氓路庐猫露聟猫驴聡`expire second`
   1. 盲赂潞盲潞聠茅聵虏茅聡聧忙聰戮茂录聦茅禄聵猫庐陇盲赂聧猫聝陆莽聸赂氓路庐30莽搂聮茂录聦氓聫炉氓聹篓莽聰聼忙聢聬忙聴露盲驴庐忙聰鹿忙聹聙氓陇搂猫露聟忙聴露忙聴露茅聴麓`grss gen -e 60 www.qq.com:443 127.0.0.1:443`
   2. 盲鹿聼氓聫炉盲禄楼NTP氓聬聦忙颅楼氓庐垄忙聢路莽芦炉茫聙聛莽聰篓忙聢路莽芦炉茫聙聛忙聹聧氓聤隆莽芦炉忙聴露茅聴麓
2. 忙聹聧氓聤隆莽芦炉茅聟聧莽陆庐茅聡聧忙聳掳莽聰聼忙聢聬氓聬聨茂录聦盲鹿聼茅聹聙猫娄聛盲陆驴莽聰篓忙聹聙忙聳掳莽職聞`grsc`氓聮聦`grsu`茂录聦氓聬娄氓聢聶茅垄聞氓聟卤盲潞芦氓炉聠茅聮楼盲赂聧氓聦鹿茅聟聧
3. 氓庐垄忙聢路莽芦炉莽職聞莽陆聭莽禄聹氓聫炉猫聝陆猫垄芦氓聤芦忙聦聛

## 氓聟鲁盲潞聨REALITY氓聧聫猫庐庐

<https://github.com/XTLS/REALITY>

reality忙聵炉氓庐聣氓聟篓盲录聽猫戮聯氓卤聜莽職聞氓庐聻莽聨掳茂录聦氓聟露氓聮聦TLS莽卤禄盲录录茅聝陆氓庐聻莽聨掳盲潞聠氓庐聣氓聟篓盲录聽猫戮聯茂录聦茅聶陇忙颅陇盲鹿聥氓陇聳猫驴聵猫驴聸猫隆聦TLS忙聦聡莽潞鹿盲录陋猫拢聟

莽庐聙氓聧聲忙聺楼猫炉麓氓掳卤忙聵炉茂录職

1. 莽隆庐氓庐職盲赂聙盲赂陋盲录陋猫拢聟忙聹聧氓聤隆氓聶篓莽聸庐忙聽聡茂录聦忙炉聰氓娄聜[https://example.com](https://example.com/)
2. 氓陆聯忙聶庐茅聙職氓庐垄忙聢路莽芦炉忙聺楼猫庐驴茅聴庐reality忙聹聧氓聤隆莽芦炉忙聴露茂录聦氓掳聠氓聟露盲禄拢莽聬聠氓聢掳example.com
3. 氓陆聯莽聣鹿忙庐聤氓庐垄忙聢路莽芦炉忙聺楼猫庐驴茅聴庐reality忙聹聧氓聤隆莽芦炉忙聴露茂录聦猫驴聸猫隆聦莽聣鹿氓庐職氓陇聞莽聬聠忙碌聛莽篓聥

### reality氓聨聼莽聬聠

氓聟路盲陆聯忙聺楼猫炉麓氓掳卤忙聵炉氓聹篓氓庐垄忙聢路莽芦炉盲赂聨盲录陋猫拢聟忙聹聧氓聤隆氓聶篓猫驴聸猫隆聦TLS忙聫隆忙聣聥莽職聞氓聬聦忙聴露茂录聦盲鹿聼猫驴聸猫隆聦盲潞聠莽搂聛忙聹聣忙聫隆忙聣聥

茅娄聳氓聟聢reality忙聹聧氓聤隆莽芦炉氓聮聦莽聣鹿忙庐聤氓庐垄忙聢路莽芦炉茅垄聞氓聟聢氓聟卤盲潞芦盲赂聙氓炉鹿氓聟卢莽搂聛氓炉聠茅聮楼(x25519)

莽搂聛忙聹聣忙聫隆忙聣聥氓聟鲁茅聰庐忙颅楼茅陋陇氓娄聜盲赂聥:

1. 莽聣鹿忙庐聤氓庐垄忙聢路莽芦炉氓聹篓Client Hello盲赂颅
   1. 莽聰聼忙聢聬盲赂麓忙聴露氓聟卢莽搂聛氓炉聠茅聮楼氓炉鹿(x25519)
   2. Client Hello盲赂颅氓掳聠Extension莽職聞key\_share盲驴庐忙聰鹿盲赂潞盲赂麓忙聴露氓聟卢茅聮楼
   3. 茅聙職猫驴聡盲赂麓忙聴露莽搂聛茅聮楼盲赂聨茅垄聞氓聟聢氓聟卤盲潞芦莽職聞氓聟卢茅聮楼,盲禄楼氓聫聤hkdf莽庐聴忙鲁聲莽聰聼忙聢聬authkey
   4. 茅聙職猫驴聡authkey氓炉鹿莽聣聢忙聹卢氓聫路茫聙聛忙聴露茅聴麓忙聢鲁莽颅聣盲驴隆忙聛炉氓聤聽氓炉聠茂录聦氓鹿露忙聸驴忙聧垄Client Hello盲赂颅莽職聞Session ID氓颅聴忙庐碌
2. reality忙聹聧氓聤隆莽芦炉忙聰露氓聢掳Client Hello氓聬聨
   1. 茅聙職猫驴聡茅垄聞氓聟聢氓聟卤盲潞芦莽職聞莽搂聛茅聮楼氓聮聦Client Hello盲赂颅莽職聞盲赂麓忙聴露氓聟卢茅聮楼茂录聦盲禄楼氓聫聤hkdf莽庐聴忙鲁聲莽聰聼忙聢聬authkey
   2. 茅聙職猫驴聡authkey猫搂拢氓炉聠Session ID氓颅聴忙庐碌茂录聦氓鹿露茅陋聦猫炉聛忙聴露茅聴麓忙聢鲁茫聙聛莽聣聢忙聹卢氓聫路盲驴隆忙聛炉
   3. 茅陋聦猫炉聛忙聢聬氓聤聼氓聢聶莽聰聼忙聢聬盲赂聙盲赂陋盲赂麓忙聴露氓聫炉盲驴隆猫炉聛盲鹿娄(ed25519)
   4. 茅陋聦猫炉聛氓陇卤猫麓楼氓聢聶盲禄拢莽聬聠氓聢掳盲录陋猫拢聟忙聹聧氓聤隆氓聶篓
3. 莽聣鹿忙庐聤氓庐垄忙聢路莽芦炉氓聹篓忙聰露氓聢掳reality忙聹聧氓聤隆莽芦炉猫炉聛盲鹿娄氓聬聨
   1. 茅聙職猫驴聡hmac莽庐聴忙鲁聲氓聮聦authkey猫庐隆莽庐聴猫炉聛盲鹿娄莽颅戮氓聬聧茂录聦盲赂聨忙聰露氓聢掳莽職聞猫炉聛盲鹿娄莽颅戮氓聬聧氓炉鹿忙炉聰
   2. 猫聥楼莽颅戮氓聬聧盲赂聙猫聡麓茂录聦猫驴聸猫隆聦莽聣鹿氓庐職氓陇聞莽聬聠忙碌聛莽篓聥
   3. 猫聥楼莽颅戮氓聬聧盲赂聧盲赂聙猫聡麓
      1. 盲陆聠莽颅戮氓聬聧忙聵炉example.com莽職聞莽聹聼猫炉聛盲鹿娄茂录聦氓聢聶猫驴聸氓聟楼莽聢卢猫聶芦忙篓隆氓录聫
      2. 氓聬娄氓聢聶氓聫聭茅聙聛TLS alert

<https://github.com/XTLS/Xray-core/issues/1697#issuecomment-1441215569>

### reality莽職聞莽聣鹿莽聜鹿氓聮聦茅聶聬氓聢露

莽聣鹿莽聜鹿茂录職

1. 氓庐聦莽戮聨忙篓隆忙聥聼盲潞聠盲录陋猫拢聟忙聹聧氓聤隆氓聶篓莽職聞TLS忙聦聡莽潞鹿
2. 莽聣鹿忙庐聤氓庐垄忙聢路莽芦炉氓路搂氓娄聶莽職聞氓聢漏莽聰篓TLS1.3莽職聞key\_share氓聮聦Session ID氓颅聴忙庐碌猫驴聸猫隆聦莽搂聛忙聹聣忙聫隆忙聣聥
   1. 猫驴聶盲赂陇氓颅聴忙庐碌氓聨聼忙聹卢茅聝陆忙聵炉茅職聫忙聹潞莽職聞茂录聦氓聧鲁盲陆驴忙聸驴忙聧垄盲鹿聼忙虏隆忙聹聣莽聣鹿氓戮聛
3. 盲赂聧茅聹聙猫娄聛氓聼聼氓聬聧茂录聦盲鹿聼盲赂聧茅聹聙猫娄聛猫炉聛盲鹿娄

茅聶聬氓聢露茂录職

氓聫陋猫聝陆盲陆驴莽聰篓TLS1.3茂录聦盲赂聰氓驴聟茅隆禄盲陆驴莽聰篓x25519

1. key\_share忙聵炉TLS1.3忙聳掳氓垄聻氓聠聟氓庐鹿<https://www.rfc-editor.org/rfc/rfc8446#section-4.2.8>
2. reality忙聹聧氓聤隆莽芦炉猫驴聰氓聸聻莽職聞盲赂麓忙聴露猫炉聛盲鹿娄忙聹卢猫麓篓盲赂聤忙聵炉忙聹聣莽聣鹿氓戮聛莽職聞茂录聦盲陆聠TLS1.3盲赂颅Certificate氓聦聟忙聵炉氓聤聽氓炉聠莽職聞茂录聦盲鹿聼氓掳卤猫搂聞茅聛驴盲潞聠猫驴聶盲赂聙茅聴庐茅垄聵
3. 氓娄聜忙聻聹盲录陋猫拢聟忙聹聧氓聤隆氓聶篓莽聸庐忙聽聡盲赂聧盲陆驴莽聰篓x25519茂录聦氓聢聶莽搂聛忙聹聣忙聫隆忙聣聥忙聴聽忙鲁聲忙聢聬氓聤聼

### 盲赂聨氓聨聼莽聣聢莽職聞reality莽職聞氓聦潞氓聢芦

1. 盲陆驴莽聰篓盲赂陇莽禄聞茅垄聞氓聟卤盲潞芦氓聟卢莽搂聛茅聮楼茂录聦氓聢聠氓聢芦莽聰篓盲潞聨氓炉聠茅聮楼盲潞陇忙聧垄/茅陋聦莽颅戮茂录聦茅陋聦莽颅戮盲陆驴莽聰篓茅垄聺氓陇聳盲赂聙忙卢隆茅聙職盲驴隆猫驴聸猫隆聦
2. 忙篓隆盲禄驴莽芦聶氓驴聟茅隆禄忙聵炉tls1.2茂录聦盲赂聰忙聹聙氓楼陆盲陆驴莽聰篓aead莽職聞氓楼聴盲禄露
   1. TLS\_ECDHE\_RSA\_WITH\_CHACHA20\_POLY1305
   2. TLS\_ECDHE\_ECDSA\_WITH\_CHACHA20\_POLY1305
   3. TLS\_ECDHE\_RSA\_WITH\_AES\_128\_GCM\_SHA256
   4. TLS\_ECDHE\_ECDSA\_WITH\_AES\_128\_GCM\_SHA256
   5. TLS\_ECDHE\_RSA\_WITH\_AES\_256\_GCM\_SHA384
   6. TLS\_ECDHE\_ECDSA\_WITH\_AES\_256\_GCM\_SHA384
   7. TLS\_RSA\_WITH\_AES\_128\_GCM...