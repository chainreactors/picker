---
title: QCon演讲实录|徐广治：边缘云原生操作系统的设计与思考
url: https://mp.weixin.qq.com/s?__biz=MzI1MzYzMjE0MQ==&mid=2247511345&idx=1&sn=c4c08f1145da59c847bc5822ca8ffd55&chksm=e9d366d3dea4efc5d4b34ceff83801703bf759f176a659d7a7c58b4d64c38337542eb0e9e50a&scene=58&subscene=0#rd
source: 字节跳动技术团队
date: 2024-11-14
fetch_date: 2025-10-06T19:20:00.021199
---

# QCon演讲实录|徐广治：边缘云原生操作系统的设计与思考

![cover_image](https://mmbiz.qpic.cn/sz_mmbiz_jpg/5EcwYhllQOiaw85HOUqWx0LwCHUx6oKll2jHflKxfFX0ExC4ibclOouzCJGQYEN43tdj9EA49ibMianY4CuBoTQ3SQ/0?wx_fmt=jpeg)

# QCon演讲实录|徐广治：边缘云原生操作系统的设计与思考

徐广治

字节跳动技术团队

10月18日，在 QCon 全球软件开发大会 2024（上海站），火山引擎边缘云资深架构师徐广治围绕**火山引擎边缘计算产品背后的算力底座 - 边缘云原生操作系统**，探讨如何实现算力服务的混合部署和跨区域弹性调度，以及在小型化、集成化、轻量化基础上的技术创新，并展开介绍了边缘云原生操作系统的研发动因、面临挑战、架构设计和未来演进方向。

演讲内容主要包括了五部分：边缘云行业现状和发展历程，边缘场景的技术挑战，边缘云原生操作系统，业务应用实践，演进和未来思考。

![](https://mmbiz.qpic.cn/mmbiz_jpg/VmZib2HH8icKibVUE2UAcErGnm5ibFGlpJicEpy3wHyPvAkvt9GTsmbEVobHbKkCqu0ZUpLvjx2ibVQV1TTRryicveZlg/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

以下是演讲实录：

大家好，很高兴有机会和大家分享火山引擎边缘云在边缘计算场景架构设计上的思考和实践，我今天分享的主题是《边缘云原生操作系统设计与思考》。分享分为五个部分：

1. 第一部分，边缘云当前的业务状态以及历史发展路径；
2. 第二部分，边缘场景存在的技术挑战和解决思路；
3. 第三部分，在技术挑战、业务发展的背景下，火山引擎边缘云的思考与实践，也就是边缘云原生操作系统；
4. 第四部分，云原生操作系统之上的应用，即边缘云的产品矩阵和行业应用；
5. 最后，回归技术主线，畅想边缘云技术架构的未来。

#

# **1.边缘云行业现状和发展历程**

从 06 年 AWS 推出 EC2 、S3 到今天已经过去了 18 年，云计算早已不是一个新鲜词汇，从当前业务来看，我们能看到云计算从中心到中心+边缘的发展趋势，为什么会有这样的变化呢？在业务角度有三个关键的诱因：

* **第一，越来越多的本地化应用。**最近 Meta 发布了新的 AR 智能眼镜，APPLE 也有 Vision Pro ，这些都是典型的 AR/VR 应用的场景，随着更多工业制造、网络直播、智慧园区、自动驾驶、云游戏等本地化应用的崛起，促使计算资源从中心走到边缘。
* **第二，基础设施的演变。**正因为应用就近部署的需求，基础设施正在从中心向边缘靠拢，形成靠近客户的三种边缘基础设施形态：现场边缘、近场边缘和云边缘，这三种基础设施分别提供不同的延时保证和资源，现场边缘的延时是 1-5 ms，近场边缘是 5-20 ms，云边缘是 20-40 ms。
* **第三，算力和网络的结合。**有了靠近用户的基础设施、广泛分布的网络和算力，企业因此产生了对最优算力访问链路的需求，期望能找到靠近客户的算力和靠近算力的存储，这就是算力和网络的融合。通过算网融合，可以为企业提供更好的云服务。

这三个业务诱因，驱动云计算向边缘迈进。

![](https://mmbiz.qpic.cn/mmbiz_png/VmZib2HH8icKibVUE2UAcErGnm5ibFGlpJicE7GDn9XaIBfx46XwRia864kehFUYdheH4YFYvafL4tppJHo9Y5F3qGGQ/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

除了业务诱因，我们也观察到了业务驱动力之外的技术演进背景。从应用架构的角度来看，当前应用将看到三类资源：

* **终端资源：**提供实时的服务响应，具备友好的硬件形态，可以是用户使用的手机、平板、车机等，能为应用提供最好的呈现，同时还具备通用的辅助算力；
* **中心资源：**提供弹性资源池，可以方便地进行数据计算和聚合，支持敏捷的开发流程；
* **边缘资源：**提供就近的接入服务，覆盖广域的城市和运营商，具备对整个网络的精确感知能力，可以快速找到就近的算力和资源。

传统的中心部署架构，已经不能充分利用云、边、端这三者的资源，不能充分发挥三者的组合优势，因此我们观察到应用正在从集中部署迈向云边端混合部署的新架构。

![](https://mmbiz.qpic.cn/mmbiz_png/VmZib2HH8icKibVUE2UAcErGnm5ibFGlpJicESSLTloQ8fMVbicia1URy578WXNeyQ1D7HReteicVxwuEjyqFibKPQHcQcQ/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

同时，云计算也开启了边缘时代。据 IDC 预估，到 2024 年底，全球在边缘计算上的开支将达到 2320 亿美元，另外，据 Gartner 预估，到 2025 年底，全球 75% 的企业生成数据将会在边缘产生和处理。另外，从市场发展上看，IDC 预估到 2026 年中国边缘云的市场增速年复合增长率可达到 40% 。在这样的蓬勃发展背后是越来越多业务和边缘的结合，这些业务的发展可分为三个阶段：萌芽期、爆发期、成熟期。随着时间的推移，像 vCDN、直播这类业务会趋于成熟，而像自动驾驶、AR 等业务将迎来爆发，共同推动边缘云的进一步扩张。

![](https://mmbiz.qpic.cn/mmbiz_png/VmZib2HH8icKibVUE2UAcErGnm5ibFGlpJicETun1ccBVbMMKp56LTBzhQMWJptkvd3Lk5KokTNJevwjg4VHr3gT55A/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

这里也跟大家简单介绍一下边缘云的发展历程。

* 阿卡迈在 1998 年首次提出了 CDN 的概念，从那之后，内容分发网络成为了 APP 、网站、客户端背后的基础服务，通过就近缓存内容，提升了数据的访问效率。
* 到了 2002 年，微软和 IBM 与阿卡迈合作，将 .Net 和 J2EE 服务部署到了CDN PoP 节点，这形成了最早的边缘计算的概念。
* 到 2009 年，CMU 提出了 Cloudlet 的概念，将 VM 与边缘基础设施结合，这就有了在边缘提供 IaaS 服务的雏形，到 2012 年，我们迎来了万物互联的物联网时代，也因此产生了处理海量数据的需求，于是雾计算、MEC 的概念相继出现，从那时到现在，我们迎来了云计算和边缘的结合。**边缘云，在端和中心云之间，提供弹性、轻量、低延时的云服务。**

![](https://mmbiz.qpic.cn/mmbiz_png/VmZib2HH8icKibVUE2UAcErGnm5ibFGlpJicE3rbDQYqVeIzbSjia1Ud2Kicmy3OBk8Bt3BOVGeT7RD2Dt0h2WyyFnXqA/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

#

# **2.边缘场景的技术挑战**

了解了整个边缘云业务状态和发展历程之后，再来聊聊发展背后对技术上的挑战。从整体看，边缘场景有四个挑战，分别是海量节点管控、小型化约束、弱网环境、复合场景。

* **挑战一：海量节点管控。**从宏观角度来看，要提供就近的算力和网络就要从地理位置上接近客户的业务，这意味着我们面对的是广域分布的物理资源。火山引擎边缘云在全球有 2500 多个节点，如何高效管理节点、如何调度节点上的异构资源，是关键挑战之一；
* **挑战二：小型化约束。**从节点本身来看，与传统中心云不同，单个边缘节点的资源是有限的，这就对我们管控的资源开销提出了要求，如何做到小型化、轻量化，如何做到最大限度售卖节点资源；
* **挑战三：弱网环境。**从网络环境上看，大多数边缘节点之间，以及节点和中心机房的连接，都采用公网通信，这导致了网络环境的问题，可能存在网络中断、连接不稳定的情况，也存在安全上的隐患；
* **挑战四：复合场景。**从业务维度来看的，当前面向的边缘业务场景比较复杂，需要技术具备较高灵活性，需要提供多形态算力支撑，包括虚拟机、裸金属、容器等等。还需要考虑不同硬件环境，比如 x86 arm，异构计算需要 GPU ，需要算力的 ASIC 。

![](https://mmbiz.qpic.cn/mmbiz_png/VmZib2HH8icKibVUE2UAcErGnm5ibFGlpJicEvv80mawgfKhBzyy1SCs056aqicGc7ppwq0YUiaymxSX5EgAkK1fGibOVw/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

##

## **2.1管理广域分布的边缘算力资源**

首先，我们来看看如何纳管、调度广域分布的算力资源？两个非常关键的因素：**抽象、编排**。抽象意味着标准化，从资源维度出发，足够好的抽象和标准化才能形成统一的资源池，不同的 CPU 型号也可以通过抽象和统一的指令集来提供。从服务维度出发，基于多数量节点，每个节点部署着不同异构服务，好的服务抽象可以将服务原子化，从而为部署和运维提供便利。基于良好的抽象和编排能力，就能实现资源和服务的标准、统一，以及服务的灵活组合，从而达到为客户提供差异化算力的目的。因此在管控关于分布的算力资源，好的抽象和编排能力很重要。

![](https://mmbiz.qpic.cn/mmbiz_png/VmZib2HH8icKibVUE2UAcErGnm5ibFGlpJicECJiajegsBjEpvgXmaooGEV44lnybwrIYOCmuggo1vuM8Jb6twYbkEiaA/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

##

## **2.2在节点内实现资源的最大化利用**

小型化是边缘场景特有的问题，相较于传统中心云环境，单个边缘节点的资源有限，如何在这个背景下为客户最大化提供可售卖资源就成了一个问题。要解决这个问题，有两个同时要做的事情：

* **第一点是按需混部。**每个节点可以按照业务需求发布算力和对应服务，例如不需要云盘就不用部署云盘，按需混部服务是做到小型化的路径之一。混部又包含两点，第一是算力的混部，虚拟机、容器实例、函数这些算力本身就是混部的，混合部署在同样的资源池上。其次是服务的混部，例如本地盘、云盘这类存储服务，VPC、LB 等网元服务，这些服务按照节点的需求混合部署，共享同个物理资源。算力和服务混部的底层依赖统一资源池和统一调度，也需要关联的资源隔离机制和对应系统实现。
* **第二点是在管控层面实现极致的轻量化。**这又有两个要点，第一点相对传统，是做边缘管控组件的轻量化，降低组件数量和组件的资源开销。另一点更重要，就是要做管控分层，把非必要逻辑从边缘抽离出来，形成中心/区域 + 边缘的多级管控形态，边缘仅保留数据缓存和基础能力，通过这种方式来大幅降低边缘开销。

![](https://mmbiz.qpic.cn/mmbiz_png/VmZib2HH8icKibVUE2UAcErGnm5ibFGlpJicEe6XfXxWBOHER00RrBdM49LxDlKmAymMUeavzPmXz5FFsbIJficK42sQ/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

##

## **2.3弱网环境下的服务连续性**

边缘节点之间、边缘节点与中心节点之间大多数采用公网连接。然而，公网链路上存在很多传输的不确定性，有可能存在传输链路抖动、机房故障、区域断网等情况，怎么在弱网环境下保证服务的连续性？依靠边缘的两个核心要点：

* **第一是边缘自治。**边缘自治意味在网络抖动/中断的情况下边缘集群仍能继续维持集群内算力服务运行。；
* **第****二是系统化的数据传输保障方案。**怎么保证云边服务之间、算力应用之间的网络通信稳定、可靠？这就需要系统化的解决方案 - 云边通道。云边通道在高可用维度提供在机房故障，网络链路故障等场景下的数据传输能力，同时也提供了鉴权和加解密能力保障了公网传输的数据安全。

![](https://mmbiz.qpic.cn/mmbiz_png/VmZib2HH8icKibVUE2UAcErGnm5ibFGlpJicEtEGRRNtkDMFibes62v7lLlUOI0A7FWXRvzJQ76wwAvx05p0NJdTPM6Q/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

##

## **2.4边缘业务场景的多形态算力需求**

为了支持边缘泛 CDN、云游戏、车联网、AIGC 等广泛应用场景，边缘侧需要提供虚拟机/裸金属/容器/函数多种算力形态，叠加底层异构算力资源，这也要求技术架构具备足够广的覆盖面和较高的灵活性。

![](https://mmbiz.qpic.cn/mmbiz_png/VmZib2HH8icKibVUE2UAcErGnm5ibFGlpJicEYeriaugZpzrVjkfUbwBGkqVwI79zPIBr3aD95Qic38icyTaeQlr6zKGicg/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

上述技术挑战促使着边缘技术架构的持续演进，大体可以分为三个阶段：

* **第一个阶段**是面向资源的传统虚拟化，主要方式是通过 hypervisor 和上层管控实现资源隔离，这里比较有代表性的是基于 OpenStack 的传统 IaaS 架构；
* **第二个阶段**是随着 K8s 兴起的云原生技术，借助云原生可以降低运维复杂度，实现面向应用的统一调度、统一编排，但是依然没法彻底应对上述边缘场景的技术挑战，这也就引出了架构演进的第三个阶段；
* **第三个阶段**是面向边缘场景和应用，通过将云原生与边缘特性结合，形成边缘独有的技术方案，也就是边缘原生，在火山引擎的落地实践，就是我们的边缘云原生操作系统。

![](https://mmbiz.qpic.cn/mmbiz_png/VmZib2HH8icKibVUE2UAcErGnm5ibFGlpJicEy0vjv7EICy6PdBnf3VvbicxFFbOHEhsNo6cUJWTEzC79ib1f1R5Gvl1Q/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

#

# **3.边缘云原生操作系统**

边缘云原生操作系统，统一纳管了字节跳动边缘计算硬件资源，在小型化、集成化、轻量化的基础上，为业务就近提供虚拟机、裸金属、容器等多形态算力，实现算力服务混合部署、跨区域弹性调度。

边缘云原生操作系统拥有 4 个核心特点：

* **统一资源纳管&调度：**纳管全球边缘云硬件资源，为边缘应用提供统一资源调度支撑
* **算力&服务按需混部：**按需混部单节点计算实例和关联服务，降低节点资源开销，提高服务灵活性
* **云边分层轻量化管控：**部分上移边缘管控逻辑，在保证自治能力的基础上最大化节点可售卖资源
* **云边&边边协同支持：**基于全球云网基础设施和云边、边边数据通道，提供可靠数据传输支持

![](https://mmbiz.qpic.cn/mmbiz_png/VmZib2HH8icKibVUE2UAcErGnm5ibFGlpJicE1Riapm405VNeI10iaCPr2DSImumRgQws4V9dgm4BLjrGPqhickXWKtrlA/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

从架构上来看，边缘云原生操作系统有八个组成部分：

* **编排中心：**面向应用、服务编排需求，编排中心提供集群编排、多应用编排、中间件编排、多集群管理等核心能力，基于这些能力，实现服务的按需混部和对客户交付侧的支撑；
* **调度中心：**调度中心通过在线、离线调度，实现对异构资源的池化和统一调配，保障资源交付效率及资源交付稳定性，支撑持续资源运营、治理；
* **可观测中心：**要掌控边缘离散分布的算力资源和支撑服务状态，系统提供的可观测能力就非常关键，可观测中心支持资源、服务、产品观测，提供一站式观测平台，支撑对外可观测产品和内部系统运维及质量保障；
* **运维中心：**基于编排中心、可观测中心能力，运维中心统一支撑云原生操作系统自身组件和上层算力应用日常运维和稳定性保障；
* **云边中间件：**提供中间件统一接入平台，具备云边通道等边缘场景核心能力，支撑云边、边边场景编排、运维、服务、数据多维度协同；
* **边缘轻量管控：**指算力产品底层依赖的计算、存储、网络管控，为了实现边缘的轻量化，实现了两个层面的工作，一个是分层管控，把业务逻辑、数据处理、数据持久化上移，另一个是精简管控逻辑本身；
* **边缘云原生套件：**这部分是定制的云原生组件，包含基础的 K8s、ETCD 等服务，定制化的工作一是保障组件在边缘场景下的安全性和稳定性，二是在资源占用和带宽占用维度对组件做的轻量化；
* **边缘轻量基础环境：**标准化的操作系统环境、内核、固件基线，包含在边缘场景下对操作系统层面进行的的轻量化裁剪，也包含支撑算力的高性能虚拟化实现；

在八大能力之下是底层的资源池，包括现场边缘、近场边缘、云边缘的硬件资源，在这之上是对外提供的不同形态的算力产品，包括边缘计算节点（虚拟机/裸金属）、边缘容器、边缘函数及周边服务，这些共同构成了**小型化、集成化、轻量化**的边缘云原生操作系统。

![](https://mmbiz.qpic.cn/mmbiz_png/VmZib2HH8icKibVUE2UAcErGnm5ibFGlpJicEpayy71KwMEibDf0MtuiapE94QJxpgMezf1OYLTWEGp7RJgXt8XPKaemA/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

##

## **3.1纳管边缘异构硬件，统一在离线资源调度**

...